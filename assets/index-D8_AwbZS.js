var xF=Object.defineProperty;var bF=(t,e,n)=>e in t?xF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lx=(t,e,n)=>bF(t,typeof e!="symbol"?e+"":e,n);function _F(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jx={exports:{}},Gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function EF(){if(ZN)return Gf;ZN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Gf.Fragment=e,Gf.jsx=n,Gf.jsxs=n,Gf}var eI;function TF(){return eI||(eI=1,jx.exports=EF()),jx.exports}var y=TF(),Ux={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function SF(){if(tI)return $e;tI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function _(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function I(K,ae,ve){this.props=K,this.context=ae,this.refs=w,this.updater=ve||A}I.prototype.isReactComponent={},I.prototype.setState=function(K,ae){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ae,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function O(){}O.prototype=I.prototype;function P(K,ae,ve){this.props=K,this.context=ae,this.refs=w,this.updater=ve||A}var B=P.prototype=new O;B.constructor=P,S(B,I.prototype),B.isPureReactComponent=!0;var L=Array.isArray;function z(){}var D={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(K,ae,ve){var xe=ve.ref;return{$$typeof:t,type:K,key:ae,ref:xe!==void 0?xe:null,props:ve}}function F(K,ae){return j(K.type,ae,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function $(K){var ae={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ve){return ae[ve]})}var U=/\/+/g;function de(K,ae){return typeof K=="object"&&K!==null&&K.key!=null?$(""+K.key):ae.toString(36)}function me(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(z,z):(K.status="pending",K.then(function(ae){K.status==="pending"&&(K.status="fulfilled",K.value=ae)},function(ae){K.status==="pending"&&(K.status="rejected",K.reason=ae)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function W(K,ae,ve,xe,Oe){var Ve=typeof K;(Ve==="undefined"||Ve==="boolean")&&(K=null);var je=!1;if(K===null)je=!0;else switch(Ve){case"bigint":case"string":case"number":je=!0;break;case"object":switch(K.$$typeof){case t:case e:je=!0;break;case h:return je=K._init,W(je(K._payload),ae,ve,xe,Oe)}}if(je)return Oe=Oe(K),je=xe===""?"."+de(K,0):xe,L(Oe)?(ve="",je!=null&&(ve=je.replace(U,"$&/")+"/"),W(Oe,ae,ve,"",function(ze){return ze})):Oe!=null&&(q(Oe)&&(Oe=F(Oe,ve+(Oe.key==null||K&&K.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+je)),ae.push(Oe)),1;je=0;var It=xe===""?".":xe+":";if(L(K))for(var le=0;le<K.length;le++)xe=K[le],Ve=It+de(xe,le),je+=W(xe,ae,ve,Ve,Oe);else if(le=_(K),typeof le=="function")for(K=le.call(K),le=0;!(xe=K.next()).done;)xe=xe.value,Ve=It+de(xe,le++),je+=W(xe,ae,ve,Ve,Oe);else if(Ve==="object"){if(typeof K.then=="function")return W(me(K),ae,ve,xe,Oe);throw ae=String(K),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return je}function oe(K,ae,ve){if(K==null)return K;var xe=[],Oe=0;return W(K,xe,"","",function(Ve){return ae.call(ve,Ve,Oe++)}),xe}function ge(K){if(K._status===-1){var ae=K._result;ae=ae(),ae.then(function(ve){(K._status===0||K._status===-1)&&(K._status=1,K._result=ve)},function(ve){(K._status===0||K._status===-1)&&(K._status=2,K._result=ve)}),K._status===-1&&(K._status=0,K._result=ae)}if(K._status===1)return K._result.default;throw K._result}var Te=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},De={map:oe,forEach:function(K,ae,ve){oe(K,function(){ae.apply(this,arguments)},ve)},count:function(K){var ae=0;return oe(K,function(){ae++}),ae},toArray:function(K){return oe(K,function(ae){return ae})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return $e.Activity=p,$e.Children=De,$e.Component=I,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=P,$e.StrictMode=r,$e.Suspense=c,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,$e.__COMPILER_RUNTIME={__proto__:null,c:function(K){return D.H.useMemoCache(K)}},$e.cache=function(K){return function(){return K.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(K,ae,ve){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var xe=S({},K.props),Oe=K.key;if(ae!=null)for(Ve in ae.key!==void 0&&(Oe=""+ae.key),ae)!k.call(ae,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ae.ref===void 0||(xe[Ve]=ae[Ve]);var Ve=arguments.length-2;if(Ve===1)xe.children=ve;else if(1<Ve){for(var je=Array(Ve),It=0;It<Ve;It++)je[It]=arguments[It+2];xe.children=je}return j(K.type,Oe,xe)},$e.createContext=function(K){return K={$$typeof:s,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},$e.createElement=function(K,ae,ve){var xe,Oe={},Ve=null;if(ae!=null)for(xe in ae.key!==void 0&&(Ve=""+ae.key),ae)k.call(ae,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Oe[xe]=ae[xe]);var je=arguments.length-2;if(je===1)Oe.children=ve;else if(1<je){for(var It=Array(je),le=0;le<je;le++)It[le]=arguments[le+2];Oe.children=It}if(K&&K.defaultProps)for(xe in je=K.defaultProps,je)Oe[xe]===void 0&&(Oe[xe]=je[xe]);return j(K,Ve,Oe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(K){return{$$typeof:u,render:K}},$e.isValidElement=q,$e.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:ge}},$e.memo=function(K,ae){return{$$typeof:f,type:K,compare:ae===void 0?null:ae}},$e.startTransition=function(K){var ae=D.T,ve={};D.T=ve;try{var xe=K(),Oe=D.S;Oe!==null&&Oe(ve,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(z,Te)}catch(Ve){Te(Ve)}finally{ae!==null&&ve.types!==null&&(ae.types=ve.types),D.T=ae}},$e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},$e.use=function(K){return D.H.use(K)},$e.useActionState=function(K,ae,ve){return D.H.useActionState(K,ae,ve)},$e.useCallback=function(K,ae){return D.H.useCallback(K,ae)},$e.useContext=function(K){return D.H.useContext(K)},$e.useDebugValue=function(){},$e.useDeferredValue=function(K,ae){return D.H.useDeferredValue(K,ae)},$e.useEffect=function(K,ae){return D.H.useEffect(K,ae)},$e.useEffectEvent=function(K){return D.H.useEffectEvent(K)},$e.useId=function(){return D.H.useId()},$e.useImperativeHandle=function(K,ae,ve){return D.H.useImperativeHandle(K,ae,ve)},$e.useInsertionEffect=function(K,ae){return D.H.useInsertionEffect(K,ae)},$e.useLayoutEffect=function(K,ae){return D.H.useLayoutEffect(K,ae)},$e.useMemo=function(K,ae){return D.H.useMemo(K,ae)},$e.useOptimistic=function(K,ae){return D.H.useOptimistic(K,ae)},$e.useReducer=function(K,ae,ve){return D.H.useReducer(K,ae,ve)},$e.useRef=function(K){return D.H.useRef(K)},$e.useState=function(K){return D.H.useState(K)},$e.useSyncExternalStore=function(K,ae,ve){return D.H.useSyncExternalStore(K,ae,ve)},$e.useTransition=function(){return D.H.useTransition()},$e.version="19.2.3",$e}var nI;function Sc(){return nI||(nI=1,Ux.exports=SF()),Ux.exports}var C=Sc();const MT=ka(C),wF=_F({__proto__:null,default:MT},[C]);var Vx={exports:{}},Kf={},Bx={exports:{}},zx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function AF(){return rI||(rI=1,(function(t){function e(W,oe){var ge=W.length;W.push(oe);e:for(;0<ge;){var Te=ge-1>>>1,De=W[Te];if(0<i(De,oe))W[Te]=oe,W[ge]=De,ge=Te;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],ge=W.pop();if(ge!==oe){W[0]=ge;e:for(var Te=0,De=W.length,K=De>>>1;Te<K;){var ae=2*(Te+1)-1,ve=W[ae],xe=ae+1,Oe=W[xe];if(0>i(ve,ge))xe<De&&0>i(Oe,ve)?(W[Te]=Oe,W[xe]=ge,Te=xe):(W[Te]=ve,W[ae]=ge,Te=ae);else if(xe<De&&0>i(Oe,ge))W[Te]=Oe,W[xe]=ge,Te=xe;else break e}}return oe}function i(W,oe){var ge=W.sortIndex-oe.sortIndex;return ge!==0?ge:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,_=!1,A=!1,S=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=W)r(f),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(f)}}function L(W){if(S=!1,B(W),!A)if(n(c)!==null)A=!0,z||(z=!0,$());else{var oe=n(f);oe!==null&&me(L,oe.startTime-W)}}var z=!1,D=-1,k=5,j=-1;function F(){return w?!0:!(t.unstable_now()-j<k)}function q(){if(w=!1,z){var W=t.unstable_now();j=W;var oe=!0;try{e:{A=!1,S&&(S=!1,O(D),D=-1),_=!0;var ge=g;try{t:{for(B(W),p=n(c);p!==null&&!(p.expirationTime>W&&F());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,g=p.priorityLevel;var De=Te(p.expirationTime<=W);if(W=t.unstable_now(),typeof De=="function"){p.callback=De,B(W),oe=!0;break t}p===n(c)&&r(c),B(W)}else r(c);p=n(c)}if(p!==null)oe=!0;else{var K=n(f);K!==null&&me(L,K.startTime-W),oe=!1}}break e}finally{p=null,g=ge,_=!1}oe=void 0}}finally{oe?$():z=!1}}}var $;if(typeof P=="function")$=function(){P(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,de=U.port2;U.port1.onmessage=q,$=function(){de.postMessage(null)}}else $=function(){I(q,0)};function me(W,oe){D=I(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var oe=3;break;default:oe=g}var ge=g;g=oe;try{return W()}finally{g=ge}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=g;g=W;try{return oe()}finally{g=ge}},t.unstable_scheduleCallback=function(W,oe,ge){var Te=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Te+ge:Te):ge=Te,W){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ge+De,W={id:h++,callback:oe,priorityLevel:W,startTime:ge,expirationTime:De,sortIndex:-1},ge>Te?(W.sortIndex=ge,e(f,W),n(c)===null&&W===n(f)&&(S?(O(D),D=-1):S=!0,me(L,ge-Te))):(W.sortIndex=De,e(c,W),A||_||(A=!0,z||(z=!0,$()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var oe=g;return function(){var ge=g;g=oe;try{return W.apply(this,arguments)}finally{g=ge}}}})(zx)),zx}var iI;function CF(){return iI||(iI=1,Bx.exports=AF()),Bx.exports}var Fx={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function NF(){if(aI)return nr;aI=1;var t=Sc();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},nr.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},nr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},nr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},nr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},nr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},nr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},nr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},nr.requestFormReset=function(c){r.d.r(c)},nr.unstable_batchedUpdates=function(c,f){return c(f)},nr.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},nr.useFormStatus=function(){return s.H.useHostTransitionStatus()},nr.version="19.2.3",nr}var oI;function i4(){if(oI)return Fx.exports;oI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fx.exports=NF(),Fx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI;function IF(){if(sI)return Kf;sI=1;var t=CF(),e=Sc(),n=i4();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var E=d.return;if(E===null)break;var T=E.alternate;if(T===null){if(m=E.return,m!==null){d=m;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===d)return c(E),o;if(T===m)return c(E),l;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=E,m=T;else{for(var R=!1,V=E.child;V;){if(V===d){R=!0,d=E,m=T;break}if(V===m){R=!0,m=E,d=T;break}V=V.sibling}if(!R){for(V=T.child;V;){if(V===d){R=!0,d=T,m=E;break}if(V===m){R=!0,m=T,d=E;break}V=V.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case I:return"Profiler";case w:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList";case j:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case P:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case B:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return l=o.displayName||null,l!==null?l:de(o.type)||"Memo";case k:l=o._payload,o=o._init;try{return de(o(l))}catch{}}return null}var me=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Te=[],De=-1;function K(o){return{current:o}}function ae(o){0>De||(o.current=Te[De],Te[De]=null,De--)}function ve(o,l){De++,Te[De]=o.current,o.current=l}var xe=K(null),Oe=K(null),Ve=K(null),je=K(null);function It(o,l){switch(ve(Ve,l),ve(Oe,o),ve(xe,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?EN(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=EN(l),o=TN(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ae(xe),ve(xe,o)}function le(){ae(xe),ae(Oe),ae(Ve)}function ze(o){o.memoizedState!==null&&ve(je,o);var l=xe.current,d=TN(l,o.type);l!==d&&(ve(Oe,o),ve(xe,d))}function ue(o){Oe.current===o&&(ae(xe),ae(Oe)),je.current===o&&(ae(je),Ff._currentValue=ge)}var Z,_e;function be(o){if(Z===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Z=l&&l[1]||"",_e=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+o+_e}var Se=!1;function We(o,l){if(!o||Se)return"";Se=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var ne=ie}Reflect.construct(o,[],fe)}else{try{fe.call()}catch(ie){ne=ie}o.call(fe.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(fe=o())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),R=T[0],V=T[1];if(R&&V){var G=R.split(`
`),ee=V.split(`
`);for(E=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;E<ee.length&&!ee[E].includes("DetermineComponentFrameRoot");)E++;if(m===G.length||E===ee.length)for(m=G.length-1,E=ee.length-1;1<=m&&0<=E&&G[m]!==ee[E];)E--;for(;1<=m&&0<=E;m--,E--)if(G[m]!==ee[E]){if(m!==1||E!==1)do if(m--,E--,0>E||G[m]!==ee[E]){var se=`
`+G[m].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=m&&0<=E);break}}}finally{Se=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?be(d):""}function $t(o,l){switch(o.tag){case 26:case 27:case 5:return be(o.type);case 16:return be("Lazy");case 13:return o.child!==l&&l!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return We(o.type,!1);case 11:return We(o.type.render,!1);case 1:return We(o.type,!0);case 31:return be("Activity");default:return""}}function fr(o){try{var l="",d=null;do l+=$t(o,d),d=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Yt=Object.prototype.hasOwnProperty,tn=t.unstable_scheduleCallback,Qi=t.unstable_cancelCallback,$c=t.unstable_shouldYield,ja=t.unstable_requestPaint,Mn=t.unstable_now,Zi=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,Hc=t.unstable_UserBlockingPriority,Lo=t.unstable_NormalPriority,Vy=t.unstable_LowPriority,Nh=t.unstable_IdlePriority,Ih=t.log,Rh=t.unstable_setDisableYieldValue,Ai=null,$n=null;function ei(o){if(typeof Ih=="function"&&Rh(o),$n&&typeof $n.setStrictMode=="function")try{$n.setStrictMode(Ai,o)}catch{}}var nn=Math.clz32?Math.clz32:Mh,Ph=Math.log,nu=Math.LN2;function Mh(o){return o>>>=0,o===0?32:31-(Ph(o)/nu|0)|0}var ea=256,Fs=262144,un=4194304;function ta(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function na(o,l,d){var m=o.pendingLanes;if(m===0)return 0;var E=0,T=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var V=m&134217727;return V!==0?(m=V&~T,m!==0?E=ta(m):(R&=V,R!==0?E=ta(R):d||(d=V&~o,d!==0&&(E=ta(d))))):(V=m&~T,V!==0?E=ta(V):R!==0?E=ta(R):d||(d=m&~o,d!==0&&(E=ta(d)))),E===0?0:l!==0&&l!==E&&(l&T)===0&&(T=E&-E,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:E}function Ci(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function By(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dh(){var o=un;return un<<=1,(un&62914560)===0&&(un=4194304),o}function ra(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function qs(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function zy(o,l,d,m,E,T){var R=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var V=o.entanglements,G=o.expirationTimes,ee=o.hiddenUpdates;for(d=R&~d;0<d;){var se=31-nn(d),fe=1<<se;V[se]=0,G[se]=-1;var ne=ee[se];if(ne!==null)for(ee[se]=null,se=0;se<ne.length;se++){var ie=ne[se];ie!==null&&(ie.lane&=-536870913)}d&=~fe}m!==0&&$s(o,m,0),T!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=T&~(R&~l))}function $s(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-nn(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function Gc(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-nn(d),E=1<<m;E&l|o[m]&l&&(o[m]|=l),d&=~E}}function Kc(o,l){var d=l&-l;return d=(d&42)!==0?1:Hs(d),(d&(o.suspendedLanes|l))!==0?0:d}function Hs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ua(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Oh(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:GN(o.type))}function Ni(o,l){var d=oe.p;try{return oe.p=o,l()}finally{oe.p=d}}var Ii=Math.random().toString(36).slice(2),cn="__reactFiber$"+Ii,Dn="__reactProps$"+Ii,ia="__reactContainer$"+Ii,ru="__reactEvents$"+Ii,Fy="__reactListeners$"+Ii,kh="__reactHandles$"+Ii,Lh="__reactResources$"+Ii,aa="__reactMarker$"+Ii;function iu(o){delete o[cn],delete o[Dn],delete o[ru],delete o[Fy],delete o[kh]}function oa(o){var l=o[cn];if(l)return l;for(var d=o.parentNode;d;){if(l=d[ia]||d[cn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=RN(o);o!==null;){if(d=o[cn])return d;o=RN(o)}return l}o=d,d=o.parentNode}return null}function ti(o){if(o=o[cn]||o[ia]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Or(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function sa(o){var l=o[Lh];return l||(l=o[Lh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function fn(o){o[aa]=!0}var Yc=new Set,Wc={};function la(o,l){ua(o,l),ua(o+"Capture",l)}function ua(o,l){for(Wc[o]=l,o=0;o<l.length;o++)Yc.add(l[o])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Qc={};function jh(o){return Yt.call(Qc,o)?!0:Yt.call(Xc,o)?!1:Jc.test(o)?Qc[o]=!0:(Xc[o]=!0,!1)}function au(o,l,d){if(jh(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function kr(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function dn(o,l,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+m)}}function On(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function jo(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Zc(o,l,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,T=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return E.call(this)},set:function(R){d=""+R,T.call(this,R)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function mt(o){if(!o._valueTracker){var l=jo(o)?"checked":"value";o._valueTracker=Zc(o,l,""+o[l])}}function Gs(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=jo(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function ca(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ks=/[\n"\\]/g;function _r(o){return o.replace(Ks,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ou(o,l,d,m,E,T,R,V){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+On(l)):o.value!==""+On(l)&&(o.value=""+On(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?ef(o,R,On(l)):d!=null?ef(o,R,On(d)):m!=null&&o.removeAttribute("value"),E==null&&T!=null&&(o.defaultChecked=!!T),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.name=""+On(V):o.removeAttribute("name")}function Uh(o,l,d,m,E,T,R,V){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){mt(o);return}d=d!=null?""+On(d):"",l=l!=null?""+On(l):d,V||l===o.value||(o.value=l),o.defaultValue=l}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=V?o.checked:!!m,o.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),mt(o)}function ef(o,l,d){l==="number"&&ca(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Uo(o,l,d,m){if(o=o.options,l){l={};for(var E=0;E<d.length;E++)l["$"+d[E]]=!0;for(d=0;d<o.length;d++)E=l.hasOwnProperty("$"+o[d].value),o[d].selected!==E&&(o[d].selected=E),E&&m&&(o[d].defaultSelected=!0)}else{for(d=""+On(d),l=null,E=0;E<o.length;E++){if(o[E].value===d){o[E].selected=!0,m&&(o[E].defaultSelected=!0);return}l!==null||o[E].disabled||(l=o[E])}l!==null&&(l.selected=!0)}}function Vh(o,l,d){if(l!=null&&(l=""+On(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+On(d):""}function Vo(o,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(me(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=On(l),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),mt(o)}function Er(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tf(o,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,d):typeof d!="number"||d===0||Bh.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function nf(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var E in l)m=l[E],l.hasOwnProperty(E)&&d[E]!==m&&tf(o,E,m)}else for(var T in l)l.hasOwnProperty(T)&&tf(o,T,l[T])}function su(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(o){return Bo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ri(){}var rf=null;function ni(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zo=null,fa=null;function Ys(o){var l=ti(o);if(l&&(o=l.stateNode)){var d=o[Dn]||null;e:switch(o=l.stateNode,l.type){case"input":if(ou(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+_r(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var E=m[Dn]||null;if(!E)throw Error(r(90));ou(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===o.form&&Gs(m)}break e;case"textarea":Vh(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Uo(o,!!d.multiple,l,!1)}}}var uu=!1;function Fo(o,l,d){if(uu)return o(l,d);uu=!0;try{var m=o(l);return m}finally{if(uu=!1,(zo!==null||fa!==null)&&(Op(),zo&&(l=zo,o=fa,fa=zo=null,Ys(l),o)))for(l=0;l<o.length;l++)Ys(o[l])}}function Pi(o,l){var d=o.stateNode;if(d===null)return null;var m=d[Dn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(ri)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{Ws=!1}var da=null,af=null,Js=null;function of(){if(Js)return Js;var o,l=af,d=l.length,m,E="value"in da?da.value:da.textContent,T=E.length;for(o=0;o<d&&l[o]===E[o];o++);var R=d-o;for(m=1;m<=R&&l[d-m]===E[T-m];m++);return Js=E.slice(o,1<m?1-m:void 0)}function Xs(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Va(){return!0}function Mi(){return!1}function Hn(o){function l(d,m,E,T,R){this._reactName=d,this._targetInst=E,this.type=m,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(d=o[V],this[V]=d?d(T):T[V]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Va:Mi,this.isPropagationStopped=Mi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),l}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Hn(Ba),qo=p({},Ba,{view:0,detail:0}),sf=Hn(qo),$o,cu,pa,fu=p({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pa&&(pa&&o.type==="mousemove"?($o=o.screenX-pa.screenX,cu=o.screenY-pa.screenY):cu=$o=0,pa=o),$o)},movementY:function(o){return"movementY"in o?o.movementY:cu}}),lf=Hn(fu),Qs=p({},fu,{dataTransfer:0}),Fh=Hn(Qs),qh=p({},qo,{relatedTarget:0}),Zs=Hn(qh),uf=p({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),$h=Hn(uf),du=p({},Ba,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hh=Hn(du),Gh=p({},Ba,{data:0}),ma=Hn(Gh),Kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jh(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Wh[o])?!!l[o]:!1}function Ho(){return Jh}var dr=p({},qo,{key:function(o){if(o.key){var l=Kh[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Xs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Yh[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(o){return o.type==="keypress"?Xs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Xs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xh=Hn(dr),Qh=p({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Hn(Qh),b=p({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),N=Hn(b),M=p({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=Hn(M),X=p({},fu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Hn(X),ye=p({},Ba,{newState:0,oldState:0}),Ge=Hn(ye),rn=[9,13,27,32],dt=ri&&"CompositionEvent"in window,Lt=null;ri&&"documentMode"in document&&(Lt=document.documentMode);var ii=ri&&"TextEvent"in window&&!Lt,ga=ri&&(!dt||Lt&&8<Lt&&11>=Lt),Di=" ",Oi=!1;function el(o,l){switch(o){case"keyup":return rn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var pu=!1;function qB(o,l){switch(o){case"compositionend":return hu(l);case"keypress":return l.which!==32?null:(Oi=!0,Di);case"textInput":return o=l.data,o===Di&&Oi?null:o;default:return null}}function $B(o,l){if(pu)return o==="compositionend"||!dt&&el(o,l)?(o=of(),Js=af=da=null,pu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ga&&l.locale!=="ko"?null:l.data;default:return null}}var HB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!HB[o.type]:l==="textarea"}function O1(o,l,d,m){zo?fa?fa.push(m):fa=[m]:zo=m,l=zp(l,"onChange"),0<l.length&&(d=new ha("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var cf=null,ff=null;function GB(o){gN(o,0)}function Zh(o){var l=Or(o);if(Gs(l))return o}function k1(o,l){if(o==="change")return l}var L1=!1;if(ri){var qy;if(ri){var $y="oninput"in document;if(!$y){var j1=document.createElement("div");j1.setAttribute("oninput","return;"),$y=typeof j1.oninput=="function"}qy=$y}else qy=!1;L1=qy&&(!document.documentMode||9<document.documentMode)}function U1(){cf&&(cf.detachEvent("onpropertychange",V1),ff=cf=null)}function V1(o){if(o.propertyName==="value"&&Zh(ff)){var l=[];O1(l,ff,o,ni(o)),Fo(GB,l)}}function KB(o,l,d){o==="focusin"?(U1(),cf=l,ff=d,cf.attachEvent("onpropertychange",V1)):o==="focusout"&&U1()}function YB(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Zh(ff)}function WB(o,l){if(o==="click")return Zh(l)}function JB(o,l){if(o==="input"||o==="change")return Zh(l)}function XB(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Lr=typeof Object.is=="function"?Object.is:XB;function df(o,l){if(Lr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var E=d[m];if(!Yt.call(l,E)||!Lr(o[E],l[E]))return!1}return!0}function B1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function z1(o,l){var d=B1(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=B1(d)}}function F1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?F1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function q1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=ca(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=ca(o.document)}return l}function Hy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var QB=ri&&"documentMode"in document&&11>=document.documentMode,mu=null,Gy=null,hf=null,Ky=!1;function $1(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ky||mu==null||mu!==ca(m)||(m=mu,"selectionStart"in m&&Hy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),hf&&df(hf,m)||(hf=m,m=zp(Gy,"onSelect"),0<m.length&&(l=new ha("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=mu)))}function tl(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var gu={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionrun:tl("Transition","TransitionRun"),transitionstart:tl("Transition","TransitionStart"),transitioncancel:tl("Transition","TransitionCancel"),transitionend:tl("Transition","TransitionEnd")},Yy={},H1={};ri&&(H1=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function nl(o){if(Yy[o])return Yy[o];if(!gu[o])return o;var l=gu[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in H1)return Yy[o]=l[d];return o}var G1=nl("animationend"),K1=nl("animationiteration"),Y1=nl("animationstart"),ZB=nl("transitionrun"),ez=nl("transitionstart"),tz=nl("transitioncancel"),W1=nl("transitionend"),J1=new Map,Wy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wy.push("scrollEnd");function ki(o,l){J1.set(o,l),la(l,[o])}var ep=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ai=[],vu=0,Jy=0;function tp(){for(var o=vu,l=Jy=vu=0;l<o;){var d=ai[l];ai[l++]=null;var m=ai[l];ai[l++]=null;var E=ai[l];ai[l++]=null;var T=ai[l];if(ai[l++]=null,m!==null&&E!==null){var R=m.pending;R===null?E.next=E:(E.next=R.next,R.next=E),m.pending=E}T!==0&&X1(d,E,T)}}function np(o,l,d,m){ai[vu++]=o,ai[vu++]=l,ai[vu++]=d,ai[vu++]=m,Jy|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Xy(o,l,d,m){return np(o,l,d,m),rp(o)}function rl(o,l){return np(o,null,null,l),rp(o)}function X1(o,l,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var E=!1,T=o.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(E=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,E&&l!==null&&(E=31-nn(d),o=T.hiddenUpdates,m=o[E],m===null?o[E]=[l]:m.push(l),l.lane=d|536870912),T):null}function rp(o){if(50<kf)throw kf=0,ox=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var yu={};function nz(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(o,l,d,m){return new nz(o,l,d,m)}function Qy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fa(o,l){var d=o.alternate;return d===null?(d=jr(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function Q1(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function ip(o,l,d,m,E,T){var R=0;if(m=o,typeof o=="function")Qy(o)&&(R=1);else if(typeof o=="string")R=sF(o,d,xe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case j:return o=jr(31,d,l,E),o.elementType=j,o.lanes=T,o;case S:return il(d.children,E,T,l);case w:R=8,E|=24;break;case I:return o=jr(12,d,l,E|2),o.elementType=I,o.lanes=T,o;case L:return o=jr(13,d,l,E),o.elementType=L,o.lanes=T,o;case z:return o=jr(19,d,l,E),o.elementType=z,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:R=10;break e;case O:R=9;break e;case B:R=11;break e;case D:R=14;break e;case k:R=16,m=null;break e}R=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=jr(R,d,l,E),l.elementType=o,l.type=m,l.lanes=T,l}function il(o,l,d,m){return o=jr(7,o,m,l),o.lanes=d,o}function Zy(o,l,d){return o=jr(6,o,null,l),o.lanes=d,o}function Z1(o){var l=jr(18,null,null,0);return l.stateNode=o,l}function e0(o,l,d){return l=jr(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var eA=new WeakMap;function oi(o,l){if(typeof o=="object"&&o!==null){var d=eA.get(o);return d!==void 0?d:(l={value:o,source:l,stack:fr(l)},eA.set(o,l),l)}return{value:o,source:l,stack:fr(l)}}var xu=[],bu=0,ap=null,pf=0,si=[],li=0,Go=null,va=1,ya="";function qa(o,l){xu[bu++]=pf,xu[bu++]=ap,ap=o,pf=l}function tA(o,l,d){si[li++]=va,si[li++]=ya,si[li++]=Go,Go=o;var m=va;o=ya;var E=32-nn(m)-1;m&=~(1<<E),d+=1;var T=32-nn(l)+E;if(30<T){var R=E-E%5;T=(m&(1<<R)-1).toString(32),m>>=R,E-=R,va=1<<32-nn(l)+E|d<<E|m,ya=T+o}else va=1<<T|d<<E|m,ya=o}function t0(o){o.return!==null&&(qa(o,1),tA(o,1,0))}function n0(o){for(;o===ap;)ap=xu[--bu],xu[bu]=null,pf=xu[--bu],xu[bu]=null;for(;o===Go;)Go=si[--li],si[li]=null,ya=si[--li],si[li]=null,va=si[--li],si[li]=null}function nA(o,l){si[li++]=va,si[li++]=ya,si[li++]=Go,va=l.id,ya=l.overflow,Go=o}var Gn=null,Rt=null,rt=!1,Ko=null,ui=!1,r0=Error(r(519));function Yo(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mf(oi(l,o)),r0}function rA(o){var l=o.stateNode,d=o.type,m=o.memoizedProps;switch(l[cn]=o,l[Dn]=m,d){case"dialog":Xe("cancel",l),Xe("close",l);break;case"iframe":case"object":case"embed":Xe("load",l);break;case"video":case"audio":for(d=0;d<jf.length;d++)Xe(jf[d],l);break;case"source":Xe("error",l);break;case"img":case"image":case"link":Xe("error",l),Xe("load",l);break;case"details":Xe("toggle",l);break;case"input":Xe("invalid",l),Uh(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Xe("invalid",l);break;case"textarea":Xe("invalid",l),Vo(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||bN(l.textContent,d)?(m.popover!=null&&(Xe("beforetoggle",l),Xe("toggle",l)),m.onScroll!=null&&Xe("scroll",l),m.onScrollEnd!=null&&Xe("scrollend",l),m.onClick!=null&&(l.onclick=Ri),l=!0):l=!1,l||Yo(o,!0)}function iA(o){for(Gn=o.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Gn=Gn.return}}function _u(o){if(o!==Gn)return!1;if(!rt)return iA(o),rt=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||_x(o.type,o.memoizedProps)),d=!d),d&&Rt&&Yo(o),iA(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rt=IN(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rt=IN(o)}else l===27?(l=Rt,ls(o.type)?(o=Ax,Ax=null,Rt=o):Rt=l):Rt=Gn?fi(o.stateNode.nextSibling):null;return!0}function al(){Rt=Gn=null,rt=!1}function i0(){var o=Ko;return o!==null&&(Ar===null?Ar=o:Ar.push.apply(Ar,o),Ko=null),o}function mf(o){Ko===null?Ko=[o]:Ko.push(o)}var a0=K(null),ol=null,$a=null;function Wo(o,l,d){ve(a0,l._currentValue),l._currentValue=d}function Ha(o){o._currentValue=a0.current,ae(a0)}function o0(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function s0(o,l,d,m){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var T=E.dependencies;if(T!==null){var R=E.child;T=T.firstContext;e:for(;T!==null;){var V=T;T=E;for(var G=0;G<l.length;G++)if(V.context===l[G]){T.lanes|=d,V=T.alternate,V!==null&&(V.lanes|=d),o0(T.return,d,o),m||(R=null);break e}T=V.next}}else if(E.tag===18){if(R=E.return,R===null)throw Error(r(341));R.lanes|=d,T=R.alternate,T!==null&&(T.lanes|=d),o0(R,d,o),R=null}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===o){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}}function Eu(o,l,d,m){o=null;for(var E=l,T=!1;E!==null;){if(!T){if((E.flags&524288)!==0)T=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var R=E.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var V=E.type;Lr(E.pendingProps.value,R.value)||(o!==null?o.push(V):o=[V])}}else if(E===je.current){if(R=E.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Ff):o=[Ff])}E=E.return}o!==null&&s0(l,o,d,m),l.flags|=262144}function op(o){for(o=o.firstContext;o!==null;){if(!Lr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function sl(o){ol=o,$a=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Kn(o){return aA(ol,o)}function sp(o,l){return ol===null&&sl(o),aA(o,l)}function aA(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},$a===null){if(o===null)throw Error(r(308));$a=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else $a=$a.next=l;return d}var rz=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},iz=t.unstable_scheduleCallback,az=t.unstable_NormalPriority,hn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l0(){return{controller:new rz,data:new Map,refCount:0}}function gf(o){o.refCount--,o.refCount===0&&iz(az,function(){o.controller.abort()})}var vf=null,u0=0,Tu=0,Su=null;function oz(o,l){if(vf===null){var d=vf=[];u0=0,Tu=dx(),Su={status:"pending",value:void 0,then:function(m){d.push(m)}}}return u0++,l.then(oA,oA),l}function oA(){if(--u0===0&&vf!==null){Su!==null&&(Su.status="fulfilled");var o=vf;vf=null,Tu=0,Su=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function sz(o,l){var d=[],m={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var E=0;E<d.length;E++)(0,d[E])(l)},function(E){for(m.status="rejected",m.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),m}var sA=W.S;W.S=function(o,l){$C=Mn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&oz(o,l),sA!==null&&sA(o,l)};var ll=K(null);function c0(){var o=ll.current;return o!==null?o:wt.pooledCache}function lp(o,l){l===null?ve(ll,ll.current):ve(ll,l.pool)}function lA(){var o=c0();return o===null?null:{parent:hn._currentValue,pool:o}}var wu=Error(r(460)),f0=Error(r(474)),up=Error(r(542)),cp={then:function(){}};function uA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function cA(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Ri,Ri),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,dA(o),o;default:if(typeof l.status=="string")l.then(Ri,Ri);else{if(o=wt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=m}},function(m){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,dA(o),o}throw cl=l,wu}}function ul(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(cl=d,wu):d}}var cl=null;function fA(){if(cl===null)throw Error(r(459));var o=cl;return cl=null,o}function dA(o){if(o===wu||o===up)throw Error(r(483))}var Au=null,yf=0;function fp(o){var l=yf;return yf+=1,Au===null&&(Au=[]),cA(Au,o,l)}function xf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function dp(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function hA(o){function l(J,Y){if(o){var Q=J.deletions;Q===null?(J.deletions=[Y],J.flags|=16):Q.push(Y)}}function d(J,Y){if(!o)return null;for(;Y!==null;)l(J,Y),Y=Y.sibling;return null}function m(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function E(J,Y){return J=Fa(J,Y),J.index=0,J.sibling=null,J}function T(J,Y,Q){return J.index=Q,o?(Q=J.alternate,Q!==null?(Q=Q.index,Q<Y?(J.flags|=67108866,Y):Q):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function R(J){return o&&J.alternate===null&&(J.flags|=67108866),J}function V(J,Y,Q,ce){return Y===null||Y.tag!==6?(Y=Zy(Q,J.mode,ce),Y.return=J,Y):(Y=E(Y,Q),Y.return=J,Y)}function G(J,Y,Q,ce){var ke=Q.type;return ke===S?se(J,Y,Q.props.children,ce,Q.key):Y!==null&&(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&ul(ke)===Y.type)?(Y=E(Y,Q.props),xf(Y,Q),Y.return=J,Y):(Y=ip(Q.type,Q.key,Q.props,null,J.mode,ce),xf(Y,Q),Y.return=J,Y)}function ee(J,Y,Q,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=e0(Q,J.mode,ce),Y.return=J,Y):(Y=E(Y,Q.children||[]),Y.return=J,Y)}function se(J,Y,Q,ce,ke){return Y===null||Y.tag!==7?(Y=il(Q,J.mode,ce,ke),Y.return=J,Y):(Y=E(Y,Q),Y.return=J,Y)}function fe(J,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Zy(""+Y,J.mode,Q),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Q=ip(Y.type,Y.key,Y.props,null,J.mode,Q),xf(Q,Y),Q.return=J,Q;case A:return Y=e0(Y,J.mode,Q),Y.return=J,Y;case k:return Y=ul(Y),fe(J,Y,Q)}if(me(Y)||$(Y))return Y=il(Y,J.mode,Q,null),Y.return=J,Y;if(typeof Y.then=="function")return fe(J,fp(Y),Q);if(Y.$$typeof===P)return fe(J,sp(J,Y),Q);dp(J,Y)}return null}function ne(J,Y,Q,ce){var ke=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ke!==null?null:V(J,Y,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===ke?G(J,Y,Q,ce):null;case A:return Q.key===ke?ee(J,Y,Q,ce):null;case k:return Q=ul(Q),ne(J,Y,Q,ce)}if(me(Q)||$(Q))return ke!==null?null:se(J,Y,Q,ce,null);if(typeof Q.then=="function")return ne(J,Y,fp(Q),ce);if(Q.$$typeof===P)return ne(J,Y,sp(J,Q),ce);dp(J,Q)}return null}function ie(J,Y,Q,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return J=J.get(Q)||null,V(Y,J,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return J=J.get(ce.key===null?Q:ce.key)||null,G(Y,J,ce,ke);case A:return J=J.get(ce.key===null?Q:ce.key)||null,ee(Y,J,ce,ke);case k:return ce=ul(ce),ie(J,Y,Q,ce,ke)}if(me(ce)||$(ce))return J=J.get(Q)||null,se(Y,J,ce,ke,null);if(typeof ce.then=="function")return ie(J,Y,Q,fp(ce),ke);if(ce.$$typeof===P)return ie(J,Y,Q,sp(Y,ce),ke);dp(Y,ce)}return null}function Ce(J,Y,Q,ce){for(var ke=null,st=null,Ie=Y,Ye=Y=0,Ze=null;Ie!==null&&Ye<Q.length;Ye++){Ie.index>Ye?(Ze=Ie,Ie=null):Ze=Ie.sibling;var lt=ne(J,Ie,Q[Ye],ce);if(lt===null){Ie===null&&(Ie=Ze);break}o&&Ie&&lt.alternate===null&&l(J,Ie),Y=T(lt,Y,Ye),st===null?ke=lt:st.sibling=lt,st=lt,Ie=Ze}if(Ye===Q.length)return d(J,Ie),rt&&qa(J,Ye),ke;if(Ie===null){for(;Ye<Q.length;Ye++)Ie=fe(J,Q[Ye],ce),Ie!==null&&(Y=T(Ie,Y,Ye),st===null?ke=Ie:st.sibling=Ie,st=Ie);return rt&&qa(J,Ye),ke}for(Ie=m(Ie);Ye<Q.length;Ye++)Ze=ie(Ie,J,Ye,Q[Ye],ce),Ze!==null&&(o&&Ze.alternate!==null&&Ie.delete(Ze.key===null?Ye:Ze.key),Y=T(Ze,Y,Ye),st===null?ke=Ze:st.sibling=Ze,st=Ze);return o&&Ie.forEach(function(hs){return l(J,hs)}),rt&&qa(J,Ye),ke}function Ue(J,Y,Q,ce){if(Q==null)throw Error(r(151));for(var ke=null,st=null,Ie=Y,Ye=Y=0,Ze=null,lt=Q.next();Ie!==null&&!lt.done;Ye++,lt=Q.next()){Ie.index>Ye?(Ze=Ie,Ie=null):Ze=Ie.sibling;var hs=ne(J,Ie,lt.value,ce);if(hs===null){Ie===null&&(Ie=Ze);break}o&&Ie&&hs.alternate===null&&l(J,Ie),Y=T(hs,Y,Ye),st===null?ke=hs:st.sibling=hs,st=hs,Ie=Ze}if(lt.done)return d(J,Ie),rt&&qa(J,Ye),ke;if(Ie===null){for(;!lt.done;Ye++,lt=Q.next())lt=fe(J,lt.value,ce),lt!==null&&(Y=T(lt,Y,Ye),st===null?ke=lt:st.sibling=lt,st=lt);return rt&&qa(J,Ye),ke}for(Ie=m(Ie);!lt.done;Ye++,lt=Q.next())lt=ie(Ie,J,Ye,lt.value,ce),lt!==null&&(o&&lt.alternate!==null&&Ie.delete(lt.key===null?Ye:lt.key),Y=T(lt,Y,Ye),st===null?ke=lt:st.sibling=lt,st=lt);return o&&Ie.forEach(function(yF){return l(J,yF)}),rt&&qa(J,Ye),ke}function Et(J,Y,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var ke=Q.key;Y!==null;){if(Y.key===ke){if(ke=Q.type,ke===S){if(Y.tag===7){d(J,Y.sibling),ce=E(Y,Q.props.children),ce.return=J,J=ce;break e}}else if(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&ul(ke)===Y.type){d(J,Y.sibling),ce=E(Y,Q.props),xf(ce,Q),ce.return=J,J=ce;break e}d(J,Y);break}else l(J,Y);Y=Y.sibling}Q.type===S?(ce=il(Q.props.children,J.mode,ce,Q.key),ce.return=J,J=ce):(ce=ip(Q.type,Q.key,Q.props,null,J.mode,ce),xf(ce,Q),ce.return=J,J=ce)}return R(J);case A:e:{for(ke=Q.key;Y!==null;){if(Y.key===ke)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){d(J,Y.sibling),ce=E(Y,Q.children||[]),ce.return=J,J=ce;break e}else{d(J,Y);break}else l(J,Y);Y=Y.sibling}ce=e0(Q,J.mode,ce),ce.return=J,J=ce}return R(J);case k:return Q=ul(Q),Et(J,Y,Q,ce)}if(me(Q))return Ce(J,Y,Q,ce);if($(Q)){if(ke=$(Q),typeof ke!="function")throw Error(r(150));return Q=ke.call(Q),Ue(J,Y,Q,ce)}if(typeof Q.then=="function")return Et(J,Y,fp(Q),ce);if(Q.$$typeof===P)return Et(J,Y,sp(J,Q),ce);dp(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(d(J,Y.sibling),ce=E(Y,Q),ce.return=J,J=ce):(d(J,Y),ce=Zy(Q,J.mode,ce),ce.return=J,J=ce),R(J)):d(J,Y)}return function(J,Y,Q,ce){try{yf=0;var ke=Et(J,Y,Q,ce);return Au=null,ke}catch(Ie){if(Ie===wu||Ie===up)throw Ie;var st=jr(29,Ie,null,J.mode);return st.lanes=ce,st.return=J,st}finally{}}}var fl=hA(!0),pA=hA(!1),Jo=!1;function d0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function h0(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Xo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Qo(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(ht&2)!==0){var E=m.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),m.pending=l,l=rp(o),X1(o,null,d),l}return np(o,m,l,d),rp(o)}function bf(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Gc(o,d)}}function p0(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var E=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?E=T=R:T=T.next=R,d=d.next}while(d!==null);T===null?E=T=l:T=T.next=l}else E=T=l;d={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var m0=!1;function _f(){if(m0){var o=Su;if(o!==null)throw o}}function Ef(o,l,d,m){m0=!1;var E=o.updateQueue;Jo=!1;var T=E.firstBaseUpdate,R=E.lastBaseUpdate,V=E.shared.pending;if(V!==null){E.shared.pending=null;var G=V,ee=G.next;G.next=null,R===null?T=ee:R.next=ee,R=G;var se=o.alternate;se!==null&&(se=se.updateQueue,V=se.lastBaseUpdate,V!==R&&(V===null?se.firstBaseUpdate=ee:V.next=ee,se.lastBaseUpdate=G))}if(T!==null){var fe=E.baseState;R=0,se=ee=G=null,V=T;do{var ne=V.lane&-536870913,ie=ne!==V.lane;if(ie?(Qe&ne)===ne:(m&ne)===ne){ne!==0&&ne===Tu&&(m0=!0),se!==null&&(se=se.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ce=o,Ue=V;ne=l;var Et=d;switch(Ue.tag){case 1:if(Ce=Ue.payload,typeof Ce=="function"){fe=Ce.call(Et,fe,ne);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ue.payload,ne=typeof Ce=="function"?Ce.call(Et,fe,ne):Ce,ne==null)break e;fe=p({},fe,ne);break e;case 2:Jo=!0}}ne=V.callback,ne!==null&&(o.flags|=64,ie&&(o.flags|=8192),ie=E.callbacks,ie===null?E.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},se===null?(ee=se=ie,G=fe):se=se.next=ie,R|=ne;if(V=V.next,V===null){if(V=E.shared.pending,V===null)break;ie=V,V=ie.next,ie.next=null,E.lastBaseUpdate=ie,E.shared.pending=null}}while(!0);se===null&&(G=fe),E.baseState=G,E.firstBaseUpdate=ee,E.lastBaseUpdate=se,T===null&&(E.shared.lanes=0),rs|=R,o.lanes=R,o.memoizedState=fe}}function mA(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function gA(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)mA(d[o],l)}var Cu=K(null),hp=K(0);function vA(o,l){o=eo,ve(hp,o),ve(Cu,l),eo=o|l.baseLanes}function g0(){ve(hp,eo),ve(Cu,Cu.current)}function v0(){eo=hp.current,ae(Cu),ae(hp)}var Ur=K(null),ci=null;function Zo(o){var l=o.alternate;ve(an,an.current&1),ve(Ur,o),ci===null&&(l===null||Cu.current!==null||l.memoizedState!==null)&&(ci=o)}function y0(o){ve(an,an.current),ve(Ur,o),ci===null&&(ci=o)}function yA(o){o.tag===22?(ve(an,an.current),ve(Ur,o),ci===null&&(ci=o)):es()}function es(){ve(an,an.current),ve(Ur,Ur.current)}function Vr(o){ae(Ur),ci===o&&(ci=null),ae(an)}var an=K(0);function pp(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Sx(d)||wx(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ga=0,Ke=null,bt=null,pn=null,mp=!1,Nu=!1,dl=!1,gp=0,Tf=0,Iu=null,lz=0;function Wt(){throw Error(r(321))}function x0(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Lr(o[d],l[d]))return!1;return!0}function b0(o,l,d,m,E,T){return Ga=T,Ke=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=o===null||o.memoizedState===null?tC:k0,dl=!1,T=d(m,E),dl=!1,Nu&&(T=bA(l,d,m,E)),xA(o),T}function xA(o){W.H=Af;var l=bt!==null&&bt.next!==null;if(Ga=0,pn=bt=Ke=null,mp=!1,Tf=0,Iu=null,l)throw Error(r(300));o===null||mn||(o=o.dependencies,o!==null&&op(o)&&(mn=!0))}function bA(o,l,d,m){Ke=o;var E=0;do{if(Nu&&(Iu=null),Tf=0,Nu=!1,25<=E)throw Error(r(301));if(E+=1,pn=bt=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}W.H=nC,T=l(d,m)}while(Nu);return T}function uz(){var o=W.H,l=o.useState()[0];return l=typeof l.then=="function"?Sf(l):l,o=o.useState()[0],(bt!==null?bt.memoizedState:null)!==o&&(Ke.flags|=1024),l}function _0(){var o=gp!==0;return gp=0,o}function E0(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function T0(o){if(mp){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}mp=!1}Ga=0,pn=bt=Ke=null,Nu=!1,Tf=gp=0,Iu=null}function hr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ke.memoizedState=pn=o:pn=pn.next=o,pn}function on(){if(bt===null){var o=Ke.alternate;o=o!==null?o.memoizedState:null}else o=bt.next;var l=pn===null?Ke.memoizedState:pn.next;if(l!==null)pn=l,bt=o;else{if(o===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));bt=o,o={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},pn===null?Ke.memoizedState=pn=o:pn=pn.next=o}return pn}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sf(o){var l=Tf;return Tf+=1,Iu===null&&(Iu=[]),o=cA(Iu,o,l),l=Ke,(pn===null?l.memoizedState:pn.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?tC:k0),o}function yp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Sf(o);if(o.$$typeof===P)return Kn(o)}throw Error(r(438,String(o)))}function S0(o){var l=null,d=Ke.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Ke.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=vp(),Ke.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),m=0;m<o;m++)d[m]=F;return l.index++,d}function Ka(o,l){return typeof l=="function"?l(o):l}function xp(o){var l=on();return w0(l,bt,o)}function w0(o,l,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var E=o.baseQueue,T=m.pending;if(T!==null){if(E!==null){var R=E.next;E.next=T.next,T.next=R}l.baseQueue=E=T,m.pending=null}if(T=o.baseState,E===null)o.memoizedState=T;else{l=E.next;var V=R=null,G=null,ee=l,se=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(Qe&fe)===fe:(Ga&fe)===fe){var ne=ee.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Tu&&(se=!0);else if((Ga&ne)===ne){ee=ee.next,ne===Tu&&(se=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(V=G=fe,R=T):G=G.next=fe,Ke.lanes|=ne,rs|=ne;fe=ee.action,dl&&d(T,fe),T=ee.hasEagerState?ee.eagerState:d(T,fe)}else ne={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(V=G=ne,R=T):G=G.next=ne,Ke.lanes|=fe,rs|=fe;ee=ee.next}while(ee!==null&&ee!==l);if(G===null?R=T:G.next=V,!Lr(T,o.memoizedState)&&(mn=!0,se&&(d=Su,d!==null)))throw d;o.memoizedState=T,o.baseState=R,o.baseQueue=G,m.lastRenderedState=T}return E===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function A0(o){var l=on(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,E=d.pending,T=l.memoizedState;if(E!==null){d.pending=null;var R=E=E.next;do T=o(T,R.action),R=R.next;while(R!==E);Lr(T,l.memoizedState)||(mn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,m]}function _A(o,l,d){var m=Ke,E=on(),T=rt;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=l();var R=!Lr((bt||E).memoizedState,d);if(R&&(E.memoizedState=d,mn=!0),E=E.queue,I0(SA.bind(null,m,E,o),[o]),E.getSnapshot!==l||R||pn!==null&&pn.memoizedState.tag&1){if(m.flags|=2048,Ru(9,{destroy:void 0},TA.bind(null,m,E,d,l),null),wt===null)throw Error(r(349));T||(Ga&127)!==0||EA(m,l,d)}return d}function EA(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Ke.updateQueue,l===null?(l=vp(),Ke.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function TA(o,l,d,m){l.value=d,l.getSnapshot=m,wA(l)&&AA(o)}function SA(o,l,d){return d(function(){wA(l)&&AA(o)})}function wA(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Lr(o,d)}catch{return!0}}function AA(o){var l=rl(o,2);l!==null&&Cr(l,o,2)}function C0(o){var l=hr();if(typeof o=="function"){var d=o;if(o=d(),dl){ei(!0);try{d()}finally{ei(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:o},l}function CA(o,l,d,m){return o.baseState=d,w0(o,bt,typeof m=="function"?m:Ka)}function cz(o,l,d,m,E){if(Ep(o))throw Error(r(485));if(o=l.action,o!==null){var T={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){T.listeners.push(R)}};W.T!==null?d(!0):T.isTransition=!1,m(T),d=l.pending,d===null?(T.next=l.pending=T,NA(l,T)):(T.next=d.next,l.pending=d.next=T)}}function NA(o,l){var d=l.action,m=l.payload,E=o.state;if(l.isTransition){var T=W.T,R={};W.T=R;try{var V=d(E,m),G=W.S;G!==null&&G(R,V),IA(o,l,V)}catch(ee){N0(o,l,ee)}finally{T!==null&&R.types!==null&&(T.types=R.types),W.T=T}}else try{T=d(E,m),IA(o,l,T)}catch(ee){N0(o,l,ee)}}function IA(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){RA(o,l,m)},function(m){return N0(o,l,m)}):RA(o,l,d)}function RA(o,l,d){l.status="fulfilled",l.value=d,PA(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,NA(o,d)))}function N0(o,l,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,PA(l),l=l.next;while(l!==m)}o.action=null}function PA(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function MA(o,l){return l}function DA(o,l){if(rt){var d=wt.formState;if(d!==null){e:{var m=Ke;if(rt){if(Rt){t:{for(var E=Rt,T=ui;E.nodeType!==8;){if(!T){E=null;break t}if(E=fi(E.nextSibling),E===null){E=null;break t}}T=E.data,E=T==="F!"||T==="F"?E:null}if(E){Rt=fi(E.nextSibling),m=E.data==="F!";break e}}Yo(m)}m=!1}m&&(l=d[0])}}return d=hr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MA,lastRenderedState:l},d.queue=m,d=QA.bind(null,Ke,m),m.dispatch=d,m=C0(!1),T=O0.bind(null,Ke,!1,m.queue),m=hr(),E={state:l,dispatch:null,action:o,pending:null},m.queue=E,d=cz.bind(null,Ke,E,T,d),E.dispatch=d,m.memoizedState=o,[l,d,!1]}function OA(o){var l=on();return kA(l,bt,o)}function kA(o,l,d){if(l=w0(o,l,MA)[0],o=xp(Ka)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Sf(l)}catch(R){throw R===wu?up:R}else m=l;l=on();var E=l.queue,T=E.dispatch;return d!==l.memoizedState&&(Ke.flags|=2048,Ru(9,{destroy:void 0},fz.bind(null,E,d),null)),[m,T,o]}function fz(o,l){o.action=l}function LA(o){var l=on(),d=bt;if(d!==null)return kA(l,d,o);on(),l=l.memoizedState,d=on();var m=d.queue.dispatch;return d.memoizedState=o,[l,m,!1]}function Ru(o,l,d,m){return o={tag:o,create:d,deps:m,inst:l,next:null},l=Ke.updateQueue,l===null&&(l=vp(),Ke.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o),o}function jA(){return on().memoizedState}function bp(o,l,d,m){var E=hr();Ke.flags|=o,E.memoizedState=Ru(1|l,{destroy:void 0},d,m===void 0?null:m)}function _p(o,l,d,m){var E=on();m=m===void 0?null:m;var T=E.memoizedState.inst;bt!==null&&m!==null&&x0(m,bt.memoizedState.deps)?E.memoizedState=Ru(l,T,d,m):(Ke.flags|=o,E.memoizedState=Ru(1|l,T,d,m))}function UA(o,l){bp(8390656,8,o,l)}function I0(o,l){_p(2048,8,o,l)}function dz(o){Ke.flags|=4;var l=Ke.updateQueue;if(l===null)l=vp(),Ke.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function VA(o){var l=on().memoizedState;return dz({ref:l,nextImpl:o}),function(){if((ht&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function BA(o,l){return _p(4,2,o,l)}function zA(o,l){return _p(4,4,o,l)}function FA(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function qA(o,l,d){d=d!=null?d.concat([o]):null,_p(4,4,FA.bind(null,l,o),d)}function R0(){}function $A(o,l){var d=on();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&x0(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function HA(o,l){var d=on();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&x0(l,m[1]))return m[0];if(m=o(),dl){ei(!0);try{o()}finally{ei(!1)}}return d.memoizedState=[m,l],m}function P0(o,l,d){return d===void 0||(Ga&1073741824)!==0&&(Qe&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=GC(),Ke.lanes|=o,rs|=o,d)}function GA(o,l,d,m){return Lr(d,l)?d:Cu.current!==null?(o=P0(o,d,m),Lr(o,l)||(mn=!0),o):(Ga&42)===0||(Ga&1073741824)!==0&&(Qe&261930)===0?(mn=!0,o.memoizedState=d):(o=GC(),Ke.lanes|=o,rs|=o,l)}function KA(o,l,d,m,E){var T=oe.p;oe.p=T!==0&&8>T?T:8;var R=W.T,V={};W.T=V,O0(o,!1,l,d);try{var G=E(),ee=W.S;if(ee!==null&&ee(V,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var se=sz(G,m);wf(o,l,se,Fr(o))}else wf(o,l,m,Fr(o))}catch(fe){wf(o,l,{then:function(){},status:"rejected",reason:fe},Fr())}finally{oe.p=T,R!==null&&V.types!==null&&(R.types=V.types),W.T=R}}function hz(){}function M0(o,l,d,m){if(o.tag!==5)throw Error(r(476));var E=YA(o).queue;KA(o,E,l,ge,d===null?hz:function(){return WA(o),d(m)})}function YA(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:ge},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function WA(o){var l=YA(o);l.next===null&&(l=o.alternate.memoizedState),wf(o,l.next.queue,{},Fr())}function D0(){return Kn(Ff)}function JA(){return on().memoizedState}function XA(){return on().memoizedState}function pz(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=Fr();o=Xo(d);var m=Qo(l,o,d);m!==null&&(Cr(m,l,d),bf(m,l,d)),l={cache:l0()},o.payload=l;return}l=l.return}}function mz(o,l,d){var m=Fr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ep(o)?ZA(l,d):(d=Xy(o,l,d,m),d!==null&&(Cr(d,o,m),eC(d,l,m)))}function QA(o,l,d){var m=Fr();wf(o,l,d,m)}function wf(o,l,d,m){var E={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ep(o))ZA(l,E);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var R=l.lastRenderedState,V=T(R,d);if(E.hasEagerState=!0,E.eagerState=V,Lr(V,R))return np(o,l,E,0),wt===null&&tp(),!1}catch{}finally{}if(d=Xy(o,l,E,m),d!==null)return Cr(d,o,m),eC(d,l,m),!0}return!1}function O0(o,l,d,m){if(m={lane:2,revertLane:dx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ep(o)){if(l)throw Error(r(479))}else l=Xy(o,d,m,2),l!==null&&Cr(l,o,2)}function Ep(o){var l=o.alternate;return o===Ke||l!==null&&l===Ke}function ZA(o,l){Nu=mp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function eC(o,l,d){if((d&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Gc(o,d)}}var Af={readContext:Kn,use:yp,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Af.useEffectEvent=Wt;var tC={readContext:Kn,use:yp,useCallback:function(o,l){return hr().memoizedState=[o,l===void 0?null:l],o},useContext:Kn,useEffect:UA,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,bp(4194308,4,FA.bind(null,l,o),d)},useLayoutEffect:function(o,l){return bp(4194308,4,o,l)},useInsertionEffect:function(o,l){bp(4,2,o,l)},useMemo:function(o,l){var d=hr();l=l===void 0?null:l;var m=o();if(dl){ei(!0);try{o()}finally{ei(!1)}}return d.memoizedState=[m,l],m},useReducer:function(o,l,d){var m=hr();if(d!==void 0){var E=d(l);if(dl){ei(!0);try{d(l)}finally{ei(!1)}}}else E=l;return m.memoizedState=m.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},m.queue=o,o=o.dispatch=mz.bind(null,Ke,o),[m.memoizedState,o]},useRef:function(o){var l=hr();return o={current:o},l.memoizedState=o},useState:function(o){o=C0(o);var l=o.queue,d=QA.bind(null,Ke,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:R0,useDeferredValue:function(o,l){var d=hr();return P0(d,o,l)},useTransition:function(){var o=C0(!1);return o=KA.bind(null,Ke,o.queue,!0,!1),hr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var m=Ke,E=hr();if(rt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),wt===null)throw Error(r(349));(Qe&127)!==0||EA(m,l,d)}E.memoizedState=d;var T={value:d,getSnapshot:l};return E.queue=T,UA(SA.bind(null,m,T,o),[o]),m.flags|=2048,Ru(9,{destroy:void 0},TA.bind(null,m,T,d,l),null),d},useId:function(){var o=hr(),l=wt.identifierPrefix;if(rt){var d=ya,m=va;d=(m&~(1<<32-nn(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=gp++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=lz++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:D0,useFormState:DA,useActionState:DA,useOptimistic:function(o){var l=hr();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=O0.bind(null,Ke,!0,d),d.dispatch=l,[o,l]},useMemoCache:S0,useCacheRefresh:function(){return hr().memoizedState=pz.bind(null,Ke)},useEffectEvent:function(o){var l=hr(),d={impl:o};return l.memoizedState=d,function(){if((ht&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},k0={readContext:Kn,use:yp,useCallback:$A,useContext:Kn,useEffect:I0,useImperativeHandle:qA,useInsertionEffect:BA,useLayoutEffect:zA,useMemo:HA,useReducer:xp,useRef:jA,useState:function(){return xp(Ka)},useDebugValue:R0,useDeferredValue:function(o,l){var d=on();return GA(d,bt.memoizedState,o,l)},useTransition:function(){var o=xp(Ka)[0],l=on().memoizedState;return[typeof o=="boolean"?o:Sf(o),l]},useSyncExternalStore:_A,useId:JA,useHostTransitionStatus:D0,useFormState:OA,useActionState:OA,useOptimistic:function(o,l){var d=on();return CA(d,bt,o,l)},useMemoCache:S0,useCacheRefresh:XA};k0.useEffectEvent=VA;var nC={readContext:Kn,use:yp,useCallback:$A,useContext:Kn,useEffect:I0,useImperativeHandle:qA,useInsertionEffect:BA,useLayoutEffect:zA,useMemo:HA,useReducer:A0,useRef:jA,useState:function(){return A0(Ka)},useDebugValue:R0,useDeferredValue:function(o,l){var d=on();return bt===null?P0(d,o,l):GA(d,bt.memoizedState,o,l)},useTransition:function(){var o=A0(Ka)[0],l=on().memoizedState;return[typeof o=="boolean"?o:Sf(o),l]},useSyncExternalStore:_A,useId:JA,useHostTransitionStatus:D0,useFormState:LA,useActionState:LA,useOptimistic:function(o,l){var d=on();return bt!==null?CA(d,bt,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:S0,useCacheRefresh:XA};nC.useEffectEvent=VA;function L0(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var j0={enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Fr(),E=Xo(m);E.payload=l,d!=null&&(E.callback=d),l=Qo(o,E,m),l!==null&&(Cr(l,o,m),bf(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Fr(),E=Xo(m);E.tag=1,E.payload=l,d!=null&&(E.callback=d),l=Qo(o,E,m),l!==null&&(Cr(l,o,m),bf(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Fr(),m=Xo(d);m.tag=2,l!=null&&(m.callback=l),l=Qo(o,m,d),l!==null&&(Cr(l,o,d),bf(l,o,d))}};function rC(o,l,d,m,E,T,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,T,R):l.prototype&&l.prototype.isPureReactComponent?!df(d,m)||!df(E,T):!0}function iC(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&j0.enqueueReplaceState(l,l.state,null)}function hl(o,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(o=o.defaultProps){d===l&&(d=p({},d));for(var E in o)d[E]===void 0&&(d[E]=o[E])}return d}function aC(o){ep(o)}function oC(o){console.error(o)}function sC(o){ep(o)}function Tp(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function lC(o,l,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function U0(o,l,d){return d=Xo(d),d.tag=3,d.payload={element:null},d.callback=function(){Tp(o,l)},d}function uC(o){return o=Xo(o),o.tag=3,o}function cC(o,l,d,m){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var T=m.value;o.payload=function(){return E(T)},o.callback=function(){lC(l,d,m)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){lC(l,d,m),typeof E!="function"&&(is===null?is=new Set([this]):is.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function gz(o,l,d,m,E){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Eu(l,d,E,!0),d=Ur.current,d!==null){switch(d.tag){case 31:case 13:return ci===null?kp():d.alternate===null&&Jt===0&&(Jt=3),d.flags&=-257,d.flags|=65536,d.lanes=E,m===cp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),ux(o,m,E)),!1;case 22:return d.flags|=65536,m===cp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),ux(o,m,E)),!1}throw Error(r(435,d.tag))}return ux(o,m,E),kp(),!1}if(rt)return l=Ur.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,m!==r0&&(o=Error(r(422),{cause:m}),mf(oi(o,d)))):(m!==r0&&(l=Error(r(423),{cause:m}),mf(oi(l,d))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,m=oi(m,d),E=U0(o.stateNode,m,E),p0(o,E),Jt!==4&&(Jt=2)),!1;var T=Error(r(520),{cause:m});if(T=oi(T,d),Of===null?Of=[T]:Of.push(T),Jt!==4&&(Jt=2),l===null)return!0;m=oi(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=E&-E,d.lanes|=o,o=U0(d.stateNode,m,o),p0(d,o),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(is===null||!is.has(T))))return d.flags|=65536,E&=-E,d.lanes|=E,E=uC(E),cC(E,o,d,m),p0(d,E),!1}d=d.return}while(d!==null);return!1}var V0=Error(r(461)),mn=!1;function Yn(o,l,d,m){l.child=o===null?pA(l,null,d,m):fl(l,o.child,d,m)}function fC(o,l,d,m,E){d=d.render;var T=l.ref;if("ref"in m){var R={};for(var V in m)V!=="ref"&&(R[V]=m[V])}else R=m;return sl(l),m=b0(o,l,d,R,T,E),V=_0(),o!==null&&!mn?(E0(o,l,E),Ya(o,l,E)):(rt&&V&&t0(l),l.flags|=1,Yn(o,l,m,E),l.child)}function dC(o,l,d,m,E){if(o===null){var T=d.type;return typeof T=="function"&&!Qy(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,hC(o,l,T,m,E)):(o=ip(d.type,null,m,l,l.mode,E),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,!K0(o,E)){var R=T.memoizedProps;if(d=d.compare,d=d!==null?d:df,d(R,m)&&o.ref===l.ref)return Ya(o,l,E)}return l.flags|=1,o=Fa(T,m),o.ref=l.ref,o.return=l,l.child=o}function hC(o,l,d,m,E){if(o!==null){var T=o.memoizedProps;if(df(T,m)&&o.ref===l.ref)if(mn=!1,l.pendingProps=m=T,K0(o,E))(o.flags&131072)!==0&&(mn=!0);else return l.lanes=o.lanes,Ya(o,l,E)}return B0(o,l,d,m,E)}function pC(o,l,d,m){var E=m.children,T=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,o!==null){for(m=l.child=o.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~T}else m=0,l.child=null;return mC(o,l,T,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&lp(l,T!==null?T.cachePool:null),T!==null?vA(l,T):g0(),yA(l);else return m=l.lanes=536870912,mC(o,l,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(lp(l,T.cachePool),vA(l,T),es(),l.memoizedState=null):(o!==null&&lp(l,null),g0(),es());return Yn(o,l,E,d),l.child}function Cf(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function mC(o,l,d,m,E){var T=c0();return T=T===null?null:{parent:hn._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},o!==null&&lp(l,null),g0(),yA(l),o!==null&&Eu(o,l,m,!0),l.childLanes=E,null}function Sp(o,l){return l=Ap({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function gC(o,l,d){return fl(l,o.child,null,d),o=Sp(l,l.pendingProps),o.flags|=2,Vr(l),l.memoizedState=null,o}function vz(o,l,d){var m=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(rt){if(m.mode==="hidden")return o=Sp(l,m),l.lanes=536870912,Cf(null,o);if(y0(l),(o=Rt)?(o=NN(o,ui),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Go!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},d=Z1(o),d.return=l,l.child=d,Gn=l,Rt=null)):o=null,o===null)throw Yo(l);return l.lanes=536870912,null}return Sp(l,m)}var T=o.memoizedState;if(T!==null){var R=T.dehydrated;if(y0(l),E)if(l.flags&256)l.flags&=-257,l=gC(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(mn||Eu(o,l,d,!1),E=(d&o.childLanes)!==0,mn||E){if(m=wt,m!==null&&(R=Kc(m,d),R!==0&&R!==T.retryLane))throw T.retryLane=R,rl(o,R),Cr(m,o,R),V0;kp(),l=gC(o,l,d)}else o=T.treeContext,Rt=fi(R.nextSibling),Gn=l,rt=!0,Ko=null,ui=!1,o!==null&&nA(l,o),l=Sp(l,m),l.flags|=4096;return l}return o=Fa(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function wp(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function B0(o,l,d,m,E){return sl(l),d=b0(o,l,d,m,void 0,E),m=_0(),o!==null&&!mn?(E0(o,l,E),Ya(o,l,E)):(rt&&m&&t0(l),l.flags|=1,Yn(o,l,d,E),l.child)}function vC(o,l,d,m,E,T){return sl(l),l.updateQueue=null,d=bA(l,m,d,E),xA(o),m=_0(),o!==null&&!mn?(E0(o,l,T),Ya(o,l,T)):(rt&&m&&t0(l),l.flags|=1,Yn(o,l,d,T),l.child)}function yC(o,l,d,m,E){if(sl(l),l.stateNode===null){var T=yu,R=d.contextType;typeof R=="object"&&R!==null&&(T=Kn(R)),T=new d(m,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=j0,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=m,T.state=l.memoizedState,T.refs={},d0(l),R=d.contextType,T.context=typeof R=="object"&&R!==null?Kn(R):yu,T.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(L0(l,d,R,m),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(R=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),R!==T.state&&j0.enqueueReplaceState(T,T.state,null),Ef(l,m,T,E),_f(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){T=l.stateNode;var V=l.memoizedProps,G=hl(d,V);T.props=G;var ee=T.context,se=d.contextType;R=yu,typeof se=="object"&&se!==null&&(R=Kn(se));var fe=d.getDerivedStateFromProps;se=typeof fe=="function"||typeof T.getSnapshotBeforeUpdate=="function",V=l.pendingProps!==V,se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V||ee!==R)&&iC(l,T,m,R),Jo=!1;var ne=l.memoizedState;T.state=ne,Ef(l,m,T,E),_f(),ee=l.memoizedState,V||ne!==ee||Jo?(typeof fe=="function"&&(L0(l,d,fe,m),ee=l.memoizedState),(G=Jo||rC(l,d,G,m,ne,ee,R))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ee),T.props=m,T.state=ee,T.context=R,m=G):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{T=l.stateNode,h0(o,l),R=l.memoizedProps,se=hl(d,R),T.props=se,fe=l.pendingProps,ne=T.context,ee=d.contextType,G=yu,typeof ee=="object"&&ee!==null&&(G=Kn(ee)),V=d.getDerivedStateFromProps,(ee=typeof V=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==fe||ne!==G)&&iC(l,T,m,G),Jo=!1,ne=l.memoizedState,T.state=ne,Ef(l,m,T,E),_f();var ie=l.memoizedState;R!==fe||ne!==ie||Jo||o!==null&&o.dependencies!==null&&op(o.dependencies)?(typeof V=="function"&&(L0(l,d,V,m),ie=l.memoizedState),(se=Jo||rC(l,d,se,m,ne,ie,G)||o!==null&&o.dependencies!==null&&op(o.dependencies))?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,ie,G),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,ie,G)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ie),T.props=m,T.state=ie,T.context=G,m=se):(typeof T.componentDidUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(l.flags|=1024),m=!1)}return T=m,wp(o,l),m=(l.flags&128)!==0,T||m?(T=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,o!==null&&m?(l.child=fl(l,o.child,null,E),l.child=fl(l,null,d,E)):Yn(o,l,d,E),l.memoizedState=T.state,o=l.child):o=Ya(o,l,E),o}function xC(o,l,d,m){return al(),l.flags|=256,Yn(o,l,d,m),l.child}var z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function F0(o){return{baseLanes:o,cachePool:lA()}}function q0(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=zr),o}function bC(o,l,d){var m=l.pendingProps,E=!1,T=(l.flags&128)!==0,R;if((R=T)||(R=o!==null&&o.memoizedState===null?!1:(an.current&2)!==0),R&&(E=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(rt){if(E?Zo(l):es(),(o=Rt)?(o=NN(o,ui),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Go!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},d=Z1(o),d.return=l,l.child=d,Gn=l,Rt=null)):o=null,o===null)throw Yo(l);return wx(o)?l.lanes=32:l.lanes=536870912,null}var V=m.children;return m=m.fallback,E?(es(),E=l.mode,V=Ap({mode:"hidden",children:V},E),m=il(m,E,d,null),V.return=l,m.return=l,V.sibling=m,l.child=V,m=l.child,m.memoizedState=F0(d),m.childLanes=q0(o,R,d),l.memoizedState=z0,Cf(null,m)):(Zo(l),$0(l,V))}var G=o.memoizedState;if(G!==null&&(V=G.dehydrated,V!==null)){if(T)l.flags&256?(Zo(l),l.flags&=-257,l=H0(o,l,d)):l.memoizedState!==null?(es(),l.child=o.child,l.flags|=128,l=null):(es(),V=m.fallback,E=l.mode,m=Ap({mode:"visible",children:m.children},E),V=il(V,E,d,null),V.flags|=2,m.return=l,V.return=l,m.sibling=V,l.child=m,fl(l,o.child,null,d),m=l.child,m.memoizedState=F0(d),m.childLanes=q0(o,R,d),l.memoizedState=z0,l=Cf(null,m));else if(Zo(l),wx(V)){if(R=V.nextSibling&&V.nextSibling.dataset,R)var ee=R.dgst;R=ee,m=Error(r(419)),m.stack="",m.digest=R,mf({value:m,source:null,stack:null}),l=H0(o,l,d)}else if(mn||Eu(o,l,d,!1),R=(d&o.childLanes)!==0,mn||R){if(R=wt,R!==null&&(m=Kc(R,d),m!==0&&m!==G.retryLane))throw G.retryLane=m,rl(o,m),Cr(R,o,m),V0;Sx(V)||kp(),l=H0(o,l,d)}else Sx(V)?(l.flags|=192,l.child=o.child,l=null):(o=G.treeContext,Rt=fi(V.nextSibling),Gn=l,rt=!0,Ko=null,ui=!1,o!==null&&nA(l,o),l=$0(l,m.children),l.flags|=4096);return l}return E?(es(),V=m.fallback,E=l.mode,G=o.child,ee=G.sibling,m=Fa(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ee!==null?V=Fa(ee,V):(V=il(V,E,d,null),V.flags|=2),V.return=l,m.return=l,m.sibling=V,l.child=m,Cf(null,m),m=l.child,V=o.child.memoizedState,V===null?V=F0(d):(E=V.cachePool,E!==null?(G=hn._currentValue,E=E.parent!==G?{parent:G,pool:G}:E):E=lA(),V={baseLanes:V.baseLanes|d,cachePool:E}),m.memoizedState=V,m.childLanes=q0(o,R,d),l.memoizedState=z0,Cf(o.child,m)):(Zo(l),d=o.child,o=d.sibling,d=Fa(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=d,l.memoizedState=null,d)}function $0(o,l){return l=Ap({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Ap(o,l){return o=jr(22,o,null,l),o.lanes=0,o}function H0(o,l,d){return fl(l,o.child,null,d),o=$0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function _C(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),o0(o.return,l,d)}function G0(o,l,d,m,E,T){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:E,treeForkCount:T}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=d,R.tailMode=E,R.treeForkCount=T)}function EC(o,l,d){var m=l.pendingProps,E=m.revealOrder,T=m.tail;m=m.children;var R=an.current,V=(R&2)!==0;if(V?(R=R&1|2,l.flags|=128):R&=1,ve(an,R),Yn(o,l,m,d),m=rt?pf:0,!V&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_C(o,d,l);else if(o.tag===19)_C(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(d=l.child,E=null;d!==null;)o=d.alternate,o!==null&&pp(o)===null&&(E=d),d=d.sibling;d=E,d===null?(E=l.child,l.child=null):(E=d.sibling,d.sibling=null),G0(l,!1,E,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=l.child,l.child=null;E!==null;){if(o=E.alternate,o!==null&&pp(o)===null){l.child=E;break}o=E.sibling,E.sibling=d,d=E,E=o}G0(l,!0,d,null,T,m);break;case"together":G0(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Ya(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),rs|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(Eu(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Fa(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Fa(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function K0(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&op(o)))}function yz(o,l,d){switch(l.tag){case 3:It(l,l.stateNode.containerInfo),Wo(l,hn,o.memoizedState.cache),al();break;case 27:case 5:ze(l);break;case 4:It(l,l.stateNode.containerInfo);break;case 10:Wo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,y0(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Zo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?bC(o,l,d):(Zo(l),o=Ya(o,l,d),o!==null?o.sibling:null);Zo(l);break;case 19:var E=(o.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Eu(o,l,d,!1),m=(d&l.childLanes)!==0),E){if(m)return EC(o,l,d);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ve(an,an.current),m)break;return null;case 22:return l.lanes=0,pC(o,l,d,l.pendingProps);case 24:Wo(l,hn,o.memoizedState.cache)}return Ya(o,l,d)}function TC(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)mn=!0;else{if(!K0(o,d)&&(l.flags&128)===0)return mn=!1,yz(o,l,d);mn=(o.flags&131072)!==0}else mn=!1,rt&&(l.flags&1048576)!==0&&tA(l,pf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=ul(l.elementType),l.type=o,typeof o=="function")Qy(o)?(m=hl(o,m),l.tag=1,l=yC(null,l,o,m,d)):(l.tag=0,l=B0(null,l,o,m,d));else{if(o!=null){var E=o.$$typeof;if(E===B){l.tag=11,l=fC(null,l,o,m,d);break e}else if(E===D){l.tag=14,l=dC(null,l,o,m,d);break e}}throw l=de(o)||o,Error(r(306,l,""))}}return l;case 0:return B0(o,l,l.type,l.pendingProps,d);case 1:return m=l.type,E=hl(m,l.pendingProps),yC(o,l,m,E,d);case 3:e:{if(It(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var T=l.memoizedState;E=T.element,h0(o,l),Ef(l,m,null,d);var R=l.memoizedState;if(m=R.cache,Wo(l,hn,m),m!==T.cache&&s0(l,[hn],d,!0),_f(),m=R.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=xC(o,l,m,d);break e}else if(m!==E){E=oi(Error(r(424)),l),mf(E),l=xC(o,l,m,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Rt=fi(o.firstChild),Gn=l,rt=!0,Ko=null,ui=!0,d=pA(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(al(),m===E){l=Ya(o,l,d);break e}Yn(o,l,m,d)}l=l.child}return l;case 26:return wp(o,l),o===null?(d=ON(l.type,null,l.pendingProps,null))?l.memoizedState=d:rt||(d=l.type,o=l.pendingProps,m=Fp(Ve.current).createElement(d),m[cn]=l,m[Dn]=o,Wn(m,d,o),fn(m),l.stateNode=m):l.memoizedState=ON(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return ze(l),o===null&&rt&&(m=l.stateNode=PN(l.type,l.pendingProps,Ve.current),Gn=l,ui=!0,E=Rt,ls(l.type)?(Ax=E,Rt=fi(m.firstChild)):Rt=E),Yn(o,l,l.pendingProps.children,d),wp(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&rt&&((E=m=Rt)&&(m=Yz(m,l.type,l.pendingProps,ui),m!==null?(l.stateNode=m,Gn=l,Rt=fi(m.firstChild),ui=!1,E=!0):E=!1),E||Yo(l)),ze(l),E=l.type,T=l.pendingProps,R=o!==null?o.memoizedProps:null,m=T.children,_x(E,T)?m=null:R!==null&&_x(E,R)&&(l.flags|=32),l.memoizedState!==null&&(E=b0(o,l,uz,null,null,d),Ff._currentValue=E),wp(o,l),Yn(o,l,m,d),l.child;case 6:return o===null&&rt&&((o=d=Rt)&&(d=Wz(d,l.pendingProps,ui),d!==null?(l.stateNode=d,Gn=l,Rt=null,o=!0):o=!1),o||Yo(l)),null;case 13:return bC(o,l,d);case 4:return It(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=fl(l,null,m,d):Yn(o,l,m,d),l.child;case 11:return fC(o,l,l.type,l.pendingProps,d);case 7:return Yn(o,l,l.pendingProps,d),l.child;case 8:return Yn(o,l,l.pendingProps.children,d),l.child;case 12:return Yn(o,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,Wo(l,l.type,m.value),Yn(o,l,m.children,d),l.child;case 9:return E=l.type._context,m=l.pendingProps.children,sl(l),E=Kn(E),m=m(E),l.flags|=1,Yn(o,l,m,d),l.child;case 14:return dC(o,l,l.type,l.pendingProps,d);case 15:return hC(o,l,l.type,l.pendingProps,d);case 19:return EC(o,l,d);case 31:return vz(o,l,d);case 22:return pC(o,l,d,l.pendingProps);case 24:return sl(l),m=Kn(hn),o===null?(E=c0(),E===null&&(E=wt,T=l0(),E.pooledCache=T,T.refCount++,T!==null&&(E.pooledCacheLanes|=d),E=T),l.memoizedState={parent:m,cache:E},d0(l),Wo(l,hn,E)):((o.lanes&d)!==0&&(h0(o,l),Ef(l,null,null,d),_f()),E=o.memoizedState,T=l.memoizedState,E.parent!==m?(E={parent:m,cache:m},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),Wo(l,hn,m)):(m=T.cache,Wo(l,hn,m),m!==E.cache&&s0(l,[hn],d,!0))),Yn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Wa(o){o.flags|=4}function Y0(o,l,d,m,E){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(JC())o.flags|=8192;else throw cl=cp,f0}else o.flags&=-16777217}function SC(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!VN(l))if(JC())o.flags|=8192;else throw cl=cp,f0}function Cp(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Dh():536870912,o.lanes|=l,Ou|=l)}function Nf(o,l){if(!rt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Pt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var E=o.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function xz(o,l,d){var m=l.pendingProps;switch(n0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(l),null;case 1:return Pt(l),null;case 3:return d=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ha(hn),le(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(_u(l)?Wa(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,i0())),Pt(l),null;case 26:var E=l.type,T=l.memoizedState;return o===null?(Wa(l),T!==null?(Pt(l),SC(l,T)):(Pt(l),Y0(l,E,null,m,d))):T?T!==o.memoizedState?(Wa(l),Pt(l),SC(l,T)):(Pt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&Wa(l),Pt(l),Y0(l,E,o,m,d)),null;case 27:if(ue(l),d=Ve.current,E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Wa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}o=xe.current,_u(l)?rA(l):(o=PN(E,m,d),l.stateNode=o,Wa(l))}return Pt(l),null;case 5:if(ue(l),E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Wa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}if(T=xe.current,_u(l))rA(l);else{var R=Fp(Ve.current);switch(T){case 1:T=R.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:T=R.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":T=R.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":T=R.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":T=R.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?R.createElement(E,{is:m.is}):R.createElement(E)}}T[cn]=l,T[Dn]=m;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)T.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=T;e:switch(Wn(T,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Wa(l)}}return Pt(l),Y0(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&Wa(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=Ve.current,_u(l)){if(o=l.stateNode,d=l.memoizedProps,m=null,E=Gn,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}o[cn]=l,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||bN(o.nodeValue,d)),o||Yo(l,!0)}else o=Fp(o).createTextNode(m),o[cn]=l,l.stateNode=o}return Pt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(m=_u(l),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[cn]=l}else al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),o=!1}else d=i0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(Vr(l),l):(Vr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Pt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=_u(l),m!==null&&m.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[cn]=l}else al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),E=!1}else E=i0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Vr(l),l):(Vr(l),null)}return Vr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=l.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==E&&(m.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),Cp(l,l.updateQueue),Pt(l),null);case 4:return le(),o===null&&gx(l.stateNode.containerInfo),Pt(l),null;case 10:return Ha(l.type),Pt(l),null;case 19:if(ae(an),m=l.memoizedState,m===null)return Pt(l),null;if(E=(l.flags&128)!==0,T=m.rendering,T===null)if(E)Nf(m,!1);else{if(Jt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(T=pp(o),T!==null){for(l.flags|=128,Nf(m,!1),o=T.updateQueue,l.updateQueue=o,Cp(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)Q1(d,o),d=d.sibling;return ve(an,an.current&1|2),rt&&qa(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&Mn()>Mp&&(l.flags|=128,E=!0,Nf(m,!1),l.lanes=4194304)}else{if(!E)if(o=pp(T),o!==null){if(l.flags|=128,E=!0,o=o.updateQueue,l.updateQueue=o,Cp(l,o),Nf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!rt)return Pt(l),null}else 2*Mn()-m.renderingStartTime>Mp&&d!==536870912&&(l.flags|=128,E=!0,Nf(m,!1),l.lanes=4194304);m.isBackwards?(T.sibling=l.child,l.child=T):(o=m.last,o!==null?o.sibling=T:l.child=T,m.last=T)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Mn(),o.sibling=null,d=an.current,ve(an,E?d&1|2:d&1),rt&&qa(l,m.treeForkCount),o):(Pt(l),null);case 22:case 23:return Vr(l),v0(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Pt(l),l.subtreeFlags&6&&(l.flags|=8192)):Pt(l),d=l.updateQueue,d!==null&&Cp(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),o!==null&&ae(ll),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ha(hn),Pt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function bz(o,l){switch(n0(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ha(hn),le(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return ue(l),null;case 31:if(l.memoizedState!==null){if(Vr(l),l.alternate===null)throw Error(r(340));al()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Vr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));al()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ae(an),null;case 4:return le(),null;case 10:return Ha(l.type),null;case 22:case 23:return Vr(l),v0(),o!==null&&ae(ll),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ha(hn),null;case 25:return null;default:return null}}function wC(o,l){switch(n0(l),l.tag){case 3:Ha(hn),le();break;case 26:case 27:case 5:ue(l);break;case 4:le();break;case 31:l.memoizedState!==null&&Vr(l);break;case 13:Vr(l);break;case 19:ae(an);break;case 10:Ha(l.type);break;case 22:case 23:Vr(l),v0(),o!==null&&ae(ll);break;case 24:Ha(hn)}}function If(o,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var E=m.next;d=E;do{if((d.tag&o)===o){m=void 0;var T=d.create,R=d.inst;m=T(),R.destroy=m}d=d.next}while(d!==E)}}catch(V){vt(l,l.return,V)}}function ts(o,l,d){try{var m=l.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var T=E.next;m=T;do{if((m.tag&o)===o){var R=m.inst,V=R.destroy;if(V!==void 0){R.destroy=void 0,E=l;var G=d,ee=V;try{ee()}catch(se){vt(E,G,se)}}}m=m.next}while(m!==T)}}catch(se){vt(l,l.return,se)}}function AC(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{gA(l,d)}catch(m){vt(o,o.return,m)}}}function CC(o,l,d){d.props=hl(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){vt(o,l,m)}}function Rf(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(E){vt(o,l,E)}}function xa(o,l){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(E){vt(o,l,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){vt(o,l,E)}else d.current=null}function NC(o){var l=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(E){vt(o,o.return,E)}}function W0(o,l,d){try{var m=o.stateNode;Fz(m,o.type,d,l),m[Dn]=l}catch(E){vt(o,o.return,E)}}function IC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ls(o.type)||o.tag===4}function J0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ls(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function X0(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ri));else if(m!==4&&(m===27&&ls(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(X0(o,l,d),o=o.sibling;o!==null;)X0(o,l,d),o=o.sibling}function Np(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(m===27&&ls(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Np(o,l,d),o=o.sibling;o!==null;)Np(o,l,d),o=o.sibling}function RC(o){var l=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Wn(l,m,d),l[cn]=o,l[Dn]=d}catch(T){vt(o,o.return,T)}}var Ja=!1,gn=!1,Q0=!1,PC=typeof WeakSet=="function"?WeakSet:Set,kn=null;function _z(o,l){if(o=o.containerInfo,xx=Wp,o=q1(o),Hy(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var E=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var R=0,V=-1,G=-1,ee=0,se=0,fe=o,ne=null;t:for(;;){for(var ie;fe!==d||E!==0&&fe.nodeType!==3||(V=R+E),fe!==T||m!==0&&fe.nodeType!==3||(G=R+m),fe.nodeType===3&&(R+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)ne=fe,fe=ie;for(;;){if(fe===o)break t;if(ne===d&&++ee===E&&(V=R),ne===T&&++se===m&&(G=R),(ie=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=ie}d=V===-1||G===-1?null:{start:V,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(bx={focusedElem:o,selectionRange:d},Wp=!1,kn=l;kn!==null;)if(l=kn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,kn=o;else for(;kn!==null;){switch(l=kn,T=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)E=o[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,d=l,E=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var Ce=hl(d.type,E);o=m.getSnapshotBeforeUpdate(Ce,T),m.__reactInternalSnapshotBeforeUpdate=o}catch(Ue){vt(d,d.return,Ue)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)Tx(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Tx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,kn=o;break}kn=l.return}}function MC(o,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Qa(o,d),m&4&&If(5,d);break;case 1:if(Qa(o,d),m&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(R){vt(d,d.return,R)}else{var E=hl(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(E,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){vt(d,d.return,R)}}m&64&&AC(d),m&512&&Rf(d,d.return);break;case 3:if(Qa(o,d),m&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{gA(o,l)}catch(R){vt(d,d.return,R)}}break;case 27:l===null&&m&4&&RC(d);case 26:case 5:Qa(o,d),l===null&&m&4&&NC(d),m&512&&Rf(d,d.return);break;case 12:Qa(o,d);break;case 31:Qa(o,d),m&4&&kC(o,d);break;case 13:Qa(o,d),m&4&&LC(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=Rz.bind(null,d),Jz(o,d))));break;case 22:if(m=d.memoizedState!==null||Ja,!m){l=l!==null&&l.memoizedState!==null||gn,E=Ja;var T=gn;Ja=m,(gn=l)&&!T?Za(o,d,(d.subtreeFlags&8772)!==0):Qa(o,d),Ja=E,gn=T}break;case 30:break;default:Qa(o,d)}}function DC(o){var l=o.alternate;l!==null&&(o.alternate=null,DC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&iu(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var jt=null,Tr=!1;function Xa(o,l,d){for(d=d.child;d!==null;)OC(o,l,d),d=d.sibling}function OC(o,l,d){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Ai,d)}catch{}switch(d.tag){case 26:gn||xa(d,l),Xa(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:gn||xa(d,l);var m=jt,E=Tr;ls(d.type)&&(jt=d.stateNode,Tr=!1),Xa(o,l,d),Vf(d.stateNode),jt=m,Tr=E;break;case 5:gn||xa(d,l);case 6:if(m=jt,E=Tr,jt=null,Xa(o,l,d),jt=m,Tr=E,jt!==null)if(Tr)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(d.stateNode)}catch(T){vt(d,l,T)}else try{jt.removeChild(d.stateNode)}catch(T){vt(d,l,T)}break;case 18:jt!==null&&(Tr?(o=jt,AN(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Fu(o)):AN(jt,d.stateNode));break;case 4:m=jt,E=Tr,jt=d.stateNode.containerInfo,Tr=!0,Xa(o,l,d),jt=m,Tr=E;break;case 0:case 11:case 14:case 15:ts(2,d,l),gn||ts(4,d,l),Xa(o,l,d);break;case 1:gn||(xa(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&CC(d,l,m)),Xa(o,l,d);break;case 21:Xa(o,l,d);break;case 22:gn=(m=gn)||d.memoizedState!==null,Xa(o,l,d),gn=m;break;default:Xa(o,l,d)}}function kC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Fu(o)}catch(d){vt(l,l.return,d)}}}function LC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Fu(o)}catch(d){vt(l,l.return,d)}}function Ez(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new PC),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new PC),l;default:throw Error(r(435,o.tag))}}function Ip(o,l){var d=Ez(o);l.forEach(function(m){if(!d.has(m)){d.add(m);var E=Pz.bind(null,o,m);m.then(E,E)}})}function Sr(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var E=d[m],T=o,R=l,V=R;e:for(;V!==null;){switch(V.tag){case 27:if(ls(V.type)){jt=V.stateNode,Tr=!1;break e}break;case 5:jt=V.stateNode,Tr=!1;break e;case 3:case 4:jt=V.stateNode.containerInfo,Tr=!0;break e}V=V.return}if(jt===null)throw Error(r(160));OC(T,R,E),jt=null,Tr=!1,T=E.alternate,T!==null&&(T.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)jC(l,o),l=l.sibling}var Li=null;function jC(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Sr(l,o),wr(o),m&4&&(ts(3,o,o.return),If(3,o),ts(5,o,o.return));break;case 1:Sr(l,o),wr(o),m&512&&(gn||d===null||xa(d,d.return)),m&64&&Ja&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var E=Li;if(Sr(l,o),wr(o),m&512&&(gn||d===null||xa(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":T=E.getElementsByTagName("title")[0],(!T||T[aa]||T[cn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=E.createElement(m),E.head.insertBefore(T,E.querySelector("head > title"))),Wn(T,m,d),T[cn]=o,fn(T),m=T;break e;case"link":var R=jN("link","href",E).get(m+(d.href||""));if(R){for(var V=0;V<R.length;V++)if(T=R[V],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(V,1);break t}}T=E.createElement(m),Wn(T,m,d),E.head.appendChild(T);break;case"meta":if(R=jN("meta","content",E).get(m+(d.content||""))){for(V=0;V<R.length;V++)if(T=R[V],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(V,1);break t}}T=E.createElement(m),Wn(T,m,d),E.head.appendChild(T);break;default:throw Error(r(468,m))}T[cn]=o,fn(T),m=T}o.stateNode=m}else UN(E,o.type,o.stateNode);else o.stateNode=LN(E,m,o.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?UN(E,o.type,o.stateNode):LN(E,m,o.memoizedProps)):m===null&&o.stateNode!==null&&W0(o,o.memoizedProps,d.memoizedProps)}break;case 27:Sr(l,o),wr(o),m&512&&(gn||d===null||xa(d,d.return)),d!==null&&m&4&&W0(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Sr(l,o),wr(o),m&512&&(gn||d===null||xa(d,d.return)),o.flags&32){E=o.stateNode;try{Er(E,"")}catch(Ce){vt(o,o.return,Ce)}}m&4&&o.stateNode!=null&&(E=o.memoizedProps,W0(o,E,d!==null?d.memoizedProps:E)),m&1024&&(Q0=!0);break;case 6:if(Sr(l,o),wr(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(Ce){vt(o,o.return,Ce)}}break;case 3:if(Hp=null,E=Li,Li=qp(l.containerInfo),Sr(l,o),Li=E,wr(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Fu(l.containerInfo)}catch(Ce){vt(o,o.return,Ce)}Q0&&(Q0=!1,UC(o));break;case 4:m=Li,Li=qp(o.stateNode.containerInfo),Sr(l,o),wr(o),Li=m;break;case 12:Sr(l,o),wr(o);break;case 31:Sr(l,o),wr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ip(o,m)));break;case 13:Sr(l,o),wr(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pp=Mn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ip(o,m)));break;case 22:E=o.memoizedState!==null;var G=d!==null&&d.memoizedState!==null,ee=Ja,se=gn;if(Ja=ee||E,gn=se||G,Sr(l,o),gn=se,Ja=ee,wr(o),m&8192)e:for(l=o.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(d===null||G||Ja||gn||pl(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){G=d=l;try{if(T=G.stateNode,E)R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{V=G.stateNode;var fe=G.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;V.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ce){vt(G,G.return,Ce)}}}else if(l.tag===6){if(d===null){G=l;try{G.stateNode.nodeValue=E?"":G.memoizedProps}catch(Ce){vt(G,G.return,Ce)}}}else if(l.tag===18){if(d===null){G=l;try{var ie=G.stateNode;E?CN(ie,!0):CN(G.stateNode,!1)}catch(Ce){vt(G,G.return,Ce)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Ip(o,d))));break;case 19:Sr(l,o),wr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ip(o,m)));break;case 30:break;case 21:break;default:Sr(l,o),wr(o)}}function wr(o){var l=o.flags;if(l&2){try{for(var d,m=o.return;m!==null;){if(IC(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var E=d.stateNode,T=J0(o);Np(o,T,E);break;case 5:var R=d.stateNode;d.flags&32&&(Er(R,""),d.flags&=-33);var V=J0(o);Np(o,V,R);break;case 3:case 4:var G=d.stateNode.containerInfo,ee=J0(o);X0(o,ee,G);break;default:throw Error(r(161))}}catch(se){vt(o,o.return,se)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function UC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;UC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Qa(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)MC(o,l.alternate,l),l=l.sibling}function pl(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:ts(4,l,l.return),pl(l);break;case 1:xa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&CC(l,l.return,d),pl(l);break;case 27:Vf(l.stateNode);case 26:case 5:xa(l,l.return),pl(l);break;case 22:l.memoizedState===null&&pl(l);break;case 30:pl(l);break;default:pl(l)}o=o.sibling}}function Za(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,E=o,T=l,R=T.flags;switch(T.tag){case 0:case 11:case 15:Za(E,T,d),If(4,T);break;case 1:if(Za(E,T,d),m=T,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ee){vt(m,m.return,ee)}if(m=T,E=m.updateQueue,E!==null){var V=m.stateNode;try{var G=E.shared.hiddenCallbacks;if(G!==null)for(E.shared.hiddenCallbacks=null,E=0;E<G.length;E++)mA(G[E],V)}catch(ee){vt(m,m.return,ee)}}d&&R&64&&AC(T),Rf(T,T.return);break;case 27:RC(T);case 26:case 5:Za(E,T,d),d&&m===null&&R&4&&NC(T),Rf(T,T.return);break;case 12:Za(E,T,d);break;case 31:Za(E,T,d),d&&R&4&&kC(E,T);break;case 13:Za(E,T,d),d&&R&4&&LC(E,T);break;case 22:T.memoizedState===null&&Za(E,T,d),Rf(T,T.return);break;case 30:break;default:Za(E,T,d)}l=l.sibling}}function Z0(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&gf(d))}function ex(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&gf(o))}function ji(o,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)VC(o,l,d,m),l=l.sibling}function VC(o,l,d,m){var E=l.flags;switch(l.tag){case 0:case 11:case 15:ji(o,l,d,m),E&2048&&If(9,l);break;case 1:ji(o,l,d,m);break;case 3:ji(o,l,d,m),E&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&gf(o)));break;case 12:if(E&2048){ji(o,l,d,m),o=l.stateNode;try{var T=l.memoizedProps,R=T.id,V=T.onPostCommit;typeof V=="function"&&V(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){vt(l,l.return,G)}}else ji(o,l,d,m);break;case 31:ji(o,l,d,m);break;case 13:ji(o,l,d,m);break;case 23:break;case 22:T=l.stateNode,R=l.alternate,l.memoizedState!==null?T._visibility&2?ji(o,l,d,m):Pf(o,l):T._visibility&2?ji(o,l,d,m):(T._visibility|=2,Pu(o,l,d,m,(l.subtreeFlags&10256)!==0||!1)),E&2048&&Z0(R,l);break;case 24:ji(o,l,d,m),E&2048&&ex(l.alternate,l);break;default:ji(o,l,d,m)}}function Pu(o,l,d,m,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=o,R=l,V=d,G=m,ee=R.flags;switch(R.tag){case 0:case 11:case 15:Pu(T,R,V,G,E),If(8,R);break;case 23:break;case 22:var se=R.stateNode;R.memoizedState!==null?se._visibility&2?Pu(T,R,V,G,E):Pf(T,R):(se._visibility|=2,Pu(T,R,V,G,E)),E&&ee&2048&&Z0(R.alternate,R);break;case 24:Pu(T,R,V,G,E),E&&ee&2048&&ex(R.alternate,R);break;default:Pu(T,R,V,G,E)}l=l.sibling}}function Pf(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,m=l,E=m.flags;switch(m.tag){case 22:Pf(d,m),E&2048&&Z0(m.alternate,m);break;case 24:Pf(d,m),E&2048&&ex(m.alternate,m);break;default:Pf(d,m)}l=l.sibling}}var Mf=8192;function Mu(o,l,d){if(o.subtreeFlags&Mf)for(o=o.child;o!==null;)BC(o,l,d),o=o.sibling}function BC(o,l,d){switch(o.tag){case 26:Mu(o,l,d),o.flags&Mf&&o.memoizedState!==null&&lF(d,Li,o.memoizedState,o.memoizedProps);break;case 5:Mu(o,l,d);break;case 3:case 4:var m=Li;Li=qp(o.stateNode.containerInfo),Mu(o,l,d),Li=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Mf,Mf=16777216,Mu(o,l,d),Mf=m):Mu(o,l,d));break;default:Mu(o,l,d)}}function zC(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Df(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];kn=m,qC(m,o)}zC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)FC(o),o=o.sibling}function FC(o){switch(o.tag){case 0:case 11:case 15:Df(o),o.flags&2048&&ts(9,o,o.return);break;case 3:Df(o);break;case 12:Df(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Rp(o)):Df(o);break;default:Df(o)}}function Rp(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];kn=m,qC(m,o)}zC(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:ts(8,l,l.return),Rp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Rp(l));break;default:Rp(l)}o=o.sibling}}function qC(o,l){for(;kn!==null;){var d=kn;switch(d.tag){case 0:case 11:case 15:ts(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:gf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,kn=m;else e:for(d=o;kn!==null;){m=kn;var E=m.sibling,T=m.return;if(DC(m),m===d){kn=null;break e}if(E!==null){E.return=T,kn=E;break e}kn=T}}}var Tz={getCacheForType:function(o){var l=Kn(hn),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return Kn(hn).controller.signal}},Sz=typeof WeakMap=="function"?WeakMap:Map,ht=0,wt=null,Je=null,Qe=0,gt=0,Br=null,ns=!1,Du=!1,tx=!1,eo=0,Jt=0,rs=0,ml=0,nx=0,zr=0,Ou=0,Of=null,Ar=null,rx=!1,Pp=0,$C=0,Mp=1/0,Dp=null,is=null,Tn=0,as=null,ku=null,to=0,ix=0,ax=null,HC=null,kf=0,ox=null;function Fr(){return(ht&2)!==0&&Qe!==0?Qe&-Qe:W.T!==null?dx():Oh()}function GC(){if(zr===0)if((Qe&536870912)===0||rt){var o=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),zr=o}else zr=536870912;return o=Ur.current,o!==null&&(o.flags|=32),zr}function Cr(o,l,d){(o===wt&&(gt===2||gt===9)||o.cancelPendingCommit!==null)&&(Lu(o,0),os(o,Qe,zr,!1)),qs(o,d),((ht&2)===0||o!==wt)&&(o===wt&&((ht&2)===0&&(ml|=d),Jt===4&&os(o,Qe,zr,!1)),ba(o))}function KC(o,l,d){if((ht&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&o.expiredLanes)===0||Ci(o,l),E=m?Cz(o,l):lx(o,l,!0),T=m;do{if(E===0){Du&&!m&&os(o,l,0,!1);break}else{if(d=o.current.alternate,T&&!wz(d)){E=lx(o,l,!1),T=!1;continue}if(E===2){if(T=l,o.errorRecoveryDisabledLanes&T)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var V=o;E=Of;var G=V.current.memoizedState.isDehydrated;if(G&&(Lu(V,R).flags|=256),R=lx(V,R,!1),R!==2){if(tx&&!G){V.errorRecoveryDisabledLanes|=T,ml|=T,E=4;break e}T=Ar,Ar=E,T!==null&&(Ar===null?Ar=T:Ar.push.apply(Ar,T))}E=R}if(T=!1,E!==2)continue}}if(E===1){Lu(o,0),os(o,l,0,!0);break}e:{switch(m=o,T=E,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:os(m,l,zr,!ns);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=Pp+300-Mn(),10<E)){if(os(m,l,zr,!ns),na(m,0,!0)!==0)break e;to=l,m.timeoutHandle=SN(YC.bind(null,m,d,Ar,Dp,rx,l,zr,ml,Ou,ns,T,"Throttled",-0,0),E);break e}YC(m,d,Ar,Dp,rx,l,zr,ml,Ou,ns,T,null,-0,0)}}break}while(!0);ba(o)}function YC(o,l,d,m,E,T,R,V,G,ee,se,fe,ne,ie){if(o.timeoutHandle=-1,fe=l.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},BC(l,T,fe);var Ce=(T&62914560)===T?Pp-Mn():(T&4194048)===T?$C-Mn():0;if(Ce=uF(fe,Ce),Ce!==null){to=T,o.cancelPendingCommit=Ce(nN.bind(null,o,l,T,d,m,E,R,V,G,se,fe,null,ne,ie)),os(o,T,R,!ee);return}}nN(o,l,T,d,m,E,R,V,G)}function wz(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var E=d[m],T=E.getSnapshot;E=E.value;try{if(!Lr(T(),E))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function os(o,l,d,m){l&=~nx,l&=~ml,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var E=l;0<E;){var T=31-nn(E),R=1<<T;m[T]=-1,E&=~R}d!==0&&$s(o,d,l)}function Op(){return(ht&6)===0?(Lf(0),!1):!0}function sx(){if(Je!==null){if(gt===0)var o=Je.return;else o=Je,$a=ol=null,T0(o),Au=null,yf=0,o=Je;for(;o!==null;)wC(o.alternate,o),o=o.return;Je=null}}function Lu(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,Hz(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),to=0,sx(),wt=o,Je=d=Fa(o.current,null),Qe=l,gt=0,Br=null,ns=!1,Du=Ci(o,l),tx=!1,Ou=zr=nx=ml=rs=Jt=0,Ar=Of=null,rx=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var E=31-nn(m),T=1<<E;l|=o[E],m&=~T}return eo=l,tp(),d}function WC(o,l){Ke=null,W.H=Af,l===wu||l===up?(l=fA(),gt=3):l===f0?(l=fA(),gt=4):gt=l===V0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Br=l,Je===null&&(Jt=1,Tp(o,oi(l,o.current)))}function JC(){var o=Ur.current;return o===null?!0:(Qe&4194048)===Qe?ci===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?o===ci:!1}function XC(){var o=W.H;return W.H=Af,o===null?Af:o}function QC(){var o=W.A;return W.A=Tz,o}function kp(){Jt=4,ns||(Qe&4194048)!==Qe&&Ur.current!==null||(Du=!0),(rs&134217727)===0&&(ml&134217727)===0||wt===null||os(wt,Qe,zr,!1)}function lx(o,l,d){var m=ht;ht|=2;var E=XC(),T=QC();(wt!==o||Qe!==l)&&(Dp=null,Lu(o,l)),l=!1;var R=Jt;e:do try{if(gt!==0&&Je!==null){var V=Je,G=Br;switch(gt){case 8:sx(),R=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(l=!0);var ee=gt;if(gt=0,Br=null,ju(o,V,G,ee),d&&Du){R=0;break e}break;default:ee=gt,gt=0,Br=null,ju(o,V,G,ee)}}Az(),R=Jt;break}catch(se){WC(o,se)}while(!0);return l&&o.shellSuspendCounter++,$a=ol=null,ht=m,W.H=E,W.A=T,Je===null&&(wt=null,Qe=0,tp()),R}function Az(){for(;Je!==null;)ZC(Je)}function Cz(o,l){var d=ht;ht|=2;var m=XC(),E=QC();wt!==o||Qe!==l?(Dp=null,Mp=Mn()+500,Lu(o,l)):Du=Ci(o,l);e:do try{if(gt!==0&&Je!==null){l=Je;var T=Br;t:switch(gt){case 1:gt=0,Br=null,ju(o,l,T,1);break;case 2:case 9:if(uA(T)){gt=0,Br=null,eN(l);break}l=function(){gt!==2&&gt!==9||wt!==o||(gt=7),ba(o)},T.then(l,l);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:uA(T)?(gt=0,Br=null,eN(l)):(gt=0,Br=null,ju(o,l,T,7));break;case 5:var R=null;switch(Je.tag){case 26:R=Je.memoizedState;case 5:case 27:var V=Je;if(R?VN(R):V.stateNode.complete){gt=0,Br=null;var G=V.sibling;if(G!==null)Je=G;else{var ee=V.return;ee!==null?(Je=ee,Lp(ee)):Je=null}break t}}gt=0,Br=null,ju(o,l,T,5);break;case 6:gt=0,Br=null,ju(o,l,T,6);break;case 8:sx(),Jt=6;break e;default:throw Error(r(462))}}Nz();break}catch(se){WC(o,se)}while(!0);return $a=ol=null,W.H=m,W.A=E,ht=d,Je!==null?0:(wt=null,Qe=0,tp(),Jt)}function Nz(){for(;Je!==null&&!$c();)ZC(Je)}function ZC(o){var l=TC(o.alternate,o,eo);o.memoizedProps=o.pendingProps,l===null?Lp(o):Je=l}function eN(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=vC(d,l,l.pendingProps,l.type,void 0,Qe);break;case 11:l=vC(d,l,l.pendingProps,l.type.render,l.ref,Qe);break;case 5:T0(l);default:wC(d,l),l=Je=Q1(l,eo),l=TC(d,l,eo)}o.memoizedProps=o.pendingProps,l===null?Lp(o):Je=l}function ju(o,l,d,m){$a=ol=null,T0(l),Au=null,yf=0;var E=l.return;try{if(gz(o,E,l,d,Qe)){Jt=1,Tp(o,oi(d,o.current)),Je=null;return}}catch(T){if(E!==null)throw Je=E,T;Jt=1,Tp(o,oi(d,o.current)),Je=null;return}l.flags&32768?(rt||m===1?o=!0:Du||(Qe&536870912)!==0?o=!1:(ns=o=!0,(m===2||m===9||m===3||m===6)&&(m=Ur.current,m!==null&&m.tag===13&&(m.flags|=16384))),tN(l,o)):Lp(l)}function Lp(o){var l=o;do{if((l.flags&32768)!==0){tN(l,ns);return}o=l.return;var d=xz(l.alternate,l,eo);if(d!==null){Je=d;return}if(l=l.sibling,l!==null){Je=l;return}Je=l=o}while(l!==null);Jt===0&&(Jt=5)}function tN(o,l){do{var d=bz(o.alternate,o);if(d!==null){d.flags&=32767,Je=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Je=o;return}Je=o=d}while(o!==null);Jt=6,Je=null}function nN(o,l,d,m,E,T,R,V,G){o.cancelPendingCommit=null;do jp();while(Tn!==0);if((ht&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=Jy,zy(o,d,T,R,V,G),o===wt&&(Je=wt=null,Qe=0),ku=l,as=o,to=d,ix=T,ax=E,HC=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Mz(Lo,function(){return sN(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,E=oe.p,oe.p=2,R=ht,ht|=4;try{_z(o,l,d)}finally{ht=R,oe.p=E,W.T=m}}Tn=1,rN(),iN(),aN()}}function rN(){if(Tn===1){Tn=0;var o=as,l=ku,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var m=oe.p;oe.p=2;var E=ht;ht|=4;try{jC(l,o);var T=bx,R=q1(o.containerInfo),V=T.focusedElem,G=T.selectionRange;if(R!==V&&V&&V.ownerDocument&&F1(V.ownerDocument.documentElement,V)){if(G!==null&&Hy(V)){var ee=G.start,se=G.end;if(se===void 0&&(se=ee),"selectionStart"in V)V.selectionStart=ee,V.selectionEnd=Math.min(se,V.value.length);else{var fe=V.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Ce=V.textContent.length,Ue=Math.min(G.start,Ce),Et=G.end===void 0?Ue:Math.min(G.end,Ce);!ie.extend&&Ue>Et&&(R=Et,Et=Ue,Ue=R);var J=z1(V,Ue),Y=z1(V,Et);if(J&&Y&&(ie.rangeCount!==1||ie.anchorNode!==J.node||ie.anchorOffset!==J.offset||ie.focusNode!==Y.node||ie.focusOffset!==Y.offset)){var Q=fe.createRange();Q.setStart(J.node,J.offset),ie.removeAllRanges(),Ue>Et?(ie.addRange(Q),ie.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),ie.addRange(Q))}}}}for(fe=[],ie=V;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<fe.length;V++){var ce=fe[V];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Wp=!!xx,bx=xx=null}finally{ht=E,oe.p=m,W.T=d}}o.current=l,Tn=2}}function iN(){if(Tn===2){Tn=0;var o=as,l=ku,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var m=oe.p;oe.p=2;var E=ht;ht|=4;try{MC(o,l.alternate,l)}finally{ht=E,oe.p=m,W.T=d}}Tn=3}}function aN(){if(Tn===4||Tn===3){Tn=0,ja();var o=as,l=ku,d=to,m=HC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tn=5:(Tn=0,ku=as=null,oN(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(is=null),Ua(d),l=l.stateNode,$n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Ai,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=W.T,E=oe.p,oe.p=2,W.T=null;try{for(var T=o.onRecoverableError,R=0;R<m.length;R++){var V=m[R];T(V.value,{componentStack:V.stack})}}finally{W.T=l,oe.p=E}}(to&3)!==0&&jp(),ba(o),E=o.pendingLanes,(d&261930)!==0&&(E&42)!==0?o===ox?kf++:(kf=0,ox=o):kf=0,Lf(0)}}function oN(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,gf(l)))}function jp(){return rN(),iN(),aN(),sN()}function sN(){if(Tn!==5)return!1;var o=as,l=ix;ix=0;var d=Ua(to),m=W.T,E=oe.p;try{oe.p=32>d?32:d,W.T=null,d=ax,ax=null;var T=as,R=to;if(Tn=0,ku=as=null,to=0,(ht&6)!==0)throw Error(r(331));var V=ht;if(ht|=4,FC(T.current),VC(T,T.current,R,d),ht=V,Lf(0,!1),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Ai,T)}catch{}return!0}finally{oe.p=E,W.T=m,oN(o,l)}}function lN(o,l,d){l=oi(d,l),l=U0(o.stateNode,l,2),o=Qo(o,l,2),o!==null&&(qs(o,2),ba(o))}function vt(o,l,d){if(o.tag===3)lN(o,o,d);else for(;l!==null;){if(l.tag===3){lN(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))){o=oi(d,o),d=uC(2),m=Qo(l,d,2),m!==null&&(cC(d,m,l,o),qs(m,2),ba(m));break}}l=l.return}}function ux(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new Sz;var E=new Set;m.set(l,E)}else E=m.get(l),E===void 0&&(E=new Set,m.set(l,E));E.has(d)||(tx=!0,E.add(d),o=Iz.bind(null,o,l,d),l.then(o,o))}function Iz(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,wt===o&&(Qe&d)===d&&(Jt===4||Jt===3&&(Qe&62914560)===Qe&&300>Mn()-Pp?(ht&2)===0&&Lu(o,0):nx|=d,Ou===Qe&&(Ou=0)),ba(o)}function uN(o,l){l===0&&(l=Dh()),o=rl(o,l),o!==null&&(qs(o,l),ba(o))}function Rz(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),uN(o,d)}function Pz(o,l){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,E=o.memoizedState;E!==null&&(d=E.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),uN(o,d)}function Mz(o,l){return tn(o,l)}var Up=null,Uu=null,cx=!1,Vp=!1,fx=!1,ss=0;function ba(o){o!==Uu&&o.next===null&&(Uu===null?Up=Uu=o:Uu=Uu.next=o),Vp=!0,cx||(cx=!0,Oz())}function Lf(o,l){if(!fx&&Vp){fx=!0;do for(var d=!1,m=Up;m!==null;){if(o!==0){var E=m.pendingLanes;if(E===0)var T=0;else{var R=m.suspendedLanes,V=m.pingedLanes;T=(1<<31-nn(42|o)+1)-1,T&=E&~(R&~V),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,hN(m,T))}else T=Qe,T=na(m,m===wt?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Ci(m,T)||(d=!0,hN(m,T));m=m.next}while(d);fx=!1}}function Dz(){cN()}function cN(){Vp=cx=!1;var o=0;ss!==0&&$z()&&(o=ss);for(var l=Mn(),d=null,m=Up;m!==null;){var E=m.next,T=fN(m,l);T===0?(m.next=null,d===null?Up=E:d.next=E,E===null&&(Uu=d)):(d=m,(o!==0||(T&3)!==0)&&(Vp=!0)),m=E}Tn!==0&&Tn!==5||Lf(o),ss!==0&&(ss=0)}function fN(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,E=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var R=31-nn(T),V=1<<R,G=E[R];G===-1?((V&d)===0||(V&m)!==0)&&(E[R]=By(V,l)):G<=l&&(o.expiredLanes|=V),T&=~V}if(l=wt,d=Qe,d=na(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===l&&(gt===2||gt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Qi(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Ci(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(m!==null&&Qi(m),Ua(d)){case 2:case 8:d=Hc;break;case 32:d=Lo;break;case 268435456:d=Nh;break;default:d=Lo}return m=dN.bind(null,o),d=tn(d,m),o.callbackPriority=l,o.callbackNode=d,l}return m!==null&&m!==null&&Qi(m),o.callbackPriority=2,o.callbackNode=null,2}function dN(o,l){if(Tn!==0&&Tn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(jp()&&o.callbackNode!==d)return null;var m=Qe;return m=na(o,o===wt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(KC(o,m,l),fN(o,Mn()),o.callbackNode!=null&&o.callbackNode===d?dN.bind(null,o):null)}function hN(o,l){if(jp())return null;KC(o,l,!0)}function Oz(){Gz(function(){(ht&6)!==0?tn(nt,Dz):cN()})}function dx(){if(ss===0){var o=Tu;o===0&&(o=ea,ea<<=1,(ea&261888)===0&&(ea=256)),ss=o}return ss}function pN(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:lu(""+o)}function mN(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function kz(o,l,d,m,E){if(l==="submit"&&d&&d.stateNode===E){var T=pN((E[Dn]||null).action),R=m.submitter;R&&(l=(l=R[Dn]||null)?pN(l.formAction):R.getAttribute("formAction"),l!==null&&(T=l,R=null));var V=new ha("action","action",null,m,E);o.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ss!==0){var G=R?mN(E,R):new FormData(E);M0(d,{pending:!0,data:G,method:E.method,action:T},null,G)}}else typeof T=="function"&&(V.preventDefault(),G=R?mN(E,R):new FormData(E),M0(d,{pending:!0,data:G,method:E.method,action:T},T,G))},currentTarget:E}]})}}for(var hx=0;hx<Wy.length;hx++){var px=Wy[hx],Lz=px.toLowerCase(),jz=px[0].toUpperCase()+px.slice(1);ki(Lz,"on"+jz)}ki(G1,"onAnimationEnd"),ki(K1,"onAnimationIteration"),ki(Y1,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(ZB,"onTransitionRun"),ki(ez,"onTransitionStart"),ki(tz,"onTransitionCancel"),ki(W1,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jf));function gN(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],E=m.event;m=m.listeners;e:{var T=void 0;if(l)for(var R=m.length-1;0<=R;R--){var V=m[R],G=V.instance,ee=V.currentTarget;if(V=V.listener,G!==T&&E.isPropagationStopped())break e;T=V,E.currentTarget=ee;try{T(E)}catch(se){ep(se)}E.currentTarget=null,T=G}else for(R=0;R<m.length;R++){if(V=m[R],G=V.instance,ee=V.currentTarget,V=V.listener,G!==T&&E.isPropagationStopped())break e;T=V,E.currentTarget=ee;try{T(E)}catch(se){ep(se)}E.currentTarget=null,T=G}}}}function Xe(o,l){var d=l[ru];d===void 0&&(d=l[ru]=new Set);var m=o+"__bubble";d.has(m)||(vN(l,o,2,!1),d.add(m))}function mx(o,l,d){var m=0;l&&(m|=4),vN(d,o,m,l)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function gx(o){if(!o[Bp]){o[Bp]=!0,Yc.forEach(function(d){d!=="selectionchange"&&(Uz.has(d)||mx(d,!1,o),mx(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Bp]||(l[Bp]=!0,mx("selectionchange",!1,l))}}function vN(o,l,d,m){switch(GN(l)){case 2:var E=dF;break;case 8:E=hF;break;default:E=Px}d=E.bind(null,l,d,o),E=void 0,!Ws||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),m?E!==void 0?o.addEventListener(l,d,{capture:!0,passive:E}):o.addEventListener(l,d,!0):E!==void 0?o.addEventListener(l,d,{passive:E}):o.addEventListener(l,d,!1)}function vx(o,l,d,m,E){var T=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var V=m.stateNode.containerInfo;if(V===E)break;if(R===4)for(R=m.return;R!==null;){var G=R.tag;if((G===3||G===4)&&R.stateNode.containerInfo===E)return;R=R.return}for(;V!==null;){if(R=oa(V),R===null)return;if(G=R.tag,G===5||G===6||G===26||G===27){m=T=R;continue e}V=V.parentNode}}m=m.return}Fo(function(){var ee=T,se=ni(d),fe=[];e:{var ne=J1.get(o);if(ne!==void 0){var ie=ha,Ce=o;switch(o){case"keypress":if(Xs(d)===0)break e;case"keydown":case"keyup":ie=Xh;break;case"focusin":Ce="focus",ie=Zs;break;case"focusout":Ce="blur",ie=Zs;break;case"beforeblur":case"afterblur":ie=Zs;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=N;break;case G1:case K1:case Y1:ie=$h;break;case W1:ie=H;break;case"scroll":case"scrollend":ie=sf;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=za;break;case"toggle":case"beforetoggle":ie=Ge}var Ue=(l&4)!==0,Et=!Ue&&(o==="scroll"||o==="scrollend"),J=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var Y=ee,Q;Y!==null;){var ce=Y;if(Q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Q===null||J===null||(ce=Pi(Y,J),ce!=null&&Ue.push(Uf(Y,ce,Q))),Et)break;Y=Y.return}0<Ue.length&&(ne=new ie(ne,Ce,null,d,se),fe.push({event:ne,listeners:Ue}))}}if((l&7)===0){e:{if(ne=o==="mouseover"||o==="pointerover",ie=o==="mouseout"||o==="pointerout",ne&&d!==rf&&(Ce=d.relatedTarget||d.fromElement)&&(oa(Ce)||Ce[ia]))break e;if((ie||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ce=d.relatedTarget||d.toElement,ie=ee,Ce=Ce?oa(Ce):null,Ce!==null&&(Et=a(Ce),Ue=Ce.tag,Ce!==Et||Ue!==5&&Ue!==27&&Ue!==6)&&(Ce=null)):(ie=null,Ce=ee),ie!==Ce)){if(Ue=lf,ce="onMouseLeave",J="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=za,ce="onPointerLeave",J="onPointerEnter",Y="pointer"),Et=ie==null?ne:Or(ie),Q=Ce==null?ne:Or(Ce),ne=new Ue(ce,Y+"leave",ie,d,se),ne.target=Et,ne.relatedTarget=Q,ce=null,oa(se)===ee&&(Ue=new Ue(J,Y+"enter",Ce,d,se),Ue.target=Q,Ue.relatedTarget=Et,ce=Ue),Et=ce,ie&&Ce)t:{for(Ue=Vz,J=ie,Y=Ce,Q=0,ce=J;ce;ce=Ue(ce))Q++;ce=0;for(var ke=Y;ke;ke=Ue(ke))ce++;for(;0<Q-ce;)J=Ue(J),Q--;for(;0<ce-Q;)Y=Ue(Y),ce--;for(;Q--;){if(J===Y||Y!==null&&J===Y.alternate){Ue=J;break t}J=Ue(J),Y=Ue(Y)}Ue=null}else Ue=null;ie!==null&&yN(fe,ne,ie,Ue,!1),Ce!==null&&Et!==null&&yN(fe,Et,Ce,Ue,!0)}}e:{if(ne=ee?Or(ee):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var st=k1;else if(D1(ne))if(L1)st=JB;else{st=YB;var Ie=KB}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&su(ee.elementType)&&(st=k1):st=WB;if(st&&(st=st(o,ee))){O1(fe,st,d,se);break e}Ie&&Ie(o,ne,ee),o==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&ef(ne,"number",ne.value)}switch(Ie=ee?Or(ee):window,o){case"focusin":(D1(Ie)||Ie.contentEditable==="true")&&(mu=Ie,Gy=ee,hf=null);break;case"focusout":hf=Gy=mu=null;break;case"mousedown":Ky=!0;break;case"contextmenu":case"mouseup":case"dragend":Ky=!1,$1(fe,d,se);break;case"selectionchange":if(QB)break;case"keydown":case"keyup":$1(fe,d,se)}var Ye;if(dt)e:{switch(o){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else pu?el(o,d)&&(Ze="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ze="onCompositionStart");Ze&&(ga&&d.locale!=="ko"&&(pu||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&pu&&(Ye=of()):(da=se,af="value"in da?da.value:da.textContent,pu=!0)),Ie=zp(ee,Ze),0<Ie.length&&(Ze=new ma(Ze,o,null,d,se),fe.push({event:Ze,listeners:Ie}),Ye?Ze.data=Ye:(Ye=hu(d),Ye!==null&&(Ze.data=Ye)))),(Ye=ii?qB(o,d):$B(o,d))&&(Ze=zp(ee,"onBeforeInput"),0<Ze.length&&(Ie=new ma("onBeforeInput","beforeinput",null,d,se),fe.push({event:Ie,listeners:Ze}),Ie.data=Ye)),kz(fe,o,ee,d,se)}gN(fe,l)})}function Uf(o,l,d){return{instance:o,listener:l,currentTarget:d}}function zp(o,l){for(var d=l+"Capture",m=[];o!==null;){var E=o,T=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||T===null||(E=Pi(o,d),E!=null&&m.unshift(Uf(o,E,T)),E=Pi(o,l),E!=null&&m.push(Uf(o,E,T))),o.tag===3)return m;o=o.return}return[]}function Vz(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function yN(o,l,d,m,E){for(var T=l._reactName,R=[];d!==null&&d!==m;){var V=d,G=V.alternate,ee=V.stateNode;if(V=V.tag,G!==null&&G===m)break;V!==5&&V!==26&&V!==27||ee===null||(G=ee,E?(ee=Pi(d,T),ee!=null&&R.unshift(Uf(d,ee,G))):E||(ee=Pi(d,T),ee!=null&&R.push(Uf(d,ee,G)))),d=d.return}R.length!==0&&o.push({event:l,listeners:R})}var Bz=/\r\n?/g,zz=/\u0000|\uFFFD/g;function xN(o){return(typeof o=="string"?o:""+o).replace(Bz,`
`).replace(zz,"")}function bN(o,l){return l=xN(l),xN(o)===l}function _t(o,l,d,m,E,T){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Er(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Er(o,""+m);break;case"className":kr(o,"class",m);break;case"tabIndex":kr(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(o,d,m);break;case"style":nf(o,m,T);break;case"data":if(l!=="object"){kr(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=lu(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&_t(o,l,"name",E.name,E,null),_t(o,l,"formEncType",E.formEncType,E,null),_t(o,l,"formMethod",E.formMethod,E,null),_t(o,l,"formTarget",E.formTarget,E,null)):(_t(o,l,"encType",E.encType,E,null),_t(o,l,"method",E.method,E,null),_t(o,l,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=lu(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=Ri);break;case"onScroll":m!=null&&Xe("scroll",o);break;case"onScrollEnd":m!=null&&Xe("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=lu(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":Xe("beforetoggle",o),Xe("toggle",o),au(o,"popover",m);break;case"xlinkActuate":dn(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":dn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":dn(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":dn(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":dn(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":dn(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":dn(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":dn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":dn(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":au(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zh.get(d)||d,au(o,d,m))}}function yx(o,l,d,m,E,T){switch(d){case"style":nf(o,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?Er(o,m):(typeof m=="number"||typeof m=="bigint")&&Er(o,""+m);break;case"onScroll":m!=null&&Xe("scroll",o);break;case"onScrollEnd":m!=null&&Xe("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),l=d.slice(2,E?d.length-7:void 0),T=o[Dn]||null,T=T!=null?T[d]:null,typeof T=="function"&&o.removeEventListener(l,T,E),typeof m=="function")){typeof T!="function"&&T!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,m,E);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):au(o,d,m)}}}function Wn(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",o),Xe("load",o);var m=!1,E=!1,T;for(T in d)if(d.hasOwnProperty(T)){var R=d[T];if(R!=null)switch(T){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_t(o,l,T,R,d,null)}}E&&_t(o,l,"srcSet",d.srcSet,d,null),m&&_t(o,l,"src",d.src,d,null);return;case"input":Xe("invalid",o);var V=T=R=E=null,G=null,ee=null;for(m in d)if(d.hasOwnProperty(m)){var se=d[m];if(se!=null)switch(m){case"name":E=se;break;case"type":R=se;break;case"checked":G=se;break;case"defaultChecked":ee=se;break;case"value":T=se;break;case"defaultValue":V=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:_t(o,l,m,se,d,null)}}Uh(o,T,V,G,ee,R,E,!1);return;case"select":Xe("invalid",o),m=R=T=null;for(E in d)if(d.hasOwnProperty(E)&&(V=d[E],V!=null))switch(E){case"value":T=V;break;case"defaultValue":R=V;break;case"multiple":m=V;default:_t(o,l,E,V,d,null)}l=T,d=R,o.multiple=!!m,l!=null?Uo(o,!!m,l,!1):d!=null&&Uo(o,!!m,d,!0);return;case"textarea":Xe("invalid",o),T=E=m=null;for(R in d)if(d.hasOwnProperty(R)&&(V=d[R],V!=null))switch(R){case"value":m=V;break;case"defaultValue":E=V;break;case"children":T=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:_t(o,l,R,V,d,null)}Vo(o,m,E,T);return;case"option":for(G in d)if(d.hasOwnProperty(G)&&(m=d[G],m!=null))switch(G){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:_t(o,l,G,m,d,null)}return;case"dialog":Xe("beforetoggle",o),Xe("toggle",o),Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":Xe("load",o);break;case"video":case"audio":for(m=0;m<jf.length;m++)Xe(jf[m],o);break;case"image":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"embed":case"source":case"link":Xe("error",o),Xe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(m=d[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_t(o,l,ee,m,d,null)}return;default:if(su(l)){for(se in d)d.hasOwnProperty(se)&&(m=d[se],m!==void 0&&yx(o,l,se,m,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(m=d[V],m!=null&&_t(o,l,V,m,d,null))}function Fz(o,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,T=null,R=null,V=null,G=null,ee=null,se=null;for(ie in d){var fe=d[ie];if(d.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":G=fe;default:m.hasOwnProperty(ie)||_t(o,l,ie,null,m,fe)}}for(var ne in m){var ie=m[ne];if(fe=d[ne],m.hasOwnProperty(ne)&&(ie!=null||fe!=null))switch(ne){case"type":T=ie;break;case"name":E=ie;break;case"checked":ee=ie;break;case"defaultChecked":se=ie;break;case"value":R=ie;break;case"defaultValue":V=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:ie!==fe&&_t(o,l,ne,ie,m,fe)}}ou(o,R,V,G,ee,se,T,E);return;case"select":ie=R=V=ne=null;for(T in d)if(G=d[T],d.hasOwnProperty(T)&&G!=null)switch(T){case"value":break;case"multiple":ie=G;default:m.hasOwnProperty(T)||_t(o,l,T,null,m,G)}for(E in m)if(T=m[E],G=d[E],m.hasOwnProperty(E)&&(T!=null||G!=null))switch(E){case"value":ne=T;break;case"defaultValue":V=T;break;case"multiple":R=T;default:T!==G&&_t(o,l,E,T,m,G)}l=V,d=R,m=ie,ne!=null?Uo(o,!!d,ne,!1):!!m!=!!d&&(l!=null?Uo(o,!!d,l,!0):Uo(o,!!d,d?[]:"",!1));return;case"textarea":ie=ne=null;for(V in d)if(E=d[V],d.hasOwnProperty(V)&&E!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:_t(o,l,V,null,m,E)}for(R in m)if(E=m[R],T=d[R],m.hasOwnProperty(R)&&(E!=null||T!=null))switch(R){case"value":ne=E;break;case"defaultValue":ie=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==T&&_t(o,l,R,E,m,T)}Vh(o,ne,ie);return;case"option":for(var Ce in d)if(ne=d[Ce],d.hasOwnProperty(Ce)&&ne!=null&&!m.hasOwnProperty(Ce))switch(Ce){case"selected":o.selected=!1;break;default:_t(o,l,Ce,null,m,ne)}for(G in m)if(ne=m[G],ie=d[G],m.hasOwnProperty(G)&&ne!==ie&&(ne!=null||ie!=null))switch(G){case"selected":o.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:_t(o,l,G,ne,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in d)ne=d[Ue],d.hasOwnProperty(Ue)&&ne!=null&&!m.hasOwnProperty(Ue)&&_t(o,l,Ue,null,m,ne);for(ee in m)if(ne=m[ee],ie=d[ee],m.hasOwnProperty(ee)&&ne!==ie&&(ne!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:_t(o,l,ee,ne,m,ie)}return;default:if(su(l)){for(var Et in d)ne=d[Et],d.hasOwnProperty(Et)&&ne!==void 0&&!m.hasOwnProperty(Et)&&yx(o,l,Et,void 0,m,ne);for(se in m)ne=m[se],ie=d[se],!m.hasOwnProperty(se)||ne===ie||ne===void 0&&ie===void 0||yx(o,l,se,ne,m,ie);return}}for(var J in d)ne=d[J],d.hasOwnProperty(J)&&ne!=null&&!m.hasOwnProperty(J)&&_t(o,l,J,null,m,ne);for(fe in m)ne=m[fe],ie=d[fe],!m.hasOwnProperty(fe)||ne===ie||ne==null&&ie==null||_t(o,l,fe,ne,m,ie)}function _N(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qz(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var E=d[m],T=E.transferSize,R=E.initiatorType,V=E.duration;if(T&&V&&_N(R)){for(R=0,V=E.responseEnd,m+=1;m<d.length;m++){var G=d[m],ee=G.startTime;if(ee>V)break;var se=G.transferSize,fe=G.initiatorType;se&&_N(fe)&&(G=G.responseEnd,R+=se*(G<V?1:(V-ee)/(G-ee)))}if(--m,l+=8*(T+R)/(E.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var xx=null,bx=null;function Fp(o){return o.nodeType===9?o:o.ownerDocument}function EN(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TN(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function _x(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ex=null;function $z(){var o=window.event;return o&&o.type==="popstate"?o===Ex?!1:(Ex=o,!0):(Ex=null,!1)}var SN=typeof setTimeout=="function"?setTimeout:void 0,Hz=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,Gz=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(o){return wN.resolve(null).then(o).catch(Kz)}:SN;function Kz(o){setTimeout(function(){throw o})}function ls(o){return o==="head"}function AN(o,l){var d=l,m=0;do{var E=d.nextSibling;if(o.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(E),Fu(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Vf(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Vf(d);for(var T=d.firstChild;T;){var R=T.nextSibling,V=T.nodeName;T[aa]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=R}}else d==="body"&&Vf(o.ownerDocument.body);d=E}while(d);Fu(l)}function CN(o,l){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function Tx(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Tx(d),iu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function Yz(o,l,d,m){for(;o.nodeType===1;){var E=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[aa])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var T=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=fi(o.nextSibling),o===null)break}return null}function Wz(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=fi(o.nextSibling),o===null))return null;return o}function NN(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=fi(o.nextSibling),o===null))return null;return o}function Sx(o){return o.data==="$?"||o.data==="$~"}function wx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Jz(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function fi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Ax=null;function IN(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return fi(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function RN(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function PN(o,l,d){switch(l=Fp(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Vf(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);iu(o)}var di=new Map,MN=new Set;function qp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var no=oe.d;oe.d={f:Xz,r:Qz,D:Zz,C:eF,L:tF,m:nF,X:iF,S:rF,M:aF};function Xz(){var o=no.f(),l=Op();return o||l}function Qz(o){var l=ti(o);l!==null&&l.tag===5&&l.type==="form"?WA(l):no.r(o)}var Vu=typeof document>"u"?null:document;function DN(o,l,d){var m=Vu;if(m&&typeof l=="string"&&l){var E=_r(l);E='link[rel="'+o+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),MN.has(E)||(MN.add(E),o={rel:o,crossOrigin:d,href:l},m.querySelector(E)===null&&(l=m.createElement("link"),Wn(l,"link",o),fn(l),m.head.appendChild(l)))}}function Zz(o){no.D(o),DN("dns-prefetch",o,null)}function eF(o,l){no.C(o,l),DN("preconnect",o,l)}function tF(o,l,d){no.L(o,l,d);var m=Vu;if(m&&o&&l){var E='link[rel="preload"][as="'+_r(l)+'"]';l==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+_r(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+_r(d.imageSizes)+'"]')):E+='[href="'+_r(o)+'"]';var T=E;switch(l){case"style":T=Bu(o);break;case"script":T=zu(o)}di.has(T)||(o=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),di.set(T,o),m.querySelector(E)!==null||l==="style"&&m.querySelector(Bf(T))||l==="script"&&m.querySelector(zf(T))||(l=m.createElement("link"),Wn(l,"link",o),fn(l),m.head.appendChild(l)))}}function nF(o,l){no.m(o,l);var d=Vu;if(d&&o){var m=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+_r(m)+'"][href="'+_r(o)+'"]',T=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=zu(o)}if(!di.has(T)&&(o=p({rel:"modulepreload",href:o},l),di.set(T,o),d.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(zf(T)))return}m=d.createElement("link"),Wn(m,"link",o),fn(m),d.head.appendChild(m)}}}function rF(o,l,d){no.S(o,l,d);var m=Vu;if(m&&o){var E=sa(m).hoistableStyles,T=Bu(o);l=l||"default";var R=E.get(T);if(!R){var V={loading:0,preload:null};if(R=m.querySelector(Bf(T)))V.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},d),(d=di.get(T))&&Cx(o,d);var G=R=m.createElement("link");fn(G),Wn(G,"link",o),G._p=new Promise(function(ee,se){G.onload=ee,G.onerror=se}),G.addEventListener("load",function(){V.loading|=1}),G.addEventListener("error",function(){V.loading|=2}),V.loading|=4,$p(R,l,m)}R={type:"stylesheet",instance:R,count:1,state:V},E.set(T,R)}}}function iF(o,l){no.X(o,l);var d=Vu;if(d&&o){var m=sa(d).hoistableScripts,E=zu(o),T=m.get(E);T||(T=d.querySelector(zf(E)),T||(o=p({src:o,async:!0},l),(l=di.get(E))&&Nx(o,l),T=d.createElement("script"),fn(T),Wn(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(E,T))}}function aF(o,l){no.M(o,l);var d=Vu;if(d&&o){var m=sa(d).hoistableScripts,E=zu(o),T=m.get(E);T||(T=d.querySelector(zf(E)),T||(o=p({src:o,async:!0,type:"module"},l),(l=di.get(E))&&Nx(o,l),T=d.createElement("script"),fn(T),Wn(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(E,T))}}function ON(o,l,d,m){var E=(E=Ve.current)?qp(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Bu(d.href),d=sa(E).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Bu(d.href);var T=sa(E).hoistableStyles,R=T.get(o);if(R||(E=E.ownerDocument||E,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,R),(T=E.querySelector(Bf(o)))&&!T._p&&(R.instance=T,R.state.loading=5),di.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},di.set(o,d),T||oF(E,o,d,R.state))),l&&m===null)throw Error(r(528,""));return R}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=zu(d),d=sa(E).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Bu(o){return'href="'+_r(o)+'"'}function Bf(o){return'link[rel="stylesheet"]['+o+"]"}function kN(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function oF(o,l,d,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Wn(l,"link",d),fn(l),o.head.appendChild(l))}function zu(o){return'[src="'+_r(o)+'"]'}function zf(o){return"script[async]"+o}function LN(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+_r(d.href)+'"]');if(m)return l.instance=m,fn(m),m;var E=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),fn(m),Wn(m,"style",E),$p(m,d.precedence,o),l.instance=m;case"stylesheet":E=Bu(d.href);var T=o.querySelector(Bf(E));if(T)return l.state.loading|=4,l.instance=T,fn(T),T;m=kN(d),(E=di.get(E))&&Cx(m,E),T=(o.ownerDocument||o).createElement("link"),fn(T);var R=T;return R._p=new Promise(function(V,G){R.onload=V,R.onerror=G}),Wn(T,"link",m),l.state.loading|=4,$p(T,d.precedence,o),l.instance=T;case"script":return T=zu(d.src),(E=o.querySelector(zf(T)))?(l.instance=E,fn(E),E):(m=d,(E=di.get(T))&&(m=p({},d),Nx(m,E)),o=o.ownerDocument||o,E=o.createElement("script"),fn(E),Wn(E,"link",m),o.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,$p(m,d.precedence,o));return l.instance}function $p(o,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,T=E,R=0;R<m.length;R++){var V=m[R];if(V.dataset.precedence===l)T=V;else if(T!==E)break}T?T.parentNode.insertBefore(o,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function Cx(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Nx(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Hp=null;function jN(o,l,d){if(Hp===null){var m=new Map,E=Hp=new Map;E.set(d,m)}else E=Hp,m=E.get(d),m||(m=new Map,E.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),E=0;E<d.length;E++){var T=d[E];if(!(T[aa]||T[cn]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var R=T.getAttribute(l)||"";R=o+R;var V=m.get(R);V?V.push(T):m.set(R,[T])}}return m}function UN(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function sF(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function VN(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function lF(o,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Bu(m.href),T=l.querySelector(Bf(E));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Gp.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=T,fn(T);return}T=l.ownerDocument||l,m=kN(m),(E=di.get(E))&&Cx(m,E),T=T.createElement("link"),fn(T);var R=T;R._p=new Promise(function(V,G){R.onload=V,R.onerror=G}),Wn(T,"link",m),d.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Gp.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Ix=0;function uF(o,l){return o.stylesheets&&o.count===0&&Yp(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&Yp(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+l);0<o.imgBytes&&Ix===0&&(Ix=62500*qz());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Yp(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>Ix?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function Gp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Kp=null;function Yp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Kp=new Map,l.forEach(cF,o),Kp=null,Gp.call(o))}function cF(o,l){if(!(l.state.loading&4)){var d=Kp.get(o);if(d)var m=d.get(null);else{d=new Map,Kp.set(o,d);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<E.length;T++){var R=E[T];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),m=R)}m&&d.set(null,m)}E=l.instance,R=E.getAttribute("data-precedence"),T=d.get(R)||m,T===m&&d.set(null,E),d.set(R,E),this.count++,m=Gp.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),T?T.parentNode.insertBefore(E,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),l.state.loading|=4}}var Ff={$$typeof:P,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function fF(o,l,d,m,E,T,R,V,G){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=T,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function BN(o,l,d,m,E,T,R,V,G,ee,se,fe){return o=new fF(o,l,d,R,G,ee,se,fe,V),l=1,T===!0&&(l|=24),T=jr(3,null,null,l),o.current=T,T.stateNode=o,l=l0(),l.refCount++,o.pooledCache=l,l.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:l},d0(T),o}function zN(o){return o?(o=yu,o):yu}function FN(o,l,d,m,E,T){E=zN(E),m.context===null?m.context=E:m.pendingContext=E,m=Xo(l),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=Qo(o,m,l),d!==null&&(Cr(d,o,l),bf(d,o,l))}function qN(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Rx(o,l){qN(o,l),(o=o.alternate)&&qN(o,l)}function $N(o){if(o.tag===13||o.tag===31){var l=rl(o,67108864);l!==null&&Cr(l,o,67108864),Rx(o,67108864)}}function HN(o){if(o.tag===13||o.tag===31){var l=Fr();l=Hs(l);var d=rl(o,l);d!==null&&Cr(d,o,l),Rx(o,l)}}var Wp=!0;function dF(o,l,d,m){var E=W.T;W.T=null;var T=oe.p;try{oe.p=2,Px(o,l,d,m)}finally{oe.p=T,W.T=E}}function hF(o,l,d,m){var E=W.T;W.T=null;var T=oe.p;try{oe.p=8,Px(o,l,d,m)}finally{oe.p=T,W.T=E}}function Px(o,l,d,m){if(Wp){var E=Mx(m);if(E===null)vx(o,l,m,Jp,d),KN(o,m);else if(mF(E,o,l,d,m))m.stopPropagation();else if(KN(o,m),l&4&&-1<pF.indexOf(o)){for(;E!==null;){var T=ti(E);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var R=ta(T.pendingLanes);if(R!==0){var V=T;for(V.pendingLanes|=2,V.entangledLanes|=2;R;){var G=1<<31-nn(R);V.entanglements[1]|=G,R&=~G}ba(T),(ht&6)===0&&(Mp=Mn()+500,Lf(0))}}break;case 31:case 13:V=rl(T,2),V!==null&&Cr(V,T,2),Op(),Rx(T,2)}if(T=Mx(m),T===null&&vx(o,l,m,Jp,d),T===E)break;E=T}E!==null&&m.stopPropagation()}else vx(o,l,m,null,d)}}function Mx(o){return o=ni(o),Dx(o)}var Jp=null;function Dx(o){if(Jp=null,o=oa(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Jp=o,null}function GN(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zi()){case nt:return 2;case Hc:return 8;case Lo:case Vy:return 32;case Nh:return 268435456;default:return 32}default:return 32}}var Ox=!1,us=null,cs=null,fs=null,qf=new Map,$f=new Map,ds=[],pF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KN(o,l){switch(o){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":qf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":$f.delete(l.pointerId)}}function Hf(o,l,d,m,E,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[E]},l!==null&&(l=ti(l),l!==null&&$N(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),o)}function mF(o,l,d,m,E){switch(l){case"focusin":return us=Hf(us,o,l,d,m,E),!0;case"dragenter":return cs=Hf(cs,o,l,d,m,E),!0;case"mouseover":return fs=Hf(fs,o,l,d,m,E),!0;case"pointerover":var T=E.pointerId;return qf.set(T,Hf(qf.get(T)||null,o,l,d,m,E)),!0;case"gotpointercapture":return T=E.pointerId,$f.set(T,Hf($f.get(T)||null,o,l,d,m,E)),!0}return!1}function YN(o){var l=oa(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,Ni(o.priority,function(){HN(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,Ni(o.priority,function(){HN(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xp(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Mx(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);rf=m,d.target.dispatchEvent(m),rf=null}else return l=ti(d),l!==null&&$N(l),o.blockedOn=d,!1;l.shift()}return!0}function WN(o,l,d){Xp(o)&&d.delete(l)}function gF(){Ox=!1,us!==null&&Xp(us)&&(us=null),cs!==null&&Xp(cs)&&(cs=null),fs!==null&&Xp(fs)&&(fs=null),qf.forEach(WN),$f.forEach(WN)}function Qp(o,l){o.blockedOn===l&&(o.blockedOn=null,Ox||(Ox=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gF)))}var Zp=null;function JN(o){Zp!==o&&(Zp=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zp===o&&(Zp=null);for(var l=0;l<o.length;l+=3){var d=o[l],m=o[l+1],E=o[l+2];if(typeof m!="function"){if(Dx(m||d)===null)continue;break}var T=ti(d);T!==null&&(o.splice(l,3),l-=3,M0(T,{pending:!0,data:E,method:d.method,action:m},m,E))}}))}function Fu(o){function l(G){return Qp(G,o)}us!==null&&Qp(us,o),cs!==null&&Qp(cs,o),fs!==null&&Qp(fs,o),qf.forEach(l),$f.forEach(l);for(var d=0;d<ds.length;d++){var m=ds[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<ds.length&&(d=ds[0],d.blockedOn===null);)YN(d),d.blockedOn===null&&ds.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var E=d[m],T=d[m+1],R=E[Dn]||null;if(typeof T=="function")R||JN(d);else if(R){var V=null;if(T&&T.hasAttribute("formAction")){if(E=T,R=T[Dn]||null)V=R.formAction;else if(Dx(E)!==null)continue}else V=R.action;typeof V=="function"?d[m+1]=V:(d.splice(m,3),m-=3),JN(d)}}}function XN(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(R){return E=R})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function kx(o){this._internalRoot=o}em.prototype.render=kx.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Fr();FN(d,m,o,l,null,null)},em.prototype.unmount=kx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;FN(o.current,2,null,o,null,null),Op(),l[ia]=null}};function em(o){this._internalRoot=o}em.prototype.unstable_scheduleHydration=function(o){if(o){var l=Oh();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ds.length&&l!==0&&l<ds[d].priority;d++);ds.splice(d,0,o),d===0&&YN(o)}};var QN=e.version;if(QN!=="19.2.3")throw Error(r(527,QN,"19.2.3"));oe.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var vF={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Ai=tm.inject(vF),$n=tm}catch{}}return Kf.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,m="",E=aC,T=oC,R=sC;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=BN(o,1,!1,null,null,d,m,null,E,T,R,XN),o[ia]=l.current,gx(o),new kx(l)},Kf.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var m=!1,E="",T=aC,R=oC,V=sC,G=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.formState!==void 0&&(G=d.formState)),l=BN(o,1,!0,l,d??null,m,E,G,T,R,V,XN),l.context=zN(null),d=l.current,m=Fr(),m=Hs(m),E=Xo(m),E.callback=null,Qo(d,E,m),d=m,l.current.lanes=d,qs(l,d),ba(l),o[ia]=l.current,gx(o),new em(l)},Kf.version="19.2.3",Kf}var lI;function RF(){if(lI)return Vx.exports;lI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vx.exports=IF(),Vx.exports}var PF=RF();const a4=ka(PF);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uI="popstate";function MF(t={}){function e(i,a){let{pathname:s="/",search:u="",hash:c=""}=Hl(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),F_("",{pathname:s,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof a=="string"?a:Td(a))}function r(i,a){Jr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return OF(e,n,r,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DF(){return Math.random().toString(36).substring(2,10)}function cI(t,e){return{usr:t.state,key:t.key,idx:e}}function F_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Hl(e):e,state:n,key:e&&e.key||r||DF()}}function Td({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function OF(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){u="POP";let w=h(),I=w==null?null:w-f;f=w,c&&c({action:u,location:S.location,delta:I})}function g(w,I){u="PUSH";let O=F_(S.location,w,I);n&&n(O,w),f=h()+1;let P=cI(O,f),B=S.createHref(O);try{s.pushState(P,"",B)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(B)}a&&c&&c({action:u,location:S.location,delta:1})}function _(w,I){u="REPLACE";let O=F_(S.location,w,I);n&&n(O,w),f=h();let P=cI(O,f),B=S.createHref(O);s.replaceState(P,"",B),a&&c&&c({action:u,location:S.location,delta:0})}function A(w){return kF(w)}let S={get action(){return u},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uI,p),c=w,()=>{i.removeEventListener(uI,p),c=null}},createHref(w){return e(i,w)},createURL:A,encodeLocation(w){let I=A(w);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:g,replace:_,go(w){return s.go(w)}};return S}function kF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Td(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function o4(t,e,n="/"){return LF(t,e,n,!1)}function LF(t,e,n,r){let i=typeof e=="string"?Hl(e):e,a=ho(i.pathname||"/",n);if(a==null)return null;let s=s4(t);jF(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=YF(a);u=GF(s[c],f,r)}return u}function s4(t,e=[],n=[],r="",i=!1){let a=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;zt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=lo([r,h.relativePath]),g=n.concat(h);s.children&&s.children.length>0&&(zt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),s4(s.children,e,g,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:$F(p,s.index),routesMeta:g})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of l4(s.path))a(s,u,!0,f)}),e}function l4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=l4(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function jF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UF=/^:[\w-]+$/,VF=3,BF=2,zF=1,FF=10,qF=-2,fI=t=>t==="*";function $F(t,e){let n=t.split("/"),r=n.length;return n.some(fI)&&(r+=qF),e&&(r+=BF),n.filter(i=>!fI(i)).reduce((i,a)=>i+(UF.test(a)?VF:a===""?zF:FF),r)}function HF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GF(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=Ym({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Ym({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:lo([a,p.pathname]),pathnameBase:QF(lo([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=lo([a,p.pathnameBase]))}return s}function Ym(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let A=u[g]||"";s=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const _=u[g];return p&&!_?f[h]=void 0:f[h]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function KF(t,e=!1,n=!0){Jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ho(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WF=t=>u4.test(t);function JF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hl(t):t,a;if(n)if(WF(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Jr(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=dI(n.substring(1),"/"):a=dI(n,e)}else a=e;return{pathname:a,search:ZF(r),hash:eq(i)}}function dI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DT(t){let e=XF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function OT(t,e,n,r=!1){let i;typeof t=="string"?i=Hl(t):(i={...t},zt(!i.pathname||!i.pathname.includes("?"),qx("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),qx("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),qx("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=JF(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var lo=t=>t.join("/").replace(/\/\/+/g,"/"),QF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tq=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rq(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function f4(t,e){let n=t;if(typeof n!="string"||!u4.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(c4)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=ho(s.pathname,e);s.origin===a.origin&&u!=null?n=u+s.search+s.hash:i=!0}catch{Jr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d4=["POST","PUT","PATCH","DELETE"];new Set(d4);var iq=["GET",...d4];new Set(iq);var wc=C.createContext(null);wc.displayName="DataRouter";var hv=C.createContext(null);hv.displayName="DataRouterState";var aq=C.createContext(!1),h4=C.createContext({isTransitioning:!1});h4.displayName="ViewTransition";var oq=C.createContext(new Map);oq.displayName="Fetchers";var sq=C.createContext(null);sq.displayName="Await";var Zr=C.createContext(null);Zr.displayName="Navigation";var Jd=C.createContext(null);Jd.displayName="Location";var La=C.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var kT=C.createContext(null);kT.displayName="RouteError";var p4="REACT_ROUTER_ERROR",lq="REDIRECT",uq="ROUTE_ERROR_RESPONSE";function cq(t){if(t.startsWith(`${p4}:${lq}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fq(t){if(t.startsWith(`${p4}:${uq}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new tq(e.status,e.statusText,e.data)}catch{}}function dq(t,{relative:e}={}){zt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Zr),{hash:i,pathname:a,search:s}=Xd(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:lo([n,a])),r.createHref({pathname:u,search:s,hash:i})}function Ac(){return C.useContext(Jd)!=null}function Ao(){return zt(Ac(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Jd).location}var m4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g4(t){C.useContext(Zr).static||C.useLayoutEffect(t)}function pv(){let{isDataRoute:t}=C.useContext(La);return t?wq():hq()}function hq(){zt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(wc),{basename:e,navigator:n}=C.useContext(Zr),{matches:r}=C.useContext(La),{pathname:i}=Ao(),a=JSON.stringify(DT(r)),s=C.useRef(!1);return g4(()=>{s.current=!0}),C.useCallback((c,f={})=>{if(Jr(s.current,m4),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=OT(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:lo([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}C.createContext(null);function Xd(t,{relative:e}={}){let{matches:n}=C.useContext(La),{pathname:r}=Ao(),i=JSON.stringify(DT(n));return C.useMemo(()=>OT(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function pq(t,e){return v4(t,e)}function v4(t,e,n,r,i){var O;zt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(Zr),{matches:s}=C.useContext(La),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let P=p&&p.path||"";x4(f,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=Ao(),_;if(e){let P=typeof e=="string"?Hl(e):e;zt(h==="/"||((O=P.pathname)==null?void 0:O.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=g;let A=_.pathname||"/",S=A;if(h!=="/"){let P=h.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=o4(t,{pathname:S});Jr(p||w!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Jr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=xq(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:lo([h,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:lo([h,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),s,n,r,i);return e&&I?C.createElement(Jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function mq(){let t=Sq(),e=nq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}var gq=C.createElement(mq,null),y4=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=fq(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(La.Provider,{value:this.props.routeContext},C.createElement(kT.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(vq,{error:t},e):e}};y4.contextType=aq;var $x=new WeakMap;function vq({children:t,error:e}){let{basename:n}=C.useContext(Zr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=cq(e.digest);if(r){let i=$x.get(e);if(i)throw i;let a=f4(r.location,n);if(c4&&!$x.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw $x.set(e,s),s}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function yq({routeContext:t,match:e,children:n}){let r=C.useContext(wc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(La.Provider,{value:t},n)}function xq(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);zt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:_}=n,A=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||A){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{var g,_;r(h,{location:n.location,params:((_=(g=n.matches)==null?void 0:g[0])==null?void 0:_.params)??{},unstable_pattern:rq(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let _,A=!1,S=null,w=null;n&&(_=s&&p.route.id?s[p.route.id]:void 0,S=p.route.errorElement||gq,u&&(c<0&&g===0?(x4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,w=null):c===g&&(A=!0,w=p.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,g+1)),O=()=>{let P;return _?P=S:A?P=w:p.route.Component?P=C.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=h,C.createElement(yq,{match:p,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(y4,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:O(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:f}):O()},null)}function LT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bq(t){let e=C.useContext(wc);return zt(e,LT(t)),e}function _q(t){let e=C.useContext(hv);return zt(e,LT(t)),e}function Eq(t){let e=C.useContext(La);return zt(e,LT(t)),e}function jT(t){let e=Eq(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Tq(){return jT("useRouteId")}function Sq(){var r;let t=C.useContext(kT),e=_q("useRouteError"),n=jT("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function wq(){let{router:t}=bq("useNavigate"),e=jT("useNavigate"),n=C.useRef(!1);return g4(()=>{n.current=!0}),C.useCallback(async(i,a={})=>{Jr(n.current,m4),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var hI={};function x4(t,e,n){!e&&!hI[t]&&(hI[t]=!0,Jr(!1,n))}C.memo(Aq);function Aq({routes:t,future:e,state:n,onError:r}){return v4(t,void 0,n,r,e)}function Cq({to:t,replace:e,state:n,relative:r}){zt(Ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Zr);Jr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(La),{pathname:s}=Ao(),u=pv(),c=OT(t,DT(a),s,r==="path"),f=JSON.stringify(c);return C.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function qr(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nq({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){zt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[u,i,a,s]);typeof n=="string"&&(n=Hl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:_="default"}=n,A=C.useMemo(()=>{let S=ho(f,u);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:_},navigationType:r}},[u,f,h,p,g,_,r]);return Jr(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:C.createElement(Zr.Provider,{value:c},C.createElement(Jd.Provider,{children:e,value:A}))}function Iq({children:t,location:e}){return pq(q_(t),e)}function q_(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){n.push.apply(n,q_(r.props.children,a));return}zt(r.type===qr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=q_(r.props.children,a)),n.push(s)}),n}var Mm="get",Dm="application/x-www-form-urlencoded";function mv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Rq(t){return mv(t)&&t.tagName.toLowerCase()==="button"}function Pq(t){return mv(t)&&t.tagName.toLowerCase()==="form"}function Mq(t){return mv(t)&&t.tagName.toLowerCase()==="input"}function Dq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Oq(t,e){return t.button===0&&(!e||e==="_self")&&!Dq(t)}var nm=null;function kq(){if(nm===null)try{new FormData(document.createElement("form"),0),nm=!1}catch{nm=!0}return nm}var Lq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hx(t){return t!=null&&!Lq.has(t)?(Jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dm}"`),null):t}function jq(t,e){let n,r,i,a,s;if(Pq(t)){let u=t.getAttribute("action");r=u?ho(u,e):null,n=t.getAttribute("method")||Mm,i=Hx(t.getAttribute("enctype"))||Dm,a=new FormData(t)}else if(Rq(t)||Mq(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?ho(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Mm,i=Hx(t.getAttribute("formenctype"))||Hx(u.getAttribute("enctype"))||Dm,a=new FormData(u,t),!kq()){let{name:f,type:h,value:p}=t;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(mv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mm,r=null,i=Dm,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function UT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uq(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ho(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Vq(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zq(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Vq(a,n);return s.links?s.links():[]}return[]}));return Hq(r.flat(1).filter(Bq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pI(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Fq(t,e,{includeHydrateFallback:n}={}){return qq(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function qq(t){return[...new Set(t)]}function $q(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Hq(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify($q(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function b4(){let t=C.useContext(wc);return UT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Gq(){let t=C.useContext(hv);return UT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var VT=C.createContext(void 0);VT.displayName="FrameworkContext";function _4(){let t=C.useContext(VT);return UT(t,"You must render this element inside a <HydratedRouter> element"),t}function Kq(t,e){let n=C.useContext(VT),[r,i]=C.useState(!1),[a,s]=C.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,g=C.useRef(null);C.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=I=>{I.forEach(O=>{s(O.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[t]),C.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},A=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:Yf(u,_),onBlur:Yf(c,A),onMouseEnter:Yf(f,_),onMouseLeave:Yf(h,A),onTouchStart:Yf(p,_)}]:[!1,g,{}]}function Yf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Yq({page:t,...e}){let{router:n}=b4(),r=C.useMemo(()=>o4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(Jq,{page:t,matches:r,...e}):null}function Wq(t){let{manifest:e,routeModules:n}=_4(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return zq(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function Jq({page:t,matches:e,...n}){let r=Ao(),{future:i,manifest:a,routeModules:s}=_4(),{basename:u}=b4(),{loaderData:c,matches:f}=Gq(),h=C.useMemo(()=>pI(t,e,f,a,r,"data"),[t,e,f,a,r]),p=C.useMemo(()=>pI(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(O=>{var B;let P=a.routes[O.route.id];!P||!P.hasLoader||(!h.some(L=>L.route.id===O.route.id)&&O.route.id in c&&((B=s[O.route.id])!=null&&B.shouldRevalidate)||P.hasClientLoader?w=!0:S.add(O.route.id))}),S.size===0)return[];let I=Uq(t,u,i.unstable_trailingSlashAwareDataRequests,"data");return w&&S.size>0&&I.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[u,i.unstable_trailingSlashAwareDataRequests,c,r,a,h,e,t,s]),_=C.useMemo(()=>Fq(p,a),[p,a]),A=Wq(p);return C.createElement(C.Fragment,null,g.map(S=>C.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>C.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),A.map(({key:S,link:w})=>C.createElement("link",{key:S,nonce:n.nonce,...w})))}function Xq(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qq&&(window.__reactRouterVersion="7.12.0")}catch{}function Zq({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=C.useRef();i.current==null&&(i.current=MF({window:r,v5Compat:!0}));let a=i.current,[s,u]=C.useState({action:a.action,location:a.location}),c=C.useCallback(f=>{n===!1?u(f):C.startTransition(()=>u(f))},[n]);return C.useLayoutEffect(()=>a.listen(c),[a,c]),C.createElement(Nq,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var E4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gv=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,..._},A){let{basename:S,unstable_useTransitions:w}=C.useContext(Zr),I=typeof f=="string"&&E4.test(f),O=f4(f,S);f=O.to;let P=dq(f,{relative:i}),[B,L,z]=Kq(r,_),D=r9(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:w});function k(F){e&&e(F),F.defaultPrevented||D(F)}let j=C.createElement("a",{..._,...z,href:O.absoluteURL||P,onClick:O.isExternal||a?e:k,ref:Xq(A,L),target:c,"data-discover":!I&&n==="render"?"true":void 0});return B&&!I?C.createElement(C.Fragment,null,j,C.createElement(Yq,{page:P})):j});gv.displayName="Link";var e9=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let p=Xd(s,{relative:f.relative}),g=Ao(),_=C.useContext(hv),{navigator:A,basename:S}=C.useContext(Zr),w=_!=null&&l9(p)&&u===!0,I=A.encodeLocation?A.encodeLocation(p).pathname:p.pathname,O=g.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),P=P?P.toLowerCase():null,I=I.toLowerCase()),P&&S&&(P=ho(P,S)||P);const B=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let L=O===I||!i&&O.startsWith(I)&&O.charAt(B)==="/",z=P!=null&&(P===I||!i&&P.startsWith(I)&&P.charAt(I.length)==="/"),D={isActive:L,isPending:z,isTransitioning:w},k=L?e:void 0,j;typeof r=="function"?j=r(D):j=[r,L?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(D):a;return C.createElement(gv,{...f,"aria-current":k,className:j,ref:h,style:F,to:s,viewTransition:u},typeof c=="function"?c(D):c)});e9.displayName="NavLink";var t9=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Mm,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,..._},A)=>{let{unstable_useTransitions:S}=C.useContext(Zr),w=o9(),I=s9(u,{relative:f}),O=s.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&E4.test(u),B=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,D=(z==null?void 0:z.getAttribute("formmethod"))||s,k=()=>w(z||L.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g});S&&n!==!1?C.startTransition(()=>k()):k()};return C.createElement("form",{ref:A,method:O,action:I,onSubmit:r?c:B,..._,"data-discover":!P&&t==="render"?"true":void 0})});t9.displayName="Form";function n9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T4(t){let e=C.useContext(wc);return zt(e,n9(t)),e}function r9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u,unstable_useTransitions:c}={}){let f=pv(),h=Ao(),p=Xd(t,{relative:a});return C.useCallback(g=>{if(Oq(g,e)){g.preventDefault();let _=n!==void 0?n:Td(h)===Td(p),A=()=>f(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u});c?C.startTransition(()=>A()):A()}},[h,f,p,n,r,e,t,i,a,s,u,c])}var i9=0,a9=()=>`__${String(++i9)}__`;function o9(){let{router:t}=T4("useSubmit"),{basename:e}=C.useContext(Zr),n=Tq(),r=t.fetch,i=t.navigate;return C.useCallback(async(a,s={})=>{let{action:u,method:c,encType:f,formData:h,body:p}=jq(a,e);if(s.navigate===!1){let g=s.fetcherKey||a9();await r(g,n,s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function s9(t,{relative:e}={}){let{basename:n}=C.useContext(Zr),r=C.useContext(La);zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Xd(t||".",{relative:e})},s=Ao();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:lo([n,a.pathname])),Td(a)}function l9(t,{relative:e}={}){let n=C.useContext(h4);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T4("useViewTransitionState"),i=Xd(t,{relative:e});if(!n.isTransitioning)return!1;let a=ho(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ho(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ym(i.pathname,s)!=null||Ym(i.pathname,a)!=null}var S4=i4();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mI=t=>{const e=c9(t);return e.charAt(0).toUpperCase()+e.slice(1)},w4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),f9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>C.createElement("svg",{ref:c,...d9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:w4("lucide",i),...!a&&!f9(u)&&{"aria-hidden":"true"},...u},[...s.map(([f,h])=>C.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(h9,{ref:a,iconNode:e,className:w4(`lucide-${u9(mI(t))}`,`lucide-${t}`,r),...i}));return n.displayName=mI(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BT=Pe("arrow-left",p9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],g9=Pe("bell",m9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],y9=Pe("bot",v9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],gI=Pe("brain-circuit",x9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qd=Pe("briefcase",b9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zd=Pe("calendar",_9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],T9=Pe("camera",E9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],w9=Pe("chart-column",S9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$_=Pe("chevron-right",A9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wm=Pe("circle-alert",C9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],md=Pe("circle-check",N9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],R9=Pe("circle-plus",I9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],M9=Pe("circle-user",P9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O9=Pe("clock",D9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],L9=Pe("copy",k9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zT=Pe("credit-card",j9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],V9=Pe("database",U9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],z9=Pe("dollar-sign",B9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],A4=Pe("droplets",F9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vv=Pe("external-link",q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H9=Pe("file-text",$9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],H_=Pe("fingerprint-pattern",G9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],C4=Pe("flame",K9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],W9=Pe("history",Y9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],uc=Pe("house",J9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],N4=Pe("image",X9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Z9=Pe("info",Q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Jm=Pe("key",e8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],n8=Pe("layout-dashboard",t8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xm=Pe("loader-circle",r8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],I4=Pe("log-out",i8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gl=Pe("mail",a8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],R4=Pe("map-pin",o8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Om=Pe("message-circle",s8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],u8=Pe("palette",l8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],P4=Pe("pencil",c8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Sd=Pe("phone",f8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ml=Pe("plus",d8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Es=Pe("receipt",h8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yv=Pe("save",p8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],FT=Pe("search",m8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],v8=Pe("send",g8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M4=Pe("settings",y8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],b8=Pe("shield-alert",x8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E8=Pe("shield-check",_8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],S8=Pe("shield",T8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qm=Pe("sparkles",w8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],D4=Pe("square-check-big",A8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],N8=Pe("table",C8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xv=Pe("trash-2",I8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],P8=Pe("trending-up",R8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G_=Pe("triangle-alert",M8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vI=Pe("upload",D8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],K_=Pe("user-plus",O8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y_=Pe("user",k8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],j8=Pe("users-round",L8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qT=Pe("users",U8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O4=Pe("wallet",V8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],z8=Pe("wand-sparkles",B8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],po=Pe("x",F8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bv=Pe("zap",q8),yi={AVAILABLE:"Disponible",RESERVED:"Reservado",SOLD:"Vendido",RENTED:"Alquilado"},yI={HOUSE:"Casa",APARTMENT:"Apartamento",LAND:"Terreno",COMMERCIAL:"Local Comercial",OFFICE:"Oficina",PENTHOUSE:"Penthouse",DUPLEX:"Duplex"},Ut={ELECTRICITY:"Luz",GAS:"Gas",WATER:"Agua",TAXES:"Impuestos",RENT:"Alquiler",MANAGEMENT_FEE:"Honorarios"};function k4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=k4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=k4(t))&&(r&&(r+=" "),r+=e);return r}var $8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $T(t){if(typeof t!="string")return!1;var e=$8;return e.includes(t)}var H8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],G8=new Set(H8);function L4(t){return typeof t!="string"?!1:G8.has(t)}function j4(t){return typeof t=="string"&&t.startsWith("data-")}function Gi(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(L4(n)||j4(n))&&(e[n]=t[n]);return e}function wd(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Gi(e)}return typeof t=="object"&&!Array.isArray(t)?Gi(t):null}function _i(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(L4(n)||j4(n)||$T(n))&&(e[n]=t[n]);return e}var K8=["children","width","height","viewBox","className","style","title","desc"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function Y8(t,e){if(t==null)return{};var n,r,i=W8(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function W8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U4=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:u,title:c,desc:f}=t,h=Y8(t,K8),p=a||{width:r,height:i,x:0,y:0},g=St("recharts-surface",s);return C.createElement("svg",W_({},_i(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),n)}),J8=["children","className"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(null,arguments)}function X8(t,e){if(t==null)return{};var n,r,i=Q8(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yr=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=X8(t,J8),a=St("recharts-layer",r);return C.createElement("g",J_({className:a},_i(i),{ref:e}),n)}),Z8=C.createContext(null);function Nt(t){return function(){return t}}const V4=Math.cos,Zm=Math.sin,Wi=Math.sqrt,eg=Math.PI,_v=2*eg,X_=Math.PI,Q_=2*X_,vl=1e-6,e$=Q_-vl;function B4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function t$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return B4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class n${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?B4:t$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>vl)if(!(Math.abs(p*c-f*h)>vl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,A=i-u,S=c*c+f*f,w=_*_+A*A,I=Math.sqrt(S),O=Math.sqrt(g),P=a*Math.tan((X_-Math.acos((S+g-w)/(2*I*O)))/2),B=P/O,L=P/I;Math.abs(B-1)>vl&&this._append`L${e+B*h},${n+B*p}`,this._append`A${a},${a},0,0,${+(p*_>h*A)},${this._x1=e+L*c},${this._y1=n+L*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>vl||Math.abs(this._y1-h)>vl)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%Q_+Q_),g>e$?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>vl&&this._append`A${r},${r},0,${+(g>=X_)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function HT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new n$(e)}function GT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function z4(t){this._context=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ev(t){return new z4(t)}function F4(t){return t[0]}function q4(t){return t[1]}function $4(t,e){var n=Nt(!0),r=null,i=Ev,a=null,s=HT(u);t=typeof t=="function"?t:t===void 0?F4:Nt(t),e=typeof e=="function"?e:e===void 0?q4:Nt(e);function u(c){var f,h=(c=GT(c)).length,p,g=!1,_;for(r==null&&(a=i(_=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,f,c),+e(p,f,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Nt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Nt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Nt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function rm(t,e,n){var r=null,i=Nt(!0),a=null,s=Ev,u=null,c=HT(f);t=typeof t=="function"?t:t===void 0?F4:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?q4:Nt(+n);function f(p){var g,_,A,S=(p=GT(p)).length,w,I=!1,O,P=new Array(S),B=new Array(S);for(a==null&&(u=s(O=c())),g=0;g<=S;++g){if(!(g<S&&i(w=p[g],g,p))===I)if(I=!I)_=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=g-1;A>=_;--A)u.point(P[A],B[A]);u.lineEnd(),u.areaEnd()}I&&(P[g]=+t(w,g,p),B[g]=+e(w,g,p),u.point(r?+r(w,g,p):P[g],n?+n(w,g,p):B[g]))}if(O)return u=null,O+""||null}function h(){return $4().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Nt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Nt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Nt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Nt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Nt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Nt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Nt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),f):a},f}class H4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function r$(t){return new H4(t,!0)}function i$(t){return new H4(t,!1)}const KT={draw(t,e){const n=Wi(e/eg);t.moveTo(n,0),t.arc(0,0,n,0,_v)}},a$={draw(t,e){const n=Wi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},G4=Wi(1/3),o$=G4*2,s$={draw(t,e){const n=Wi(e/o$),r=n*G4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},l$={draw(t,e){const n=Wi(e),r=-n/2;t.rect(r,r,n,n)}},u$=.8908130915292852,K4=Zm(eg/10)/Zm(7*eg/10),c$=Zm(_v/10)*K4,f$=-V4(_v/10)*K4,d$={draw(t,e){const n=Wi(e*u$),r=c$*n,i=f$*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=_v*a/5,u=V4(s),c=Zm(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Gx=Wi(3),h$={draw(t,e){const n=-Wi(e/(Gx*3));t.moveTo(0,n*2),t.lineTo(-Gx*n,-n),t.lineTo(Gx*n,-n),t.closePath()}},hi=-.5,pi=Wi(3)/2,Z_=1/Wi(12),p$=(Z_/2+1)*3,m$={draw(t,e){const n=Wi(e/p$),r=n/2,i=n*Z_,a=r,s=n*Z_+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(hi*r-pi*i,pi*r+hi*i),t.lineTo(hi*a-pi*s,pi*a+hi*s),t.lineTo(hi*u-pi*c,pi*u+hi*c),t.lineTo(hi*r+pi*i,hi*i-pi*r),t.lineTo(hi*a+pi*s,hi*s-pi*a),t.lineTo(hi*u+pi*c,hi*c-pi*u),t.closePath()}};function g$(t,e){let n=null,r=HT(i);t=typeof t=="function"?t:Nt(t||KT),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tg(){}function ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y4(t){this._context=t}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v$(t){return new Y4(t)}function W4(t){this._context=t}W4.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y$(t){return new W4(t)}function J4(t){this._context=t}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function x$(t){return new J4(t)}function X4(t){this._context=t}X4.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b$(t){return new X4(t)}function xI(t){return t<0?-1:1}function bI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(xI(a)+xI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function _I(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Kx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function rg(t){this._context=t}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kx(this,this._t0,_I(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Kx(this,_I(this,n=bI(this,t,e)),n);break;default:Kx(this,this._t0,n=bI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Q4(t){this._context=new Z4(t)}(Q4.prototype=Object.create(rg.prototype)).point=function(t,e){rg.prototype.point.call(this,e,t)};function Z4(t){this._context=t}Z4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function _$(t){return new rg(t)}function E$(t){return new Q4(t)}function eL(t){this._context=t}eL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=EI(t),i=EI(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function EI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function T$(t){return new eL(t)}function Tv(t,e){this._context=t,this._t=e}Tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function S$(t){return new Tv(t,.5)}function w$(t){return new Tv(t,0)}function A$(t){return new Tv(t,1)}function Dl(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function eE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function C$(t,e){return t[e]}function N$(t){const e=[];return e.key=t,e}function I$(){var t=Nt([]),e=eE,n=Dl,r=C$;function i(a){var s=Array.from(t.apply(this,arguments),N$),u,c=s.length,f=-1,h;for(const p of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,a)]).data=p;for(u=0,h=GT(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?eE:typeof a=="function"?a:Nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Dl,i):n},i}function R$(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Dl(t,e)}}function P$(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Dl(t,e)}}function M$(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,_=(p-g)/2,A=0;A<u;++A){var S=t[e[A]],w=S[r][1]||0,I=S[r-1][1]||0;_+=w-I}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Dl(t,e)}}var Yx={},Wx={},TI;function D$(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Wx)),Wx}var Jx={},SI;function tL(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Jx)),Jx}var Xx={},wI;function YT(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Xx)),Xx}var Qx={},Zx={},AI;function O$(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Zx)),Zx}var CI;function WT(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O$(),n=YT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<s;){const p=i[u];f?p==="\\"&&u+1<s?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,u++}return c&&a.push(c),a}t.toPath=r})(Qx)),Qx}var NI;function JT(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D$(),n=tL(),r=YT(),i=WT();function a(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=a})(Yx)),Yx}var eb,II;function k$(){return II||(II=1,eb=JT().get),eb}var L$=k$();const Ol=ka(L$);var j$=4;function xs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j$,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Xt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var u=n[s-1];return typeof u=="string"?i+u+a:u!==void 0?i+xs(u)+a:i+a},"")}var Bn=t=>t===0?0:t>0?1:-1,Ki=t=>typeof t=="number"&&t!=+t,mo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Ki(t),Ia=t=>Re(t)||typeof t=="string",U$=0,Ad=t=>{var e=++U$;return"".concat(t||"").concat(e)},ur=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(mo(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Ki(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},nL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Sn(t,e,n){return Re(t)&&Re(e)?xs(t+n*(e-t)):e}function V$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ol(r,e))===n)}var zn=t=>t===null||typeof t>"u",eh=t=>zn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function B$(t){return t!=null}function th(){}var z$=["type","size","sizeType"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(null,arguments)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){F$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F$(t,e,n){return(e=q$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=$$(t,"string");return typeof e=="symbol"?e:e+""}function $$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H$(t,e){if(t==null)return{};var n,r,i=G$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rL={symbolCircle:KT,symbolCross:a$,symbolDiamond:s$,symbolSquare:l$,symbolStar:d$,symbolTriangle:h$,symbolWye:m$},K$=Math.PI/180,Y$=t=>{var e="symbol".concat(eh(t));return rL[e]||KT},W$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*K$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},J$=(t,e)=>{rL["symbol".concat(eh(t))]=e},iL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=H$(t,z$),a=PI(PI({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var g=Y$(s),_=g$().type(g).size(W$(n,r,s)),A=_();if(A!==null)return A},{className:c,cx:f,cy:h}=a,p=_i(a);return Re(f)&&Re(h)&&Re(n)?C.createElement("path",tE({},p,{className:St("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};iL.registerSymbol=J$;var aL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,X$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{$T(i)&&(r[i]=(a=>n[i](n,a)))}),r},Q$=(t,e,n)=>r=>(t(e,n,r),null),Sv=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];$T(i)&&typeof a=="function"&&(r||(r={}),r[i]=Q$(a,e,n))}),r};function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){eH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eH(t,e,n){return(e=tH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tH(t){var e=nH(t,"string");return typeof e=="symbol"?e:e+""}function nH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cr(t,e){var n=Z$({},t),r=e,i=Object.keys(e),a=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return a}var tb={},nb={},DI;function rH(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],u=r(s,a,n);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(nb)),nb}var rb={},OI;function iH(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(rb)),rb}var ib={},kI;function oL(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ib)),ib}var ab={},ob={},sb={},LI;function aH(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(sb)),sb}var jI;function XT(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(ob)),ob}var lb={},UI;function oH(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(lb)),lb}var VI;function sH(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XT(),n=oH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(ab)),ab}var ub={},cb={},BI;function lH(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(cb)),cb}var fb={},db={},hb={},pb={},zI;function sL(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(pb)),pb}var mb={},FI;function lL(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(mb)),mb}var gb={},qI;function uL(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(gb)),gb}var $I;function uH(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sL(),n=lL(),r=uL();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):a(h,p,function _(A,S,w,I,O,P){const B=g(A,S,w,I,O,P);return B!==void 0?!!B:a(A,S,_,P)},new Map)}function a(h,p,g,_){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,_);case"function":return Object.keys(p).length>0?a(h,{...p},g,_):r.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function s(h,p,g,_){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,_);if(p instanceof Map)return u(h,p,g,_);if(p instanceof Set)return f(h,p,g,_);const A=Object.keys(p);if(h==null||n.isPrimitive(h))return A.length===0;if(A.length===0)return!0;if(_!=null&&_.has(p))return _.get(p)===h;_==null||_.set(p,h);try{for(let S=0;S<A.length;S++){const w=A[S];if(!n.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!g(h[w],p[w],w,h,p,_))return!1}return!0}finally{_==null||_.delete(p)}}function u(h,p,g,_){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[A,S]of p.entries()){const w=h.get(A);if(g(w,S,A,h,p,_)===!1)return!1}return!0}function c(h,p,g,_){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const A=new Set;for(let S=0;S<p.length;S++){const w=p[S];let I=!1;for(let O=0;O<h.length;O++){if(A.has(O))continue;const P=h[O];let B=!1;if(g(P,w,S,h,p,_)&&(B=!0),B){A.add(O),I=!0;break}}if(!I)return!1}return!0}function f(h,p,g,_){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,_):!1}t.isMatchWith=i,t.isSetMatch=f})(hb)),hb}var HI;function cL(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(db)),db}var vb={},yb={},xb={},GI;function cH(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(xb)),xb}var bb={},KI;function QT(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(bb)),bb}var _b={},YI;function fL(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",_="[object Object]",A="[object Error]",S="[object DataView]",w="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",B="[object BigUint64Array]",L="[object Int8Array]",z="[object Int16Array]",D="[object Int32Array]",k="[object BigInt64Array]",j="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=j,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=D,t.int8ArrayTag=L,t.mapTag=c,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=O,t.uint32ArrayTag=P,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=I})(_b)),_b}var Eb={},WI;function fH(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Eb)),Eb}var JI;function dL(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH(),n=QT(),r=fL(),i=lL(),a=fH();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,_=new Map,A=void 0){const S=A==null?void 0:A(h,p,g,_);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const w=new Array(h.length);_.set(h,w);for(let I=0;I<h.length;I++)w[I]=u(h[I],I,g,_,A);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;_.set(h,w);for(const[I,O]of h)w.set(I,u(O,I,g,_,A));return w}if(h instanceof Set){const w=new Set;_.set(h,w);for(const I of h)w.add(u(I,void 0,g,_,A));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,w);for(let I=0;I<h.length;I++)w[I]=u(h[I],I,g,_,A);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,w),c(w,h,g,_,A),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return _.set(h,w),c(w,h,g,_,A),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return _.set(h,w),c(w,h,g,_,A),w}if(h instanceof Error){const w=new h.constructor;return _.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,c(w,h,g,_,A),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return _.set(h,w),c(w,h,g,_,A),w}if(h instanceof Number){const w=new Number(h.valueOf());return _.set(h,w),c(w,h,g,_,A),w}if(h instanceof String){const w=new String(h.valueOf());return _.set(h,w),c(w,h,g,_,A),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return _.set(h,w),c(w,h,g,_,A),w}return h}function c(h,p,g=h,_,A){const S=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<S.length;w++){const I=S[w],O=Object.getOwnPropertyDescriptor(h,I);(O==null||O.writable)&&(h[I]=u(p[I],I,g,_,A))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(yb)),yb}var XI;function dH(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(vb)),vb}var QI;function hH(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cL(),n=dH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(fb)),fb}var Tb={},Sb={},wb={},ZI;function pH(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dL(),n=QT(),r=fL();function i(a,s){return e.cloneDeepWith(a,(u,c,f,h)=>{const p=s==null?void 0:s(u,c,f,h);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const g={};return h.set(a,g),e.copyProperties(g,a,f,h),g}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case r.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(wb)),wb}var eR;function mH(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Sb)),Sb}var Ab={},Cb={},tR;function hL(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Cb)),Cb}var Nb={},nR;function gH(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QT();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Nb)),Nb}var rR;function vH(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tL(),n=hL(),r=gH(),i=WT();function a(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(Ab)),Ab}var iR;function yH(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cL(),n=YT(),r=mH(),i=JT(),a=vH();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(Tb)),Tb}var aR;function xH(){return aR||(aR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oL(),n=lH(),r=hH(),i=yH();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(ub)),ub}var oR;function bH(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rH(),n=iH(),r=oL(),i=sH(),a=xH();function s(u,c=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(a.iteratee(c),1)):[]}t.uniqBy=s})(tb)),tb}var Ib,sR;function _H(){return sR||(sR=1,Ib=bH().uniqBy),Ib}var EH=_H();const lR=ka(EH);function TH(t,e,n){return e===!0?lR(t,n):typeof e=="function"?lR(t,e):t}var Rb={exports:{}},Pb={},Mb={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function SH(){if(uR)return Db;uR=1;var t=Sc();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function u(p,g){var _=g(),A=r({inst:{value:_,getSnapshot:g}}),S=A[0].inst,w=A[1];return a(function(){S.value=_,S.getSnapshot=g,c(S)&&w({inst:S})},[p,_,g]),i(function(){return c(S)&&w({inst:S}),p(function(){c(S)&&w({inst:S})})},[p]),s(_),_}function c(p){var g=p.getSnapshot;p=p.value;try{var _=g();return!n(p,_)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Db.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Db}var cR;function wH(){return cR||(cR=1,Mb.exports=SH()),Mb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function AH(){if(fR)return Pb;fR=1;var t=Sc(),e=wH();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Pb.useSyncExternalStoreWithSelector=function(f,h,p,g,_){var A=a(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=u(function(){function I(z){if(!O){if(O=!0,P=z,z=g(z),_!==void 0&&S.hasValue){var D=S.value;if(_(D,z))return B=D}return B=z}if(D=B,r(P,z))return D;var k=g(z);return _!==void 0&&_(D,k)?(P=z,D):(P=z,B=k)}var O=!1,P,B,L=p===void 0?null:p;return[function(){return I(h())},L===null?void 0:function(){return I(L())}]},[h,p,g,_]);var w=i(f,A[0],A[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),c(w),w},Pb}var dR;function CH(){return dR||(dR=1,Rb.exports=AH()),Rb.exports}var NH=CH(),ZT=C.createContext(null),IH=t=>t,Ft=()=>{var t=C.useContext(ZT);return t?t.store.dispatch:IH},km=()=>{},RH=()=>km,PH=(t,e)=>t===e;function Me(t){var e=C.useContext(ZT);return NH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:RH,e?e.store.getState:km,e?e.store.getState:km,e?t:km,PH)}function MH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function DH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function OH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var hR=t=>Array.isArray(t)?t:[t];function kH(t){const e=Array.isArray(t[0])?t[0]:t;return OH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function LH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jH=class{constructor(t){this.value=t}deref(){return this.value}},UH=typeof WeakRef<"u"?WeakRef:jH,VH=0,pR=1;function im(){return{s:VH,v:void 0,o:null,p:null}}function pL(t,e={}){let n=im();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let u=n;const{length:c}=arguments;for(let g=0,_=c;g<_;g++){const A=arguments[g];if(typeof A=="function"||typeof A=="object"&&A!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(A);w===void 0?(u=im(),S.set(A,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(A);w===void 0?(u=im(),S.set(A,u)):u=w}}const f=u;let h;if(u.s===pR)h=u.v;else if(h=t.apply(null,arguments),a++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new UH(h):h}return f.s=pR,f.v=h,h}return s.clearCache=()=>{n=im(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function BH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),MH(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:_=pL,argsMemoizeOptions:A=[]}=h,S=hR(g),w=hR(A),I=kH(i),O=p(function(){return a++,f.apply(null,arguments)},...S),P=_(function(){s++;const L=LH(I,arguments);return u=O.apply(null,L),u},...w);return Object.assign(P,{resultFunc:f,memoizedResultFunc:O,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=BH(pL),zH=Object.assign((t,e=te)=>{DH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>zH}),Ob={},kb={},Lb={},mR;function FH(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};t.compareValues=n})(Lb)),Lb}var jb={},Ub={},gR;function mL(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ub)),Ub}var vR;function qH(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(jb)),jb}var yR;function $H(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FH(),n=qH(),r=WT();function i(a,s,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,A)=>{let S=_;for(let w=0;w<A.length&&S!=null;++w)S=S[A[w]];return S},h=(_,A)=>A==null||_==null?A:typeof _=="object"&&"key"in _?Object.hasOwn(A,_.key)?A[_.key]:f(A,_.path):typeof _=="function"?_(A):Array.isArray(_)?f(A,_):typeof A=="object"?A[_]:A,p=s.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:p.map(A=>h(A,_))})).slice().sort((_,A)=>{for(let S=0;S<p.length;S++){const w=e.compareValues(_.criteria[S],A.criteria[S],u[S]);if(w!==0)return w}return 0}).map(_=>_.original)}t.orderBy=i})(kb)),kb}var Vb={},xR;function HH(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(Vb)),Vb}var Bb={},bR;function gL(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hL(),n=XT(),r=sL(),i=uL();function a(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.isEqualsSameValueZero(c[u],s):!1}t.isIterateeCall=a})(Bb)),Bb}var _R;function GH(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$H(),n=HH(),r=gL();function i(a,...s){const u=s.length;return u>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Ob)),Ob}var zb,ER;function KH(){return ER||(ER=1,zb=GH().sortBy),zb}var YH=KH();const wv=ka(YH);var vL=t=>t.legend.settings,WH=t=>t.legend.size,JH=t=>t.legend.payload;te([JH,vL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?wv(r,n):r});var am=1;function XH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>am||Math.abs(s.left-e.left)>am||Math.abs(s.top-e.top)>am||Math.abs(s.width-e.width)>am)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Jn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QH=typeof Symbol=="function"&&Symbol.observable||"@@observable",TR=QH,Fb=()=>Math.random().toString(36).substring(7).split("").join("."),ZH={INIT:`@@redux/INIT${Fb()}`,REPLACE:`@@redux/REPLACE${Fb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fb()}`},ig=ZH;function eS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function yL(t,e,n){if(typeof t!="function")throw new Error(Jn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jn(1));return n(yL)(t,e)}let r=t,i=e,a=new Map,s=a,u=0,c=!1;function f(){s===a&&(s=new Map,a.forEach((w,I)=>{s.set(I,w)}))}function h(){if(c)throw new Error(Jn(3));return i}function p(w){if(typeof w!="function")throw new Error(Jn(4));if(c)throw new Error(Jn(5));let I=!0;f();const O=u++;return s.set(O,w),function(){if(I){if(c)throw new Error(Jn(6));I=!1,f(),s.delete(O),a=null}}}function g(w){if(!eS(w))throw new Error(Jn(7));if(typeof w.type>"u")throw new Error(Jn(8));if(typeof w.type!="string")throw new Error(Jn(17));if(c)throw new Error(Jn(9));try{c=!0,i=r(i,w)}finally{c=!1}return(a=s).forEach(O=>{O()}),w}function _(w){if(typeof w!="function")throw new Error(Jn(10));r=w,g({type:ig.REPLACE})}function A(){const w=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Jn(11));function O(){const B=I;B.next&&B.next(h())}return O(),{unsubscribe:w(O)}},[TR](){return this}}}return g({type:ig.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:_,[TR]:A}}function eG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ig.INIT})>"u")throw new Error(Jn(12));if(typeof n(void 0,{type:ig.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jn(13))})}function xL(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{eG(n)}catch(a){i=a}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],_=s[p],A=g(_,u);if(typeof A>"u")throw u&&u.type,new Error(Jn(14));f[p]=A,c=c||A!==_}return c=c||r.length!==Object.keys(s).length,c?f:s}}function ag(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tG(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Jn(15))};const s={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},u=t.map(c=>c(s));return a=ag(...u)(i.dispatch),{...i,dispatch:a}}}function bL(t){return eS(t)&&"type"in t&&typeof t.type=="string"}var _L=Symbol.for("immer-nothing"),SR=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function Ui(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gr=Object,cc=Gr.getPrototypeOf,og="constructor",Av="prototype",nE="configurable",sg="enumerable",Lm="writable",Cd="value",go=t=>!!t&&!!t[xr];function Yi(t){var e;return t?EL(t)||Nv(t)||!!t[SR]||!!((e=t[og])!=null&&e[SR])||Iv(t)||Rv(t):!1}var nG=Gr[Av][og].toString(),wR=new WeakMap;function EL(t){if(!t||!tS(t))return!1;const e=cc(t);if(e===null||e===Gr[Av])return!0;const n=Gr.hasOwnProperty.call(e,og)&&e[og];if(n===Object)return!0;if(!Gu(n))return!1;let r=wR.get(n);return r===void 0&&(r=Function.toString.call(n),wR.set(n,r)),r===nG}function Cv(t,e,n=!0){nh(t)===0?(n?Reflect.ownKeys(t):Gr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function nh(t){const e=t[xr];return e?e.type_:Nv(t)?1:Iv(t)?2:Rv(t)?3:0}var AR=(t,e,n=nh(t))=>n===2?t.has(e):Gr[Av].hasOwnProperty.call(t,e),rE=(t,e,n=nh(t))=>n===2?t.get(e):t[e],lg=(t,e,n,r=nh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function rG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Nv=Array.isArray,Iv=t=>t instanceof Map,Rv=t=>t instanceof Set,tS=t=>typeof t=="object",Gu=t=>typeof t=="function",qb=t=>typeof t=="boolean";function iG(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ro=t=>t.copy_||t.base_,nS=t=>t.modified_?t.copy_:t.base_;function iE(t,e){if(Iv(t))return new Map(t);if(Rv(t))return new Set(t);if(Nv(t))return Array[Av].slice.call(t);const n=EL(t);if(e===!0||e==="class_only"&&!n){const r=Gr.getOwnPropertyDescriptors(t);delete r[xr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u[Lm]===!1&&(u[Lm]=!0,u[nE]=!0),(u.get||u.set)&&(r[s]={[nE]:!0,[Lm]:!0,[sg]:u[sg],[Cd]:t[s]})}return Gr.create(cc(t),r)}else{const r=cc(t);if(r!==null&&n)return{...t};const i=Gr.create(r);return Gr.assign(i,t)}}function rS(t,e=!1){return Pv(t)||go(t)||!Yi(t)||(nh(t)>1&&Gr.defineProperties(t,{set:om,add:om,clear:om,delete:om}),Gr.freeze(t),e&&Cv(t,(n,r)=>{rS(r,!0)},!1)),t}function aG(){Ui(2)}var om={[Cd]:aG};function Pv(t){return t===null||!tS(t)?!0:Gr.isFrozen(t)}var ug="MapSet",aE="Patches",CR="ArrayMethods",TL={};function kl(t){const e=TL[t];return e||Ui(0,t),e}var NR=t=>!!TL[t],Nd,SL=()=>Nd,oG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:NR(ug)?kl(ug):void 0,arrayMethodsPlugin_:NR(CR)?kl(CR):void 0});function IR(t,e){e&&(t.patchPlugin_=kl(aE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function oE(t){sE(t),t.drafts_.forEach(sG),t.drafts_=null}function sE(t){t===Nd&&(Nd=t.parent_)}var RR=t=>Nd=oG(Nd,t);function sG(t){const e=t[xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[xr].modified_&&(oE(e),Ui(4)),Yi(t)&&(t=MR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[xr].base_,t,e)}else t=MR(e,n);return lG(e,t,!0),oE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_L?t:void 0}function MR(t,e){if(Pv(e))return e;const n=e[xr];if(!n)return cg(e,t.handledSet_,t);if(!Mv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);CL(n,t)}return n.copy_}function lG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rS(e,n)}function wL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Mv=(t,e)=>t.scope_===e,uG=[];function AL(t,e,n,r){const i=ro(t),a=t.type_;if(r!==void 0&&rE(i,r,a)===e){lg(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Cv(i,(c,f)=>{if(go(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const s=t.draftLocations_.get(e)??uG;for(const u of s)lg(i,u,n,a)}function cG(t,e,n){t.callbacks_.push(function(i){var u;const a=e;if(!a||!Mv(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const s=nS(a);AL(t,a.draft_??a,s,n),CL(a,i)})}function CL(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}wL(t)}}function fG(t,e,n){const{scope_:r}=t;if(go(n)){const i=n[xr];Mv(i,r)&&i.callbacks_.push(function(){jm(t);const s=nS(i);AL(t,n,s,e)})}else Yi(n)&&t.callbacks_.push(function(){const a=ro(t);t.type_===3?a.has(n)&&cg(n,r.handledSet_,r):rE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&cg(rE(t.copy_,e,t.type_),r.handledSet_,r)})}function cg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||go(t)||e.has(t)||!Yi(t)||Pv(t)||(e.add(t),Cv(t,(r,i)=>{if(go(i)){const a=i[xr];if(Mv(a,n)){const s=nS(a);lg(t,r,s,t.type_),wL(a)}}else Yi(i)&&cg(i,e,n)})),t}function dG(t,e){const n=Nv(t),r={type_:n?1:0,scope_:e?e.scope_:SL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=fg;n&&(i=[r],a=Id);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,[u,r]}var fg={get(t,e){if(e===xr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ro(t);if(!AR(i,e,t.type_))return hG(t,i,e);const a=i[e];if(t.finalized_||!Yi(a)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&iG(e))return a;if(a===$b(t.base_,e)){jm(t);const s=t.type_===1?+e:e,u=uE(t.scope_,a,t,s);return t.copy_[s]=u}return a},has(t,e){return e in ro(t)},ownKeys(t){return Reflect.ownKeys(ro(t))},set(t,e,n){const r=NL(ro(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=$b(ro(t),e),a=i==null?void 0:i[xr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(rG(n,i)&&(n!==void 0||AR(t.base_,e,t.type_)))return!0;jm(t),lE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),fG(t,e,n)),!0},deleteProperty(t,e){return jm(t),$b(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),lE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ro(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Lm]:!0,[nE]:t.type_!==1||e!=="length",[sg]:r[sg],[Cd]:n[e]}},defineProperty(){Ui(11)},getPrototypeOf(t){return cc(t.base_)},setPrototypeOf(){Ui(12)}},Id={};for(let t in fg){let e=fg[t];Id[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Id.deleteProperty=function(t,e){return Id.set.call(this,t,e,void 0)};Id.set=function(t,e,n){return fg.set.call(this,t[0],e,n,t[0])};function $b(t,e){const n=t[xr];return(n?ro(n):t)[e]}function hG(t,e,n){var i;const r=NL(e,n);return r?Cd in r?r[Cd]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function NL(t,e){if(!(e in t))return;let n=cc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=cc(n)}}function lE(t){t.modified_||(t.modified_=!0,t.parent_&&lE(t.parent_))}function jm(t){t.copy_||(t.assigned_=new Map,t.copy_=iE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Gu(n)&&!Gu(r)){const s=r;r=n;const u=this;return function(f=s,...h){return u.produce(f,p=>r.call(this,p,...h))}}Gu(r)||Ui(6),i!==void 0&&!Gu(i)&&Ui(7);let a;if(Yi(n)){const s=RR(this),u=uE(s,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?oE(s):sE(s)}return IR(s,i),PR(a,s)}else if(!n||!tS(n)){if(a=r(n),a===void 0&&(a=n),a===_L&&(a=void 0),this.autoFreeze_&&rS(a,!0),i){const s=[],u=[];kl(aE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:u}),i(s,u)}return a}else Ui(1,n)},this.produceWithPatches=(n,r)=>{if(Gu(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},qb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),qb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),qb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yi(e)||Ui(8),go(e)&&(e=zi(e));const n=RR(this),r=uE(n,e,void 0);return r[xr].isManual_=!0,sE(n),r}finishDraft(e,n){const r=e&&e[xr];(!r||!r.isManual_)&&Ui(9);const{scope_:i}=r;return IR(i,n),PR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=kl(aE).applyPatches_;return go(e)?i(e,n):this.produce(e,a=>i(a,n))}};function uE(t,e,n,r){const[i,a]=Iv(e)?kl(ug).proxyMap_(e,n):Rv(e)?kl(ug).proxySet_(e,n):dG(e,n);return((n==null?void 0:n.scope_)??SL()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?cG(n,a,r):a.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=c;a.modified_&&f&&f.generatePatches_(a,[],c)}),i}function zi(t){return go(t)||Ui(10,t),IL(t)}function IL(t){if(!Yi(t)||Pv(t))return t;const e=t[xr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=iE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=iE(t,!0);return Cv(n,(i,a)=>{lg(n,i,IL(a))},r),e&&(e.finalized_=!1),n}var mG=new pG,RL=mG.produce;function PL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var gG=PL(),vG=PL,yG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ag:ag.apply(null,arguments)};function Ei(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Wr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>bL(r)&&r.type===t,n}var ML=class ld extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ld.prototype)}static get[Symbol.species](){return ld}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ld(...e[0].concat(this)):new ld(...e.concat(this))}};function DR(t){return Yi(t)?RL(t,()=>{}):t}function sm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function xG(t){return typeof t=="boolean"}var bG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new ML;return n&&(xG(n)?s.push(gG):s.push(vG(n.extraArgument))),s},DL="RTK_autoBatch",Vt=()=>t=>({payload:t,meta:{[DL]:!0}}),OR=t=>e=>{setTimeout(e,t)},OL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OR(10):t.type==="callback"?t.queueNotification:OR(t.timeout),f=()=>{s=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[DL]),a=!i,a&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},_G=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ML(t);return r&&i.push(OL(typeof r=="object"?r:void 0)),i};function EG(t){const e=bG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(eS(n))u=xL(n);else throw new Error(Wr(1));let c;typeof r=="function"?c=r(e):c=e();let f=ag;i&&(f=yG({trace:!1,...typeof i=="object"&&i}));const h=tG(...c),p=_G(h);let g=typeof s=="function"?s(p):p();const _=f(...g);return yL(u,a,_)}function kL(t){const e={},n=[];let r;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Wr(28));if(u in e)throw new Error(Wr(29));return e[u]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function TG(t){return typeof t=="function"}function SG(t,e){let[n,r,i]=kL(e),a;if(TG(t))a=()=>DR(t());else{const u=DR(t);a=()=>u}function s(u=a(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(go(h)){const _=p(h,c);return _===void 0?h:_}else{if(Yi(h))return RL(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=a,s}var wG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AG=(t=21)=>{let e="",n=t;for(;n--;)e+=wG[Math.random()*64|0];return e},CG=Symbol.for("rtk-slice-createasyncthunk");function NG(t,e){return`${t}/${e}`}function IG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[CG];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Wr(11));const u=(typeof i.reducers=="function"?i.reducers(PG()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,L){const z=typeof B=="string"?B:B.type;if(!z)throw new Error(Wr(12));if(z in f.sliceCaseReducersByType)throw new Error(Wr(13));return f.sliceCaseReducersByType[z]=L,h},addMatcher(B,L){return f.sliceMatchers.push({matcher:B,reducer:L}),h},exposeAction(B,L){return f.actionCreators[B]=L,h},exposeCaseReducer(B,L){return f.sliceCaseReducersByName[B]=L,h}};c.forEach(B=>{const L=u[B],z={reducerName:B,type:NG(a,B),createNotation:typeof i.reducers=="function"};DG(L)?kG(z,L,h,e):MG(z,L,h)});function p(){const[B={},L=[],z=void 0]=typeof i.extraReducers=="function"?kL(i.extraReducers):[i.extraReducers],D={...B,...f.sliceCaseReducersByType};return SG(i.initialState,k=>{for(let j in D)k.addCase(j,D[j]);for(let j of f.sliceMatchers)k.addMatcher(j.matcher,j.reducer);for(let j of L)k.addMatcher(j.matcher,j.reducer);z&&k.addDefaultCase(z)})}const g=B=>B,_=new Map,A=new WeakMap;let S;function w(B,L){return S||(S=p()),S(B,L)}function I(){return S||(S=p()),S.getInitialState()}function O(B,L=!1){function z(k){let j=k[B];return typeof j>"u"&&L&&(j=sm(A,z,I)),j}function D(k=g){const j=sm(_,L,()=>new WeakMap);return sm(j,k,()=>{const F={};for(const[q,$]of Object.entries(i.selectors??{}))F[q]=RG($,k,()=>sm(A,k,I),L);return F})}return{reducerPath:B,getSelectors:D,get selectors(){return D(z)},selectSlice:z}}const P={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...O(s),injectInto(B,{reducerPath:L,...z}={}){const D=L??s;return B.inject({reducerPath:D,reducer:w},z),{...P,...O(D,!0)}}};return P}}function RG(t,e,n,r){function i(a,...s){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Mr=IG();function PG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function MG({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!OG(r))throw new Error(Wr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Ei(t,s):Ei(t))}function DG(t){return t._reducerDefinitionType==="asyncThunk"}function OG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Wr(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||lm,pending:u||lm,rejected:c||lm,settled:f||lm})}function lm(){}var LG="task",LL="listener",jL="completed",iS="cancelled",jG=`task-${iS}`,UG=`task-${jL}`,cE=`${LL}-${iS}`,VG=`${LL}-${jL}`,Dv=class{constructor(t){Lx(this,"name","TaskAbortError");Lx(this,"message");this.code=t,this.message=`${LG} ${iS} (reason: ${t})`}},aS=(t,e)=>{if(typeof t!="function")throw new TypeError(Wr(32))},dg=()=>{},UL=(t,e=dg)=>(t.catch(e),t),VL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Cl=t=>{if(t.aborted)throw new Dv(t.reason)};function BL(t,e){let n=dg;return new Promise((r,i)=>{const a=()=>i(new Dv(t.reason));if(t.aborted){a();return}n=VL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dg})}var BG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Dv?"cancelled":"rejected",error:n}}finally{e==null||e()}},hg=t=>e=>UL(BL(t,e).then(n=>(Cl(t),n))),zL=t=>{const e=hg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:nc}=Object,kR={},Ov="listenerMiddleware",zG=(t,e)=>{const n=r=>VL(t,()=>r.abort(t.reason));return(r,i)=>{aS(r);const a=new AbortController;n(a);const s=BG(async()=>{Cl(t),Cl(a.signal);const u=await r({pause:hg(a.signal),delay:zL(a.signal),signal:a.signal});return Cl(a.signal),u},()=>a.abort(UG));return i!=null&&i.autoJoin&&e.push(s.catch(dg)),{result:hg(t)(s),cancel(){a.abort(jG)}}}},FG=(t,e)=>{const n=async(r,i)=>{Cl(e);let a=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await BL(e,Promise.race(u));return Cl(e),c}finally{a()}};return(r,i)=>UL(n(r,i))},FL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ei(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Wr(21));return aS(a),{predicate:i,type:e,effect:a}},qL=nc(t=>{const{type:e,predicate:n,effect:r}=FL(t);return{id:AG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Wr(22))}}},{withTypes:()=>qL}),LR=(t,e)=>{const{type:n,effect:r,predicate:i}=FL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},fE=t=>{t.pending.forEach(e=>{e.abort(cE)})},qG=(t,e)=>()=>{for(const n of e.keys())fE(n);t.clear()},jR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},$L=nc(Ei(`${Ov}/add`),{withTypes:()=>$L}),$G=Ei(`${Ov}/removeAll`),HL=nc(Ei(`${Ov}/remove`),{withTypes:()=>HL}),HG=(...t)=>{console.error(`${Ov}/error`,...t)},rh=(t={})=>{const e=new Map,n=new Map,r=_=>{const A=n.get(_)??0;n.set(_,A+1)},i=_=>{const A=n.get(_)??1;A===1?n.delete(_):n.set(_,A-1)},{extra:a,onError:s=HG}=t;aS(s);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),A=>{_.unsubscribe(),A!=null&&A.cancelActive&&fE(_)}),c=_=>{const A=LR(e,_)??qL(_);return u(A)};nc(c,{withTypes:()=>c});const f=_=>{const A=LR(e,_);return A&&(A.unsubscribe(),_.cancelActive&&fE(A)),!!A};nc(f,{withTypes:()=>f});const h=async(_,A,S,w)=>{const I=new AbortController,O=FG(c,I.signal),P=[];try{_.pending.add(I),r(_),await Promise.resolve(_.effect(A,nc({},S,{getOriginalState:w,condition:(B,L)=>O(B,L).then(Boolean),take:O,delay:zL(I.signal),pause:hg(I.signal),extra:a,signal:I.signal,fork:zG(I.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((B,L,z)=>{B!==I&&(B.abort(cE),z.delete(B))})},cancel:()=>{I.abort(cE),_.pending.delete(I)},throwIfCancelled:()=>{Cl(I.signal)}})))}catch(B){B instanceof Dv||jR(s,B,{raisedBy:"effect"})}finally{await Promise.all(P),I.abort(VG),i(_),_.pending.delete(I)}},p=qG(e,n);return{middleware:_=>A=>S=>{if(!bL(S))return A(S);if($L.match(S))return c(S.payload);if($G.match(S)){p();return}if(HL.match(S))return f(S.payload);let w=_.getState();const I=()=>{if(w===kR)throw new Error(Wr(23));return w};let O;try{if(O=A(S),e.size>0){const P=_.getState(),B=Array.from(e.values());for(const L of B){let z=!1;try{z=L.predicate(S,P,w)}catch(D){z=!1,jR(s,D,{raisedBy:"predicate"})}z&&h(L,S,_,I)}}}finally{w=kR}return O},startListening:c,stopListening:f,clearListeners:p}};function Wr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GL=Mr({name:"chartLayout",initialState:GG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:KG,setLayout:YG,setChartSize:WG,setScale:JG}=GL.actions,XG=GL.reducer;function KL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ht(t){return Number.isFinite(t)}function Ra(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){QG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QG(t,e,n){return(e=ZG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZG(t){var e=e7(t,"string");return typeof e=="symbol"?e:e+""}function e7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kt(t,e,n){return zn(t)||zn(e)?n:Ia(e)?Ol(t,e,n):typeof e=="function"?e(t):n}var t7=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&Re(t[a]))return Qu(Qu({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&Re(t[s]))return Qu(Qu({},t),{},{[s]:t[s]+(i||0)})}return t},Kl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",YL=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,s=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||s.push(e),a||s.push(n),s},WL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:u,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:_}=t;if(!s)return null;var A=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,S=i==="category"&&s.bandwidth?s.bandwidth()/A:0;if(S=_==="angleAxis"&&a&&a.length>=2?Bn(a[0]-a[1])*2*S:S,p||g){var w=(p||g||[]).map((I,O)=>{var P=r?r.indexOf(I):I;return{coordinate:s(P)+S,value:I,offset:S,index:O}});return w.filter(I=>!Ki(I.coordinate))}return c&&f?f.map((I,O)=>({coordinate:s(I)+S,value:I,index:O,offset:S})):s.ticks&&h!=null?s.ticks(h).map((I,O)=>({coordinate:s(I)+S,value:I,offset:S,index:O})):s.domain().map((I,O)=>({coordinate:s(I)+S,value:r?r[I]:I,index:O,offset:S}))},VR=1e-4,n7=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-VR,a=Math.max(r[0],r[1])+VR,s=t(e[0]),u=t(e[n-1]);(s<i||s>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},r7=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},i7=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,u=0;u<n;++u){var c=t[u],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=Ki(h)?p:h;g>=0?(f[0]=a,f[1]=a+g,a=h):(f[0]=s,f[1]=s+g,s=h)}}}},a7=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var u=t[s],c=u==null?void 0:u[i];if(c!=null){var f=Ki(c[1])?c[0]:c[1];f>=0?(c[0]=a,c[1]=a+f,a=c[1]):(c[0]=0,c[1]=0)}}}},o7={sign:i7,expand:R$,none:Dl,silhouette:P$,wiggle:M$,positive:a7},s7=(t,e,n)=>{var r,i=(r=o7[n])!==null&&r!==void 0?r:Dl,a=I$().keys(e).value((u,c)=>Number(kt(u,c,0))).order(eE).offset(i),s=a(t);return s.forEach((u,c)=>{u.forEach((f,h)=>{var p=kt(t[h],e[c],0);Array.isArray(p)&&p.length===2&&Re(p[0])&&Re(p[1])&&(f[0]=p[0],f[1]=p[1])})}),s};function l7(t){return t==null?void 0:String(t)}var BR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=kt(a,e.dataKey,e.scale.domain()[s]);return zn(u)?null:e.scale(u)-i/2+r},u7=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},c7=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},f7=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],d7=(t,e,n)=>{if(t!=null)return f7(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,u=s.reduce((c,f)=>{var h=KL(f,e,n),p=c7(h);return!Ht(p[0])||!Ht(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},zR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=wv(e,h=>h.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];a=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function qR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Qu(Qu({},e),{},{dataKey:n,payload:r,value:i,name:a})}function kv(t,e){if(t)return String(t);if(typeof e=="string")return e}var h7=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},p7=(t,e)=>e==="centric"?t.angle:t.radius,Co=t=>t.layout.width,No=t=>t.layout.height,m7=t=>t.layout.scale,JL=t=>t.layout.margin,Lv=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),jv=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),XL="data-recharts-item-index",QL="data-recharts-item-id",ih=60;function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){g7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g7(t,e,n){return(e=v7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v7(t){var e=y7(t,"string");return typeof e=="symbol"?e:e+""}function y7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x7=t=>t.brush.height;function b7(t){var e=jv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ih;return n+i}return n},0)}function _7(t){var e=jv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ih;return n+i}return n},0)}function E7(t){var e=Lv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function T7(t){var e=Lv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nn=te([Co,No,JL,x7,b7,_7,E7,T7,vL,WH],(t,e,n,r,i,a,s,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=um(um({},p),h),_=g.bottom;g.bottom+=r,g=t7(g,c,f);var A=t-g.left-g.right,S=e-g.top-g.bottom;return um(um({brushBottom:_},g),{},{width:Math.max(A,0),height:Math.max(S,0)})}),S7=te(Nn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),oS=te(Co,No,(t,e)=>({x:0,y:0,width:t,height:e})),w7=C.createContext(null),Dr=()=>C.useContext(w7)!=null,Uv=t=>t.brush,Vv=te([Uv,Nn,JL],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Re(t.width)?t.width:e.width})),Hb={},Gb={},Kb={},HR;function A7(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,u=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{f&&h(),S()};let g=null;const _=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},A=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{A(),s=void 0,u=null},w=()=>{h()},I=function(...O){if(i!=null&&i.aborted)return;s=this,u=O;const P=g==null;_(),c&&P&&h()};return I.schedule=_,I.cancel=S,I.flush=w,i==null||i.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(Kb)),Kb}var GR;function C7(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:c}=a,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:f}),_=function(...S){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,S),h)},A=()=>(g.flush(),h);return _.cancel=g.cancel,_.flush=A,_}t.debounce=n})(Gb)),Gb}var KR;function N7(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C7();function n(r,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(Hb)),Hb}var Yb,YR;function I7(){return YR||(YR=1,Yb=N7().throttle),Yb}var R7=I7();const P7=ka(R7);var mg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ZL=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,u=mo(r)?t:Number(r),c=mo(i)?e:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},M7={width:0,height:0,overflow:"visible"},D7={width:0,overflowX:"visible"},O7={height:0,overflowY:"visible"},k7={},L7=t=>{var{width:e,height:n}=t,r=mo(e),i=mo(n);return r&&i?M7:r?D7:i?O7:k7};function j7(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(null,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){U7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U7(t,e,n){return(e=V7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V7(t){var e=B7(t,"string");return typeof e=="symbol"?e:e+""}function B7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e6=C.createContext({width:-1,height:-1});function z7(t){return Ra(t.width)&&Ra(t.height)}function t6(t){var{children:e,width:n,height:r}=t,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return z7(i)?C.createElement(e6.Provider,{value:i},e):null}var sS=()=>C.useContext(e6),F7=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:p,className:g,onResize:_,style:A={}}=t,S=C.useRef(null),w=C.useRef();w.current=_,C.useImperativeHandle(e,()=>S.current);var[I,O]=C.useState({containerWidth:r.width,containerHeight:r.height}),P=C.useCallback((k,j)=>{O(F=>{var q=Math.round(k),$=Math.round(j);return F.containerWidth===q&&F.containerHeight===$?F:{containerWidth:q,containerHeight:$}})},[]);C.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return th;var k=$=>{var U,{width:de,height:me}=$[0].contentRect;P(de,me),(U=w.current)===null||U===void 0||U.call(w,de,me)};h>0&&(k=P7(k,h,{trailing:!0,leading:!1}));var j=new ResizeObserver(k),{width:F,height:q}=S.current.getBoundingClientRect();return P(F,q),j.observe(S.current),()=>{j.disconnect()}},[P,h]);var{containerWidth:B,containerHeight:L}=I;mg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:D}=ZL(B,L,{width:i,height:a,aspect:n,maxHeight:c});return mg(z!=null&&z>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,D,i,a,s,u,n),C.createElement("div",{id:p?"".concat(p):void 0,className:St("recharts-responsive-container",g),style:JR(JR({},A),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:c}),ref:S},C.createElement("div",{style:L7({width:i,height:a})},C.createElement(t6,{width:z,height:D},f)))}),XR=C.forwardRef((t,e)=>{var n=sS();if(Ra(n.width)&&Ra(n.height))return t.children;var{width:r,height:i}=j7({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=ZL(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Re(a)&&Re(s)?C.createElement(t6,{width:a,height:s},t.children):C.createElement(F7,dE({},t,{width:r,height:i,ref:e}))});function n6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Bv=()=>{var t,e=Dr(),n=Me(S7),r=Me(Vv),i=(t=Me(Uv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},q7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},r6=()=>{var t;return(t=Me(Nn))!==null&&t!==void 0?t:q7},i6=()=>Me(Co),a6=()=>Me(No),ft=t=>t.layout.layoutType,ah=()=>Me(ft),$7=()=>{var t=ah();return t!==void 0},zv=t=>{var e=Ft(),n=Dr(),{width:r,height:i}=t,a=sS(),s=r,u=i;return a&&(s=a.width>0?a.width:r,u=a.height>0?a.height:i),C.useEffect(()=>{!n&&Ra(s)&&Ra(u)&&e(WG({width:s,height:u}))},[e,n,s,u]),null},o6=Symbol.for("immer-nothing"),QR=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function Vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Rd=Object.getPrototypeOf;function fc(t){return!!t&&!!t[Xr]}function Ll(t){var e;return t?s6(t)||Array.isArray(t)||!!t[QR]||!!((e=t.constructor)!=null&&e[QR])||oh(t)||qv(t):!1}var H7=Object.prototype.constructor.toString(),ZR=new WeakMap;function s6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=ZR.get(n);return r===void 0&&(r=Function.toString.call(n),ZR.set(n,r)),r===H7}function gg(t,e,n=!0){Fv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fv(t){const e=t[Xr];return e?e.type_:Array.isArray(t)?1:oh(t)?2:qv(t)?3:0}function hE(t,e){return Fv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function l6(t,e,n){const r=Fv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function G7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function oh(t){return t instanceof Map}function qv(t){return t instanceof Set}function yl(t){return t.copy_||t.base_}function pE(t,e){if(oh(t))return new Map(t);if(qv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=s6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Rd(t),r)}else{const r=Rd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function lS(t,e=!1){return $v(t)||fc(t)||!Ll(t)||(Fv(t)>1&&Object.defineProperties(t,{set:cm,add:cm,clear:cm,delete:cm}),Object.freeze(t),e&&Object.values(t).forEach(n=>lS(n,!0))),t}function K7(){Vi(2)}var cm={value:K7};function $v(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Y7={};function jl(t){const e=Y7[t];return e||Vi(0,t),e}var Pd;function u6(){return Pd}function W7(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eP(t,e){e&&(jl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mE(t){gE(t),t.drafts_.forEach(J7),t.drafts_=null}function gE(t){t===Pd&&(Pd=t.parent_)}function tP(t){return Pd=W7(Pd,t)}function J7(t){const e=t[Xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xr].modified_&&(mE(e),Vi(4)),Ll(t)&&(t=vg(e,t),e.parent_||yg(e,t)),e.patches_&&jl("Patches").generateReplacementPatches_(n[Xr].base_,t,e.patches_,e.inversePatches_)):t=vg(e,n,[]),mE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==o6?t:void 0}function vg(t,e,n){if($v(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Xr];if(!i)return gg(e,(a,s)=>rP(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return yg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,u=!1;i.type_===3&&(s=new Set(a),a.clear(),u=!0),gg(s,(c,f)=>rP(t,i,a,c,f,n,u),r),yg(t,a,!1),n&&t.patches_&&jl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function rP(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const u=$v(i);if(!(u&&!s)){if(fc(i)){const c=a&&e&&e.type_!==3&&!hE(e.assigned_,r)?a.concat(r):void 0,f=vg(t,i,c);if(l6(n,r,f),fc(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ll(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;vg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(oh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yg(t,i)}}}function yg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lS(e,n)}function X7(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:u6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=uS;n&&(i=[r],a=Md);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,u}var uS={get(t,e){if(e===Xr)return t;const n=yl(t);if(!hE(n,e))return Q7(t,n,e);const r=n[e];return t.finalized_||!Ll(r)?r:r===Wb(t.base_,e)?(Jb(t),t.copy_[e]=yE(r,t)):r},has(t,e){return e in yl(t)},ownKeys(t){return Reflect.ownKeys(yl(t))},set(t,e,n){const r=c6(yl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Wb(yl(t),e),a=i==null?void 0:i[Xr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(G7(n,i)&&(n!==void 0||hE(t.base_,e)))return!0;Jb(t),vE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Wb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Jb(t),vE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=yl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vi(11)},getPrototypeOf(t){return Rd(t.base_)},setPrototypeOf(){Vi(12)}},Md={};gg(uS,(t,e)=>{Md[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Md.deleteProperty=function(t,e){return Md.set.call(this,t,e,void 0)};Md.set=function(t,e,n){return uS.set.call(this,t[0],e,n,t[0])};function Wb(t,e){const n=t[Xr];return(n?yl(n):t)[e]}function Q7(t,e,n){var i;const r=c6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function c6(t,e){if(!(e in t))return;let n=Rd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Rd(n)}}function vE(t){t.modified_||(t.modified_=!0,t.parent_&&vE(t.parent_))}function Jb(t){t.copy_||(t.copy_=pE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Z7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Vi(6),r!==void 0&&typeof r!="function"&&Vi(7);let i;if(Ll(e)){const a=tP(this),s=yE(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?mE(a):gE(a)}return eP(a,r),nP(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===o6&&(i=void 0),this.autoFreeze_&&lS(i,!0),r){const a=[],s=[];jl("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Vi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ll(t)||Vi(8),fc(t)&&(t=eK(t));const e=tP(this),n=yE(t,void 0);return n[Xr].isManual_=!0,gE(e),n}finishDraft(t,e){const n=t&&t[Xr];(!n||!n.isManual_)&&Vi(9);const{scope_:r}=n;return eP(r,e),nP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=jl("Patches").applyPatches_;return fc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function yE(t,e){const n=oh(t)?jl("MapSet").proxyMap_(t,e):qv(t)?jl("MapSet").proxySet_(t,e):X7(t,e);return(e?e.scope_:u6()).drafts_.push(n),n}function eK(t){return fc(t)||Vi(10,t),f6(t)}function f6(t){if(!Ll(t)||$v(t))return t;const e=t[Xr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=pE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=pE(t,!0);return gg(n,(i,a)=>{l6(n,i,f6(a))},r),e&&(e.finalized_=!1),n}var tK=new Z7;tK.produce;var nK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},d6=Mr({name:"legend",initialState:nK,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Vt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=zi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Vt()},removeLegendPayload:{reducer(t,e){var n=zi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Vt()}}}),{setLegendSize:tbe,setLegendSettings:nbe,addLegendPayload:h6,replaceLegendPayload:p6,removeLegendPayload:m6}=d6.actions,rK=d6.reducer;function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){iK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iK(t,e,n){return(e=aK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aK(t){var e=oK(t,"string");return typeof e=="symbol"?e:e+""}function oK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sK(t){return Array.isArray(t)&&Ia(t[0])&&Ia(t[1])?t.join(" ~ "):t}var lK=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=t,_=()=>{if(a&&a.length){var L={padding:0,margin:0},z=(u?wv(a,u):a).map((D,k)=>{if(D.type==="none")return null;var j=D.formatter||s||sK,{value:F,name:q}=D,$=F,U=q;if(j){var de=j(F,q,D,k,a);if(Array.isArray(de))[$,U]=de;else if(de!=null)$=de;else return null}var me=Xb({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:me},Ia(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ia(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},$),C.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:L},z)}return null},A=Xb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Xb({margin:0},i),w=!zn(h),I=w?h:"",O=St("recharts-default-tooltip",c),P=St("recharts-tooltip-label",f);w&&p&&a!==void 0&&a!==null&&(I=p(h,a));var B=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",xE({className:O,style:A},B),C.createElement("p",{className:P,style:S},C.isValidElement(I)?I:"".concat(I)),_())},Wf="recharts-tooltip-wrapper",uK={visibility:"hidden"};function cK(t){var{coordinate:e,translateX:n,translateY:r}=t;return St(Wf,{["".concat(Wf,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(Wf,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(Wf,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(Wf,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function aP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var g=c[r];if(g==null)return 0;if(s[r]){var _=h,A=g;return _<A?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var S=p+u,w=g+f;return S>w?Math.max(h,g):Math.max(p,g)}function fK(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function dK(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,f,h,p;return s.height>0&&s.width>0&&n?(h=aP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=aP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=fK({translateX:h,translateY:p,useTranslate3d:u})):f=uK,{cssProperties:f,cssClasses:cK({translateX:h,translateY:p,coordinate:n})}}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bE(t,e,n){return(e=hK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hK(t){var e=pK(t,"string");return typeof e=="symbol"?e:e+""}function pK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mK extends C.PureComponent{constructor(){super(...arguments),bE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:_,wrapperStyle:A,lastBoundingBox:S,innerRef:w,hasPortalFromProps:I}=this.props,{cssClasses:O,cssProperties:P}=dK({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:_}),B=I?{}:fm(fm({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),L=fm(fm({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:L,ref:w},a)}}var g6=()=>{var t;return(t=Me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){gK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gK(t,e,n){return(e=vK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vK(t){var e=yK(t,"string");return typeof e=="symbol"?e:e+""}function yK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uP={curveBasisClosed:y$,curveBasisOpen:x$,curveBasis:v$,curveBumpX:r$,curveBumpY:i$,curveLinearClosed:b$,curveLinear:Ev,curveMonotoneX:_$,curveMonotoneY:E$,curveNatural:T$,curveStep:S$,curveStepAfter:A$,curveStepBefore:w$},xg=t=>Ht(t.x)&&Ht(t.y),cP=t=>t.base!=null&&xg(t.base)&&xg(t),Jf=t=>t.x,Xf=t=>t.y,xK=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(eh(t));return(n==="curveMonotone"||n==="curveBump")&&e?uP["".concat(n).concat(e==="vertical"?"Y":"X")]:uP[n]||Ev},bK=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=xK(e,i),u=a?n.filter(xg):n,c;if(Array.isArray(r)){var f=n.map((_,A)=>lP(lP({},_),{},{base:r[A]}));i==="vertical"?c=rm().y(Xf).x1(Jf).x0(_=>_.base.x):c=rm().x(Jf).y1(Xf).y0(_=>_.base.y);var h=c.defined(cP).curve(s),p=a?f.filter(cP):f;return h(p)}i==="vertical"&&Re(r)?c=rm().y(Xf).x1(Jf).x0(r):Re(r)?c=rm().x(Jf).y1(Xf).y0(r):c=$4().x(Jf).y(Xf);var g=c.defined(xg).curve(s);return g(u)},cS=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=ah();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},u=n&&n.length?bK(s):r;return C.createElement("path",_E({},Gi(t),X$(t),{className:St("recharts-curve",e),d:u===null?void 0:u,ref:i}))},_K=["x","y","top","left","width","height","className"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){TK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TK(t,e,n){return(e=SK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SK(t){var e=wK(t,"string");return typeof e=="symbol"?e:e+""}function wK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AK(t,e){if(t==null)return{};var n,r,i=CK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NK=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),IK=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:u}=t,c=AK(t,_K),f=EK({x:e,y:n,top:r,left:i,width:a,height:s},c);return!Re(e)||!Re(n)||!Re(a)||!Re(s)||!Re(r)||!Re(i)?null:C.createElement("path",EE({},_i(f),{className:St("recharts-cross",u),d:NK(e,n,a,s,r,i)}))};function RK(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){PK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e,n){return(e=MK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MK(t){var e=DK(t,"string");return typeof e=="symbol"?e:e+""}function DK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OK=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),v6=(t,e,n)=>t.map(r=>"".concat(OK(r)," ").concat(e,"ms ").concat(n)).join(","),kK=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Dd=(t,e)=>Object.keys(e).reduce((n,r)=>hP(hP({},n),{},{[r]:t(r,e[r])}),{});function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){LK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LK(t,e,n){return(e=jK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jK(t){var e=UK(t,"string");return typeof e=="symbol"?e:e+""}function UK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bg=(t,e,n)=>t+(e-t)*n,TE=t=>{var{from:e,to:n}=t;return e!==n},y6=(t,e,n)=>{var r=Dd((i,a)=>{if(TE(a)){var[s,u]=t(a.from,a.to,a.velocity);return wn(wn({},a),{},{from:s,velocity:u})}return a},e);return n<1?Dd((i,a)=>TE(a)&&r[i]!=null?wn(wn({},a),{},{velocity:bg(a.velocity,r[i].velocity,n),from:bg(a.from,r[i].from,n)}):a,e):y6(t,r,n-1)};function VK(t,e,n,r,i,a){var s,u=r.reduce((g,_)=>wn(wn({},g),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),c=()=>Dd((g,_)=>_.from,u),f=()=>!Object.values(u).filter(TE).length,h=null,p=g=>{s||(s=g);var _=g-s,A=_/n.dt;u=y6(n,u,A),i(wn(wn(wn({},t),e),c())),s=g,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function BK(t,e,n,r,i,a,s){var u=null,c=i.reduce((p,g)=>{var _=t[g],A=e[g];return _==null||A==null?p:wn(wn({},p),{},{[g]:[_,A]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,_=Dd((S,w)=>bg(...w,n(g)),c);if(a(wn(wn(wn({},t),e),_)),g<1)u=s.setTimeout(h);else{var A=Dd((S,w)=>bg(...w,n(1)),c);a(wn(wn(wn({},t),e),A))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const zK=(t,e,n,r,i,a)=>{var s=kK(t,e);return n==null?()=>(i(wn(wn({},t),e)),()=>{}):n.isStepper===!0?VK(t,e,n,s,i,a):BK(t,e,n,r,s,i,a)};var _g=1e-4,x6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],b6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),mP=(t,e)=>n=>{var r=x6(t,e);return b6(r,n)},FK=(t,e)=>n=>{var r=x6(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return b6(i,n)},qK=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},$K=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=qK(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},HK=(t,e,n,r)=>{var i=mP(t,n),a=mP(e,r),s=FK(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var _=i(p)-h,A=s(p);if(Math.abs(_-h)<_g||A<_g)return a(p);p=u(p-_/A)}return a(p)};return c.isStepper=!1,c},gP=function(){return HK(...$K(...arguments))},GK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,u,c)=>{var f=-(s-u)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<_g&&Math.abs(p)<_g?[u,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},KK=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(t);case"spring":return GK();default:if(t.split("(")[0]==="cubic-bezier")return gP(t)}return typeof t=="function"?t:null};function YK(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class WK{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function JK(){return YK(new WK)}var XK=C.createContext(JK);function QK(t,e){var n=C.useContext(XK);return C.useMemo(()=>e??n(t),[t,e,n])}var ZK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hv={isSsr:ZK()},eY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vP={t:0},Qb={t:1};function Gv(t){var e=cr(t,eY),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!Hv.isSsr:n,p=QK(e.animationId,e.animationManager),[g,_]=C.useState(h?vP:Qb),A=C.useRef(null);return C.useEffect(()=>{h||_(Qb)},[h]),C.useEffect(()=>{if(!h||!r)return th;var S=zK(vP,Qb,KK(a),i,_,p.getTimeoutController()),w=()=>{A.current=S()};return p.start([c,s,w,i,u]),()=>{p.stop(),A.current&&A.current(),u()}},[h,r,i,a,s,c,u,p]),f(g.t)}function Kv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Ad(e)),r=C.useRef(t);return r.current!==t&&(n.current=Ad(e),r.current=t),n.current}var tY=["radius"],nY=["radius"],yP,xP,bP,_P,EP,TP,SP,wP,AP,CP;function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){rY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rY(t,e,n){return(e=iY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iY(t){var e=aY(t,"string");return typeof e=="symbol"?e:e+""}function aY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(null,arguments)}function RP(t,e){if(t==null)return{};var n,r,i=oY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var PP=(t,e,n,r,i)=>{var a=xs(n),s=xs(r),u=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,f=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(u>0&&i instanceof Array){for(var g=[0,0,0,0],_=0,A=4;_<A;_++)g[_]=i[_]>u?u:i[_];p=Xt(yP||(yP=_a(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=Xt(xP||(xP=_a(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+f*g[0],e)),p+=Xt(bP||(bP=_a(["L ",",",""])),t+n-f*g[1],e),g[1]>0&&(p+=Xt(_P||(_P=_a(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+c*g[1])),p+=Xt(EP||(EP=_a(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=Xt(TP||(TP=_a(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-f*g[2],e+r)),p+=Xt(SP||(SP=_a(["L ",",",""])),t+f*g[3],e+r),g[3]>0&&(p+=Xt(wP||(wP=_a(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+r-c*g[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var S=Math.min(u,i);p=Xt(AP||(AP=_a(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*S,S,S,h,t+f*S,e,t+n-f*S,e,S,S,h,t+n,e+c*S,t+n,e+r-c*S,S,S,h,t+n-f*S,e+r,t+f*S,e+r,S,S,h,t,e+r-c*S)}else p=Xt(CP||(CP=_a(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},MP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_6=t=>{var e=cr(t,MP),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:s,width:u,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:_,isAnimationActive:A,isUpdateAnimationActive:S}=e,w=C.useRef(u),I=C.useRef(c),O=C.useRef(a),P=C.useRef(s),B=C.useMemo(()=>({x:a,y:s,width:u,height:c,radius:f}),[a,s,u,c,f]),L=Kv(B,"rectangle-");if(a!==+a||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var z=St("recharts-rectangle",h);if(!S){var D=_i(e),{radius:k}=D,j=RP(D,tY);return C.createElement("path",Eg({},j,{x:xs(a),y:xs(s),width:xs(u),height:xs(c),radius:typeof f=="number"?f:void 0,className:z,d:PP(a,s,u,c,f)}))}var F=w.current,q=I.current,$=O.current,U=P.current,de="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),W=v6(["strokeDasharray"],g,typeof p=="string"?p:MP.animationEasing);return C.createElement(Gv,{animationId:L,key:L,canBegin:r>0,duration:g,easing:p,isActive:S,begin:_},oe=>{var ge=Sn(F,u,oe),Te=Sn(q,c,oe),De=Sn($,a,oe),K=Sn(U,s,oe);n.current&&(w.current=ge,I.current=Te,O.current=De,P.current=K);var ae;A?oe>0?ae={transition:W,strokeDasharray:me}:ae={strokeDasharray:de}:ae={strokeDasharray:me};var ve=_i(e),{radius:xe}=ve,Oe=RP(ve,nY);return C.createElement("path",Eg({},Oe,{radius:typeof f=="number"?f:void 0,className:z,d:PP(De,K,ge,Te,f),ref:n,style:IP(IP({},ae),e.style)}))})};function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){sY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sY(t,e,n){return(e=lY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lY(t){var e=uY(t,"string");return typeof e=="symbol"?e:e+""}function uY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tg=Math.PI/180,cY=t=>t*180/Math.PI,xn=(t,e,n,r)=>({x:t+Math.cos(-Tg*r)*n,y:e+Math.sin(-Tg*r)*n}),E6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fY=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},dY=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=fY({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:s,angle:cY(c),angleInRadian:c}},hY=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},pY=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},mY=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=dY({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=hY(e),h=a,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?OP(OP({},e),{},{radius:i,angle:pY(h,e)}):null};function T6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=xn(e,n,r,i),u=xn(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var kP,LP,jP,UP,VP,BP,zP;function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function El(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gY=(t,e)=>{var n=Bn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},dm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,f=u*(s?1:-1)+r,h=Math.asin(u/f)/Tg,p=c?i:i+a*h,g=xn(e,n,f,p),_=xn(e,n,r,p),A=c?i-a*h:i,S=xn(e,n,f*Math.cos(h*Tg),A);return{center:g,circleTangency:_,lineTangency:S,theta:h}},S6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,u=gY(a,s),c=a+u,f=xn(e,n,i,a),h=xn(e,n,i,c),p=Xt(kP||(kP=El(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(a>c),h.x,h.y);if(r>0){var g=xn(e,n,r,a),_=xn(e,n,r,c);p+=Xt(LP||(LP=El(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(a<=c),g.x,g.y)}else p+=Xt(jP||(jP=El(["L ",","," Z"])),e,n);return p},vY=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=Bn(f-c),{circleTangency:p,lineTangency:g,theta:_}=dm({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:S,theta:w}=dm({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),I=u?Math.abs(c-f):Math.abs(c-f)-_-w;if(I<0)return s?Xt(UP||(UP=El(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,a,a,a*2,a,a,-a*2):S6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var O=Xt(VP||(VP=El(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,a,a,+(h<0),p.x,p.y,i,i,+(I>180),+(h<0),A.x,A.y,a,a,+(h<0),S.x,S.y);if(r>0){var{circleTangency:P,lineTangency:B,theta:L}=dm({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:z,lineTangency:D,theta:k}=dm({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),j=u?Math.abs(c-f):Math.abs(c-f)-L-k;if(j<0&&a===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+=Xt(BP||(BP=El(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,a,a,+(h<0),z.x,z.y,r,r,+(j>180),+(h>0),P.x,P.y,a,a,+(h<0),B.x,B.y)}else O+=Xt(zP||(zP=El(["L",",","Z"])),e,n);return O},yY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},w6=t=>{var e=cr(t,yY),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var g=St("recharts-sector",p),_=a-i,A=ur(s,_,0,!0),S;return A>0&&Math.abs(f-h)<360?S=vY({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,_/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):S=S6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),C.createElement("path",SE({},_i(e),{className:g,d:S}))};function xY(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(aL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:u}=e,c=xn(r,i,a,u),f=xn(r,i,s,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return T6(e)}}var Zb={},e_={},t_={},FP;function bY(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(t_)),t_}var qP;function _Y(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bY();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(e_)),e_}var $P;function EY(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gL(),n=_Y();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}t.range=r})(Zb)),Zb}var n_,HP;function TY(){return HP||(HP=1,n_=EY().range),n_}var SY=TY();const A6=ka(SY);function Ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fS(t){let e,n,r;t.length!==2?(e=Ts,n=(u,c)=>Ts(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ts||t===wY?t:AY,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function AY(){return 0}function C6(t){return t===null?NaN:+t}function*CY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const NY=fS(Ts),sh=NY.right;fS(C6).center;class GP extends Map{constructor(e,n=PY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KP(this,e))}has(e){return super.has(KP(this,e))}set(e,n){return super.set(IY(this,e),n)}delete(e){return super.delete(RY(this,e))}}function KP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function IY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function RY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function PY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function MY(t=Ts){if(t===Ts)return N6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function N6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const DY=Math.sqrt(50),OY=Math.sqrt(10),kY=Math.sqrt(2);function Sg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=DY?10:a>=OY?5:a>=kY?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Sg(t,e,n*2):[u,c,f]}function wE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Sg(e,t,n):Sg(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function AE(t,e,n){return e=+e,t=+t,n=+n,Sg(t,e,n)[2]}function CE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AE(e,t,n):AE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function WP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function I6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?N6:MY(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+g)),A=Math.min(r,Math.floor(e+(c-f)*p/c+g));I6(t,e,_,A,i)}const a=t[e];let s=n,u=r;for(Qf(t,n,e),i(t[r],a)>0&&Qf(t,n,r);s<u;){for(Qf(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Qf(t,n,u):(++u,Qf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Qf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function LY(t,e,n){if(t=Float64Array.from(CY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return WP(t);if(e>=1)return YP(t);var r,i=(r-1)*e,a=Math.floor(i),s=YP(I6(t,a).subarray(0,a+1)),u=WP(t.subarray(a+1));return s+(u-s)*(i-a)}}function jY(t,e,n=C6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function UY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NE=Symbol("implicit");function dS(){var t=new GP,e=[],n=[],r=NE;function i(a){let s=t.get(a);if(s===void 0){if(r!==NE)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new GP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dS(e,n).unknown(r)},wi.apply(i,arguments),i}function hS(){var t=dS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,_=i<r,A=_?i:r,S=_?r:i;a=(S-A)/Math.max(1,g-c+f*2),u&&(a=Math.floor(a)),A+=(S-A-a*(g-c))*h,s=a*(1-c),u&&(A=Math.round(A),s=Math.round(s));var w=UY(g).map(function(I){return A+a*I});return n(_?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return hS(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},wi.apply(p(),arguments)}function R6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R6(e())},t}function VY(){return R6(hS.apply(null,arguments).paddingInner(1))}function pS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function P6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lh(){}var Od=.7,wg=1/Od,rc="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BY=/^#([0-9a-f]{3,8})$/,zY=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),FY=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),qY=new RegExp(`^rgba\\(${rc},${rc},${rc},${kd}\\)$`),$Y=new RegExp(`^rgba\\(${wa},${wa},${wa},${kd}\\)$`),HY=new RegExp(`^hsl\\(${kd},${wa},${wa}\\)$`),GY=new RegExp(`^hsla\\(${kd},${wa},${wa},${kd}\\)$`),JP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pS(lh,Ld,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XP,formatHex:XP,formatHex8:KY,formatHsl:YY,formatRgb:QP,toString:QP});function XP(){return this.rgb().formatHex()}function KY(){return this.rgb().formatHex8()}function YY(){return M6(this).formatHsl()}function QP(){return this.rgb().formatRgb()}function Ld(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=BY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ZP(e):n===3?new Pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zY.exec(t))?new Pr(e[1],e[2],e[3],1):(e=FY.exec(t))?new Pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qY.exec(t))?hm(e[1],e[2],e[3],e[4]):(e=$Y.exec(t))?hm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=HY.exec(t))?n2(e[1],e[2]/100,e[3]/100,1):(e=GY.exec(t))?n2(e[1],e[2]/100,e[3]/100,e[4]):JP.hasOwnProperty(t)?ZP(JP[t]):t==="transparent"?new Pr(NaN,NaN,NaN,0):null}function ZP(t){return new Pr(t>>16&255,t>>8&255,t&255,1)}function hm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pr(t,e,n,r)}function WY(t){return t instanceof lh||(t=Ld(t)),t?(t=t.rgb(),new Pr(t.r,t.g,t.b,t.opacity)):new Pr}function IE(t,e,n,r){return arguments.length===1?WY(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pS(Pr,IE,P6(lh,{brighter(t){return t=t==null?wg:Math.pow(wg,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Od:Math.pow(Od,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pr(Nl(this.r),Nl(this.g),Nl(this.b),Ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e2,formatHex:e2,formatHex8:JY,formatRgb:t2,toString:t2}));function e2(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function JY(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function t2(){const t=Ag(this.opacity);return`${t===1?"rgb(":"rgba("}${Nl(this.r)}, ${Nl(this.g)}, ${Nl(this.b)}${t===1?")":`, ${t})`}`}function Ag(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tl(t){return t=Nl(t),(t<16?"0":"")+t.toString(16)}function n2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bi(t,e,n,r)}function M6(t){if(t instanceof Bi)return new Bi(t.h,t.s,t.l,t.opacity);if(t instanceof lh||(t=Ld(t)),!t)return new Bi;if(t instanceof Bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Bi(s,u,c,t.opacity)}function XY(t,e,n,r){return arguments.length===1?M6(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pS(Bi,XY,P6(lh,{brighter(t){return t=t==null?wg:Math.pow(wg,t),new Bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Od:Math.pow(Od,t),new Bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pr(r_(t>=240?t-240:t+120,i,r),r_(t,i,r),r_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bi(r2(this.h),pm(this.s),pm(this.l),Ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ag(this.opacity);return`${t===1?"hsl(":"hsla("}${r2(this.h)}, ${pm(this.s)*100}%, ${pm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function r2(t){return t=(t||0)%360,t<0?t+360:t}function pm(t){return Math.max(0,Math.min(1,t||0))}function r_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mS=t=>()=>t;function QY(t,e){return function(n){return t+n*e}}function ZY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function eW(t){return(t=+t)==1?D6:function(e,n){return n-e?ZY(e,n,t):mS(isNaN(e)?n:e)}}function D6(t,e){var n=e-t;return n?QY(t,n):mS(isNaN(t)?e:t)}const i2=(function t(e){var n=eW(e);function r(i,a){var s=n((i=IE(i)).r,(a=IE(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=D6(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function tW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function nW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Cc(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function iW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Cg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function aW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var RE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i_=new RegExp(RE.source,"g");function oW(t){return function(){return t}}function sW(t){return function(e){return t(e)+""}}function lW(t,e){var n=RE.lastIndex=i_.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=RE.exec(t))&&(i=i_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Cg(r,i)})),n=i_.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?sW(c[0].x):oW(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function Cc(t,e){var n=typeof e,r;return e==null||n==="boolean"?mS(e):(n==="number"?Cg:n==="string"?(r=Ld(e))?(e=r,i2):lW:e instanceof Ld?i2:e instanceof Date?iW:nW(e)?tW:Array.isArray(e)?rW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?aW:Cg)(t,e)}function gS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function uW(t,e){e===void 0&&(e=t,t=Cc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function cW(t){return function(){return t}}function Ng(t){return+t}var a2=[0,1];function vr(t){return t}function PE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cW(isNaN(e)?NaN:.5)}function fW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dW(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=PE(i,r),a=n(s,a)):(r=PE(r,i),a=n(a,s)),function(u){return a(r(u))}}function hW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=PE(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=sh(t,u,1,r)-1;return a[c](i[c](u))}}function uh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yv(){var t=a2,e=a2,n=Cc,r,i,a,s=vr,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==vr&&(s=fW(t[0],t[g-1])),u=g>2?hW:dW,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(e,t.map(r),Cg)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Ng),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=gS,h()},p.clamp=function(g){return arguments.length?(s=g?!0:vr,h()):s!==vr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,_){return r=g,i=_,h()}}function vS(){return Yv()(vr,vr)}function pW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ig(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dc(t){return t=Ig(Math.abs(t)),t?t[1]:NaN}function mW(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function gW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jd(t){if(!(e=vW.exec(t)))throw new Error("invalid format: "+t);var e;return new yS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jd.prototype=yS.prototype;function yS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Rg;function xW(t,e){var n=Ig(t,e);if(!n)return Rg=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Rg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ig(t,Math.max(0,e+a-1))[0]}function o2(t,e){var n=Ig(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>o2(t*100,e),r:o2,s:xW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function l2(t){return t}var u2=Array.prototype.map,c2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bW(t){var e=t.grouping===void 0||t.thousands===void 0?l2:mW(u2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?l2:gW(u2.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,g){p=jd(p);var _=p.fill,A=p.align,S=p.sign,w=p.symbol,I=p.zero,O=p.width,P=p.comma,B=p.precision,L=p.trim,z=p.type;z==="n"?(P=!0,z="g"):s2[z]||(B===void 0&&(B=12),L=!0,z="g"),(I||_==="0"&&A==="=")&&(I=!0,_="0",A="=");var D=(g&&g.prefix!==void 0?g.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():""),k=(w==="$"?r:/[%p]/.test(z)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),j=s2[z],F=/[defgprs%]/.test(z);B=B===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function q($){var U=D,de=k,me,W,oe;if(z==="c")de=j($)+de,$="";else{$=+$;var ge=$<0||1/$<0;if($=isNaN($)?c:j(Math.abs($),B),L&&($=yW($)),ge&&+$==0&&S!=="+"&&(ge=!1),U=(ge?S==="("?S:u:S==="-"||S==="("?"":S)+U,de=(z==="s"&&!isNaN($)&&Rg!==void 0?c2[8+Rg/3]:"")+de+(ge&&S==="("?")":""),F){for(me=-1,W=$.length;++me<W;)if(oe=$.charCodeAt(me),48>oe||oe>57){de=(oe===46?i+$.slice(me+1):$.slice(me))+de,$=$.slice(0,me);break}}}P&&!I&&($=e($,1/0));var Te=U.length+$.length+de.length,De=Te<O?new Array(O-Te+1).join(_):"";switch(P&&I&&($=e(De+$,De.length?O-de.length:1/0),De=""),A){case"<":$=U+$+de+De;break;case"=":$=U+De+$+de;break;case"^":$=De.slice(0,Te=De.length>>1)+U+$+de+De.slice(Te);break;default:$=De+U+$+de;break}return a($)}return q.toString=function(){return p+""},q}function h(p,g){var _=Math.max(-8,Math.min(8,Math.floor(dc(g)/3)))*3,A=Math.pow(10,-_),S=f((p=jd(p),p.type="f",p),{suffix:c2[8+_/3]});return function(w){return S(A*w)}}return{format:f,formatPrefix:h}}var mm,xS,O6;_W({thousands:",",grouping:[3],currency:["$",""]});function _W(t){return mm=bW(t),xS=mm.format,O6=mm.formatPrefix,mm}function EW(t){return Math.max(0,-dc(Math.abs(t)))}function TW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dc(e)/3)))*3-dc(Math.abs(t)))}function SW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dc(e)-dc(t))+1}function k6(t,e,n,r){var i=CE(t,e,n),a;switch(r=jd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=TW(i,s))&&(r.precision=a),O6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=SW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=EW(i))&&(r.precision=a-(r.type==="%")*2);break}}return xS(r)}function js(t){var e=t.domain;return t.ticks=function(n){var r=e();return wE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return k6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=AE(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function L6(){var t=vS();return t.copy=function(){return uh(t,L6())},wi.apply(t,arguments),js(t)}function j6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ng),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return j6(t).unknown(e)},t=arguments.length?Array.from(t,Ng):[0,1],js(n)}function U6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function f2(t){return Math.log(t)}function d2(t){return Math.exp(t)}function wW(t){return-Math.log(-t)}function AW(t){return-Math.exp(-t)}function CW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NW(t){return t===10?CW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function IW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function h2(t){return(e,n)=>-t(-e,n)}function bS(t){const e=t(f2,d2),n=e.domain;let r=10,i,a;function s(){return i=IW(r),a=NW(r),n()[0]<0?(i=h2(i),a=h2(a),t(wW,AW)):t(f2,d2),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),_=i(h),A,S;const w=u==null?10:+u;let I=[];if(!(r%1)&&_-g<w){if(g=Math.floor(g),_=Math.ceil(_),f>0){for(;g<=_;++g)for(A=1;A<r;++A)if(S=g<0?A/a(-g):A*a(g),!(S<f)){if(S>h)break;I.push(S)}}else for(;g<=_;++g)for(A=r-1;A>=1;--A)if(S=g>0?A/a(-g):A*a(g),!(S<f)){if(S>h)break;I.push(S)}I.length*2<w&&(I=wE(f,h,w))}else I=wE(g,_,Math.min(_-g,w)).map(a);return p?I.reverse():I},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=jd(c)).precision==null&&(c.trim=!0),c=xS(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(U6(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function V6(){const t=bS(Yv()).domain([1,10]);return t.copy=()=>uh(t,V6()).base(t.base()),wi.apply(t,arguments),t}function p2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _S(t){var e=1,n=t(p2(e),m2(e));return n.constant=function(r){return arguments.length?t(p2(e=+r),m2(e)):e},js(n)}function B6(){var t=_S(Yv());return t.copy=function(){return uh(t,B6()).constant(t.constant())},wi.apply(t,arguments)}function g2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function RW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function PW(t){return t<0?-t*t:t*t}function ES(t){var e=t(vr,vr),n=1;function r(){return n===1?t(vr,vr):n===.5?t(RW,PW):t(g2(n),g2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},js(e)}function TS(){var t=ES(Yv());return t.copy=function(){return uh(t,TS()).exponent(t.exponent())},wi.apply(t,arguments),t}function MW(){return TS.apply(null,arguments).exponent(.5)}function v2(t){return Math.sign(t)*t*t}function DW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function z6(){var t=vS(),e=[0,1],n=!1,r;function i(a){var s=DW(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(v2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ng)).map(v2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return z6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wi.apply(i,arguments),js(i)}function F6(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=jY(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[sh(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ts),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return F6().domain(t).range(e).unknown(r)},wi.apply(a,arguments)}function q6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[sh(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return q6().domain([t,e]).range(i).unknown(a)},wi.apply(js(s),arguments)}function $6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[sh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $6().domain(t).range(e).unknown(n)},wi.apply(i,arguments)}const a_=new Date,o_=new Date;function In(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>In(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(a_.setTime(+a),o_.setTime(+s),t(a_),t(o_),Math.floor(n(a_,o_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Pg=In(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?In(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Pg);Pg.range;const oo=1e3,xi=oo*60,so=xi*60,vo=so*24,SS=vo*7,y2=vo*30,s_=vo*365,Sl=In(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getUTCSeconds());Sl.range;const wS=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo)},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getMinutes());wS.range;const AS=In(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getUTCMinutes());AS.range;const CS=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo-t.getMinutes()*xi)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getHours());CS.range;const NS=In(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getUTCHours());NS.range;const ch=In(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xi)/vo,t=>t.getDate()-1);ch.range;const Wv=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vo,t=>t.getUTCDate()-1);Wv.range;const H6=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vo,t=>Math.floor(t/vo));H6.range;function Yl(t){return In(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xi)/SS)}const Jv=Yl(0),Mg=Yl(1),OW=Yl(2),kW=Yl(3),hc=Yl(4),LW=Yl(5),jW=Yl(6);Jv.range;Mg.range;OW.range;kW.range;hc.range;LW.range;jW.range;function Wl(t){return In(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/SS)}const Xv=Wl(0),Dg=Wl(1),UW=Wl(2),VW=Wl(3),pc=Wl(4),BW=Wl(5),zW=Wl(6);Xv.range;Dg.range;UW.range;VW.range;pc.range;BW.range;zW.range;const IS=In(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IS.range;const RS=In(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RS.range;const yo=In(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});yo.range;const xo=In(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xo.range;function G6(t,e,n,r,i,a){const s=[[Sl,1,oo],[Sl,5,5*oo],[Sl,15,15*oo],[Sl,30,30*oo],[a,1,xi],[a,5,5*xi],[a,15,15*xi],[a,30,30*xi],[i,1,so],[i,3,3*so],[i,6,6*so],[i,12,12*so],[r,1,vo],[r,2,2*vo],[n,1,SS],[e,1,y2],[e,3,3*y2],[t,1,s_]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const _=p&&typeof p.range=="function"?p:c(f,h,p),A=_?_.range(f,+h+1):[];return g?A.reverse():A}function c(f,h,p){const g=Math.abs(h-f)/p,_=fS(([,,w])=>w).right(s,g);if(_===s.length)return t.every(CE(f/s_,h/s_,p));if(_===0)return Pg.every(Math.max(CE(f,h,p),1));const[A,S]=s[g/s[_-1][2]<s[_][2]/g?_-1:_];return A.every(S)}return[u,c]}const[FW,qW]=G6(xo,RS,Xv,H6,NS,AS),[$W,HW]=G6(yo,IS,Jv,ch,CS,wS);function l_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function u_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function GW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=ed(i),h=td(i),p=ed(a),g=td(a),_=ed(s),A=td(s),S=ed(u),w=td(u),I=ed(c),O=td(c),P={a:oe,A:ge,b:Te,B:De,c:null,d:S2,e:S2,f:mJ,g:wJ,G:CJ,H:dJ,I:hJ,j:pJ,L:K6,m:gJ,M:vJ,p:K,q:ae,Q:C2,s:N2,S:yJ,u:xJ,U:bJ,V:_J,w:EJ,W:TJ,x:null,X:null,y:SJ,Y:AJ,Z:NJ,"%":A2},B={a:ve,A:xe,b:Oe,B:Ve,c:null,d:w2,e:w2,f:MJ,g:FJ,G:$J,H:IJ,I:RJ,j:PJ,L:W6,m:DJ,M:OJ,p:je,q:It,Q:C2,s:N2,S:kJ,u:LJ,U:jJ,V:UJ,w:VJ,W:BJ,x:null,X:null,y:zJ,Y:qJ,Z:HJ,"%":A2},L={a:F,A:q,b:$,B:U,c:de,d:E2,e:E2,f:lJ,g:_2,G:b2,H:T2,I:T2,j:iJ,L:sJ,m:rJ,M:aJ,p:j,q:nJ,Q:cJ,s:fJ,S:oJ,u:XW,U:QW,V:ZW,w:JW,W:eJ,x:me,X:W,y:_2,Y:b2,Z:tJ,"%":uJ};P.x=z(n,P),P.X=z(r,P),P.c=z(e,P),B.x=z(n,B),B.X=z(r,B),B.c=z(e,B);function z(le,ze){return function(ue){var Z=[],_e=-1,be=0,Se=le.length,We,$t,fr;for(ue instanceof Date||(ue=new Date(+ue));++_e<Se;)le.charCodeAt(_e)===37&&(Z.push(le.slice(be,_e)),($t=x2[We=le.charAt(++_e)])!=null?We=le.charAt(++_e):$t=We==="e"?" ":"0",(fr=ze[We])&&(We=fr(ue,$t)),Z.push(We),be=_e+1);return Z.push(le.slice(be,_e)),Z.join("")}}function D(le,ze){return function(ue){var Z=Zf(1900,void 0,1),_e=k(Z,le,ue+="",0),be,Se;if(_e!=ue.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ze&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(be=u_(Zf(Z.y,0,1)),Se=be.getUTCDay(),be=Se>4||Se===0?Dg.ceil(be):Dg(be),be=Wv.offset(be,(Z.V-1)*7),Z.y=be.getUTCFullYear(),Z.m=be.getUTCMonth(),Z.d=be.getUTCDate()+(Z.w+6)%7):(be=l_(Zf(Z.y,0,1)),Se=be.getDay(),be=Se>4||Se===0?Mg.ceil(be):Mg(be),be=ch.offset(be,(Z.V-1)*7),Z.y=be.getFullYear(),Z.m=be.getMonth(),Z.d=be.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Se="Z"in Z?u_(Zf(Z.y,0,1)).getUTCDay():l_(Zf(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Se+5)%7:Z.w+Z.U*7-(Se+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,u_(Z)):l_(Z)}}function k(le,ze,ue,Z){for(var _e=0,be=ze.length,Se=ue.length,We,$t;_e<be;){if(Z>=Se)return-1;if(We=ze.charCodeAt(_e++),We===37){if(We=ze.charAt(_e++),$t=L[We in x2?ze.charAt(_e++):We],!$t||(Z=$t(le,ue,Z))<0)return-1}else if(We!=ue.charCodeAt(Z++))return-1}return Z}function j(le,ze,ue){var Z=f.exec(ze.slice(ue));return Z?(le.p=h.get(Z[0].toLowerCase()),ue+Z[0].length):-1}function F(le,ze,ue){var Z=_.exec(ze.slice(ue));return Z?(le.w=A.get(Z[0].toLowerCase()),ue+Z[0].length):-1}function q(le,ze,ue){var Z=p.exec(ze.slice(ue));return Z?(le.w=g.get(Z[0].toLowerCase()),ue+Z[0].length):-1}function $(le,ze,ue){var Z=I.exec(ze.slice(ue));return Z?(le.m=O.get(Z[0].toLowerCase()),ue+Z[0].length):-1}function U(le,ze,ue){var Z=S.exec(ze.slice(ue));return Z?(le.m=w.get(Z[0].toLowerCase()),ue+Z[0].length):-1}function de(le,ze,ue){return k(le,e,ze,ue)}function me(le,ze,ue){return k(le,n,ze,ue)}function W(le,ze,ue){return k(le,r,ze,ue)}function oe(le){return s[le.getDay()]}function ge(le){return a[le.getDay()]}function Te(le){return c[le.getMonth()]}function De(le){return u[le.getMonth()]}function K(le){return i[+(le.getHours()>=12)]}function ae(le){return 1+~~(le.getMonth()/3)}function ve(le){return s[le.getUTCDay()]}function xe(le){return a[le.getUTCDay()]}function Oe(le){return c[le.getUTCMonth()]}function Ve(le){return u[le.getUTCMonth()]}function je(le){return i[+(le.getUTCHours()>=12)]}function It(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ze=z(le+="",P);return ze.toString=function(){return le},ze},parse:function(le){var ze=D(le+="",!1);return ze.toString=function(){return le},ze},utcFormat:function(le){var ze=z(le+="",B);return ze.toString=function(){return le},ze},utcParse:function(le){var ze=D(le+="",!0);return ze.toString=function(){return le},ze}}}var x2={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,KW=/^%/,YW=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function WW(t){return t.replace(YW,"\\$&")}function ed(t){return new RegExp("^(?:"+t.map(WW).join("|")+")","i")}function td(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function JW(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XW(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QW(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ZW(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eJ(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function b2(t,e,n){var r=Fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _2(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nJ(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rJ(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function E2(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iJ(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T2(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aJ(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oJ(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sJ(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lJ(t,e,n){var r=Fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uJ(t,e,n){var r=KW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cJ(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fJ(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function S2(t,e){return ut(t.getDate(),e,2)}function dJ(t,e){return ut(t.getHours(),e,2)}function hJ(t,e){return ut(t.getHours()%12||12,e,2)}function pJ(t,e){return ut(1+ch.count(yo(t),t),e,3)}function K6(t,e){return ut(t.getMilliseconds(),e,3)}function mJ(t,e){return K6(t,e)+"000"}function gJ(t,e){return ut(t.getMonth()+1,e,2)}function vJ(t,e){return ut(t.getMinutes(),e,2)}function yJ(t,e){return ut(t.getSeconds(),e,2)}function xJ(t){var e=t.getDay();return e===0?7:e}function bJ(t,e){return ut(Jv.count(yo(t)-1,t),e,2)}function Y6(t){var e=t.getDay();return e>=4||e===0?hc(t):hc.ceil(t)}function _J(t,e){return t=Y6(t),ut(hc.count(yo(t),t)+(yo(t).getDay()===4),e,2)}function EJ(t){return t.getDay()}function TJ(t,e){return ut(Mg.count(yo(t)-1,t),e,2)}function SJ(t,e){return ut(t.getFullYear()%100,e,2)}function wJ(t,e){return t=Y6(t),ut(t.getFullYear()%100,e,2)}function AJ(t,e){return ut(t.getFullYear()%1e4,e,4)}function CJ(t,e){var n=t.getDay();return t=n>=4||n===0?hc(t):hc.ceil(t),ut(t.getFullYear()%1e4,e,4)}function NJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function w2(t,e){return ut(t.getUTCDate(),e,2)}function IJ(t,e){return ut(t.getUTCHours(),e,2)}function RJ(t,e){return ut(t.getUTCHours()%12||12,e,2)}function PJ(t,e){return ut(1+Wv.count(xo(t),t),e,3)}function W6(t,e){return ut(t.getUTCMilliseconds(),e,3)}function MJ(t,e){return W6(t,e)+"000"}function DJ(t,e){return ut(t.getUTCMonth()+1,e,2)}function OJ(t,e){return ut(t.getUTCMinutes(),e,2)}function kJ(t,e){return ut(t.getUTCSeconds(),e,2)}function LJ(t){var e=t.getUTCDay();return e===0?7:e}function jJ(t,e){return ut(Xv.count(xo(t)-1,t),e,2)}function J6(t){var e=t.getUTCDay();return e>=4||e===0?pc(t):pc.ceil(t)}function UJ(t,e){return t=J6(t),ut(pc.count(xo(t),t)+(xo(t).getUTCDay()===4),e,2)}function VJ(t){return t.getUTCDay()}function BJ(t,e){return ut(Dg.count(xo(t)-1,t),e,2)}function zJ(t,e){return ut(t.getUTCFullYear()%100,e,2)}function FJ(t,e){return t=J6(t),ut(t.getUTCFullYear()%100,e,2)}function qJ(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function $J(t,e){var n=t.getUTCDay();return t=n>=4||n===0?pc(t):pc.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function HJ(){return"+0000"}function A2(){return"%"}function C2(t){return+t}function N2(t){return Math.floor(+t/1e3)}var qu,X6,Q6;GJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GJ(t){return qu=GW(t),X6=qu.format,qu.parse,Q6=qu.utcFormat,qu.utcParse,qu}function KJ(t){return new Date(t)}function YJ(t){return t instanceof Date?+t:+new Date(+t)}function PS(t,e,n,r,i,a,s,u,c,f){var h=vS(),p=h.invert,g=h.domain,_=f(".%L"),A=f(":%S"),S=f("%I:%M"),w=f("%I %p"),I=f("%a %d"),O=f("%b %d"),P=f("%B"),B=f("%Y");function L(z){return(c(z)<z?_:u(z)<z?A:s(z)<z?S:a(z)<z?w:r(z)<z?i(z)<z?I:O:n(z)<z?P:B)(z)}return h.invert=function(z){return new Date(p(z))},h.domain=function(z){return arguments.length?g(Array.from(z,YJ)):g().map(KJ)},h.ticks=function(z){var D=g();return t(D[0],D[D.length-1],z??10)},h.tickFormat=function(z,D){return D==null?L:f(D)},h.nice=function(z){var D=g();return(!z||typeof z.range!="function")&&(z=e(D[0],D[D.length-1],z??10)),z?g(U6(D,z)):h},h.copy=function(){return uh(h,PS(t,e,n,r,i,a,s,u,c,f))},h}function WJ(){return wi.apply(PS($W,HW,yo,IS,Jv,ch,CS,wS,Sl,X6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JJ(){return wi.apply(PS(FW,qW,xo,RS,Xv,Wv,NS,AS,Sl,Q6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qv(){var t=0,e=1,n,r,i,a,s=vr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var _,A;return arguments.length?([_,A]=g,s=p(_,A),f):[s(0),s(1)]}}return f.range=h(Cc),f.rangeRound=h(gS),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Us(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z6(){var t=js(Qv()(vr));return t.copy=function(){return Us(t,Z6())},Io.apply(t,arguments)}function ej(){var t=bS(Qv()).domain([1,10]);return t.copy=function(){return Us(t,ej()).base(t.base())},Io.apply(t,arguments)}function tj(){var t=_S(Qv());return t.copy=function(){return Us(t,tj()).constant(t.constant())},Io.apply(t,arguments)}function MS(){var t=ES(Qv());return t.copy=function(){return Us(t,MS()).exponent(t.exponent())},Io.apply(t,arguments)}function XJ(){return MS.apply(null,arguments).exponent(.5)}function nj(){var t=[],e=vr;function n(r){if(r!=null&&!isNaN(r=+r))return e((sh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ts),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>LY(t,a/r))},n.copy=function(){return nj(e).domain(t)},Io.apply(n,arguments)}function Zv(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=vr,h,p=!1,g;function _(S){return isNaN(S=+S)?g:(S=.5+((S=+h(S))-a)*(r*S<r*a?u:c),f(p?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(p=!!S,_):p},_.interpolator=function(S){return arguments.length?(f=S,_):f};function A(S){return function(w){var I,O,P;return arguments.length?([I,O,P]=w,f=uW(S,[I,O,P]),_):[f(0),f(.5),f(1)]}}return _.range=A(Cc),_.rangeRound=A(gS),_.unknown=function(S){return arguments.length?(g=S,_):g},function(S){return h=S,i=S(t),a=S(e),s=S(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,_}}function rj(){var t=js(Zv()(vr));return t.copy=function(){return Us(t,rj())},Io.apply(t,arguments)}function ij(){var t=bS(Zv()).domain([.1,1,10]);return t.copy=function(){return Us(t,ij()).base(t.base())},Io.apply(t,arguments)}function aj(){var t=_S(Zv());return t.copy=function(){return Us(t,aj()).constant(t.constant())},Io.apply(t,arguments)}function DS(){var t=ES(Zv());return t.copy=function(){return Us(t,DS()).exponent(t.exponent())},Io.apply(t,arguments)}function QJ(){return DS.apply(null,arguments).exponent(.5)}const ud=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hS,scaleDiverging:rj,scaleDivergingLog:ij,scaleDivergingPow:DS,scaleDivergingSqrt:QJ,scaleDivergingSymlog:aj,scaleIdentity:j6,scaleImplicit:NE,scaleLinear:L6,scaleLog:V6,scaleOrdinal:dS,scalePoint:VY,scalePow:TS,scaleQuantile:F6,scaleQuantize:q6,scaleRadial:z6,scaleSequential:Z6,scaleSequentialLog:ej,scaleSequentialPow:MS,scaleSequentialQuantile:nj,scaleSequentialSqrt:XJ,scaleSequentialSymlog:tj,scaleSqrt:MW,scaleSymlog:B6,scaleThreshold:$6,scaleTime:WJ,scaleUtc:JJ,tickFormat:k6},Symbol.toStringTag,{value:"Module"}));var Ro=t=>t.chartData,ey=te([Ro],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),oj=(t,e,n,r)=>r?ey(t):Ro(t),ZJ=(t,e,n)=>n?ey(t):Ro(t);function Is(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ht(e)&&Ht(n))return!0}return!1}function I2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function sj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ht(n))i=n;else if(typeof n=="function")return;if(Ht(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Is(s))return s}}function eX(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Is(r))return I2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Re(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&zR.test(i)){var c=zR.exec(i);if(c==null||c[1]==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Re(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&FR.test(a)){var h=FR.exec(a);if(h==null||h[1]==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[s,u];if(Is(g))return e==null?g:I2(g,e,n)}}}var Nc=1e9,tX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kS,Bt=!0,Ti="[DecimalError] ",Il=Ti+"Invalid argument: ",OS=Ti+"Exponent out of range: ",Ic=Math.floor,xl=Math.pow,nX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,Un=1e7,Mt=7,lj=9007199254740991,Og=Ic(lj/Mt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return uo(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return At(uo(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return En(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hr))throw Error(Ti+"NaN");if(n.s<1)throw Error(Ti+(n.s?"NaN":"-Infinity"));return n.eq(Hr)?new r(0):(Bt=!1,e=uo(Ud(n,a),Ud(t,a),a),Bt=!0,At(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fj(e,t):uj(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ti+"NaN");return n.s?(Bt=!1,e=uo(n,t,0,1).times(t),Bt=!0,n.minus(e)):At(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return cj(this)};Ae.naturalLogarithm=Ae.ln=function(){return Ud(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uj(e,t):fj(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Il+t);if(e=En(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ti+"NaN")}for(t=En(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ta(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ic((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(uo(u,a,s+2)).times(.5),Ta(a.d).slice(0,s)===(e=Ta(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return Bt=!0,At(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,p=h.constructor,g=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=_.length,c<f&&(a=g,g=_,_=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+_[r]*g[i-r-1]+e,a[i--]=u%Un|0,e=u/Un|0;a[i]=(a[i]+e)%Un|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Bt?At(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Pa(t,0,Nc),e===void 0?e=r.rounding:Pa(e,0,8),At(n,t+En(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ul(r,!0):(Pa(t,0,Nc),e===void 0?e=i.rounding:Pa(e,0,8),r=At(new i(r),t+1,e),n=Ul(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ul(i):(Pa(t,0,Nc),e===void 0?e=a.rounding:Pa(e,0,8),r=At(new a(i),t+En(i)+1,e),n=Ul(r.abs(),!1,t+En(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return At(new e(t),En(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Hr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ti+"Infinity");return u}if(u.eq(Hr))return u;if(r=c.precision,t.eq(Hr))return At(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=lj){for(i=new c(Hr),e=Math.ceil(r/Mt+4),Bt=!1;n%2&&(i=i.times(u),P2(i.d,e)),n=Ic(n/2),n!==0;)u=u.times(u),P2(u.d,e);return Bt=!0,t.s<0?new c(Hr).div(i):At(i,r)}}else if(a<0)throw Error(Ti+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Bt=!1,i=t.times(Ud(u,r+f)),Bt=!0,i=cj(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=En(i),r=Ul(i,n<=a.toExpNeg||n>=a.toExpPos)):(Pa(t,1,Nc),e===void 0?e=a.rounding:Pa(e,0,8),i=At(new a(i),t,e),n=En(i),r=Ul(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Pa(t,1,Nc),e===void 0?e=r.rounding:Pa(e,0,8)),At(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=En(t),n=t.constructor;return Ul(t,e<=n.toExpNeg||e>=n.toExpPos)};function uj(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Bt?At(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/Mt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Un|0,c[a]%=Un;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Bt?At(e,p):e}function Pa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Il+t)}function Ta(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(a+=ms(n)),a+=r;s=t[e],r=s+"",n=Mt-r.length,n&&(a+=ms(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var uo=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Un|0,s=a/Un|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Un+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,p,g,_,A,S,w,I,O,P,B,L,z,D,k,j=r.constructor,F=r.s==i.s?1:-1,q=r.d,$=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Ti+"Division by zero");for(c=r.e-i.e,D=$.length,L=q.length,_=new j(F),A=_.d=[],f=0;$[f]==(q[f]||0);)++f;if($[f]>(q[f]||0)&&--c,a==null?O=a=j.precision:s?O=a+(En(r)-En(i))+1:O=a,O<0)return new j(0);if(O=O/Mt+2|0,f=0,D==1)for(h=0,$=$[0],O++;(f<L||h)&&O--;f++)P=h*Un+(q[f]||0),A[f]=P/$|0,h=P%$|0;else{for(h=Un/($[0]+1)|0,h>1&&($=t($,h),q=t(q,h),D=$.length,L=q.length),B=D,S=q.slice(0,D),w=S.length;w<D;)S[w++]=0;k=$.slice(),k.unshift(0),z=$[0],$[1]>=Un/2&&++z;do h=0,u=e($,S,D,w),u<0?(I=S[0],D!=w&&(I=I*Un+(S[1]||0)),h=I/z|0,h>1?(h>=Un&&(h=Un-1),p=t($,h),g=p.length,w=S.length,u=e(p,S,g,w),u==1&&(h--,n(p,D<g?k:$,g))):(h==0&&(u=h=1),p=$.slice()),g=p.length,g<w&&p.unshift(0),n(S,p,w),u==-1&&(w=S.length,u=e($,S,D,w),u<1&&(h++,n(S,D<w?k:$,w))),w=S.length):u===0&&(h++,S=[0]),A[f++]=h,u&&S[0]?S[w++]=q[B]||0:(S=[q[B]],w=1);while((B++<L||S[0]!==void 0)&&O--)}return A[0]||A.shift(),_.e=c,At(_,s?a+En(_)+1:a)}})();function cj(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(En(t)>16)throw Error(OS+En(t));if(!t.s)return new h(Hr);for(Bt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(xl(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Hr),h.precision=u;;){if(i=At(i.times(t),u),n=n.times(++c),s=a.plus(uo(i,n,u)),Ta(s.d).slice(0,u)===Ta(a.d).slice(0,u)){for(;f--;)a=At(a.times(a),u);return h.precision=p,e==null?(Bt=!0,At(a,p)):a}a=s}}function En(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function c_(t,e,n){if(e>t.LN10.sd())throw Bt=!0,n&&(t.precision=n),Error(Ti+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function ms(t){for(var e="";t--;)e+="0";return e}function Ud(t,e){var n,r,i,a,s,u,c,f,h,p=1,g=10,_=t,A=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(Ti+(_.s?"NaN":"-Infinity"));if(_.eq(Hr))return new S(0);if(e==null?(Bt=!1,f=w):f=e,_.eq(10))return e==null&&(Bt=!0),c_(S,f);if(f+=g,S.precision=f,n=Ta(A),r=n.charAt(0),a=En(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ta(_.d),r=n.charAt(0),p++;a=En(_),r>1?(_=new S("0."+n),a++):_=new S(r+"."+n.slice(1))}else return c=c_(S,f+2,w).times(a+""),_=Ud(new S(r+"."+n.slice(1)),f-g).plus(c),S.precision=w,e==null?(Bt=!0,At(_,w)):_;for(u=s=_=uo(_.minus(Hr),_.plus(Hr),f),h=At(_.times(_),f),i=3;;){if(s=At(s.times(h),f),c=u.plus(uo(s,new S(i),f)),Ta(c.d).slice(0,f)===Ta(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(c_(S,f+2,w).times(a+""))),u=uo(u,new S(p),f),S.precision=w,e==null?(Bt=!0,At(u,w)):u;u=c,i+=2}}function R2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ic(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Bt&&(t.e>Og||t.e<-Og))throw Error(OS+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,a,s,u,c,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Mt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Mt),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=Mt,i=r-Mt+s}if(n!==void 0&&(a=xl(10,s-i-1),u=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/xl(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=En(t),p.length=1,e=e-a-1,p[0]=xl(10,(Mt-e%Mt)%Mt),t.e=Ic(-e/Mt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=xl(10,Mt-r),p[h]=i>0?(f/xl(10,s-i)%xl(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Un&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Un)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Bt&&(t.e>Og||t.e<-Og))throw Error(OS+En(t));return t}function fj(t,e){var n,r,i,a,s,u,c,f,h,p,g=t.constructor,_=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Bt?At(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(_/Mt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Un-1;--c[a],c[i]+=Un}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Bt?At(e,_):e):new g(0)}function Ul(t,e,n){var r,i=En(t),a=Ta(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ms(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ms(-i-1)+a,n&&(r=n-s)>0&&(a+=ms(r))):i>=s?(a+=ms(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ms(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ms(r))),t.s<0?"-"+a:a}function P2(t,e){if(t.length>e)return t.length=e,!0}function dj(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Il+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return R2(s,a.toString())}else if(typeof a!="string")throw Error(Il+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,nX.test(a))R2(s,a);else throw Error(Il+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dj,i.config=i.set=rX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rX(t){if(!t||typeof t!="object")throw Error(Ti+"Object expected");var e,n,r,i=["precision",1,Nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ic(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Il+n+": "+r);return this}var kS=dj(tX);Hr=new kS(1);const yt=kS;var iX=t=>t,hj={},pj=t=>t===hj,M2=t=>function e(){return arguments.length===0||arguments.length===1&&pj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},mj=(t,e)=>t===1?e:M2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==hj).length;return a>=t?e(...r):mj(t-a,M2(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var f=r.map(h=>pj(h)?u.shift():h);return e(...f,...u)}))}),aX=t=>mj(t.length,t),ME=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},oX=aX((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),sX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return iX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),a(...arguments))}};function gj(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function vj(t,e,n){for(var r=new yt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var yj=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},xj=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=gj(t.toNumber()),i=new yt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new yt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new yt(c.toNumber()):new yt(Math.ceil(c.toNumber()))},lX=(t,e,n)=>{var r=new yt(1),i=new yt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new yt(10).pow(gj(t)-1),i=new yt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new yt(Math.floor(t)))}else t===0?i=new yt(Math.floor((e-1)/2)):n||(i=new yt(Math.floor(t)));var s=Math.floor((e-1)/2),u=sX(oX(c=>i.add(new yt(c-s).mul(r)).toNumber()),ME);return u(0,e)},bj=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var s=xj(new yt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new yt(0):(u=new yt(e).add(n).div(2),u=u.sub(new yt(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),f=Math.ceil(new yt(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?bj(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new yt(c).mul(s)),tickMax:u.add(new yt(f).mul(s))})},uX=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=yj([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...ME(0,i-1).map(()=>1/0)]:[...ME(0,i-1).map(()=>-1/0),c];return n>r?f.reverse():f}if(u===c)return lX(u,i,a);var{step:h,tickMin:p,tickMax:g}=bj(u,c,s,a,0),_=vj(p,g.add(new yt(.1).mul(h)),h);return n>r?_.reverse():_},cX=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=yj([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),f=xj(new yt(u).sub(s).div(c-1),a,0),h=[...vj(new yt(s),new yt(u),f),u];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},_j=t=>t.rootProps.maxBarSize,fX=t=>t.rootProps.barGap,Ej=t=>t.rootProps.barCategoryGap,dX=t=>t.rootProps.barSize,fh=t=>t.rootProps.stackOffset,Tj=t=>t.rootProps.reverseStackOrder,LS=t=>t.options.chartName,jS=t=>t.rootProps.syncId,Sj=t=>t.rootProps.syncMethod,US=t=>t.options.eventEmitter,er={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},io={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$r={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ty=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},hX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:io.angleAxisId,includeHidden:!1,name:void 0,reversed:io.reversed,scale:io.scale,tick:io.tick,tickCount:void 0,ticks:void 0,type:io.type,unit:void 0},pX={allowDataOverflow:$r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,ticks:void 0,type:$r.type,unit:void 0},mX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:io.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:io.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:io.scale,tick:io.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gX={allowDataOverflow:$r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,ticks:void 0,type:"category",unit:void 0},VS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?mX:hX,BS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?gX:pX,ny=t=>t.polarOptions,zS=te([Co,No,Nn],E6),wj=te([ny,zS],(t,e)=>{if(t!=null)return ur(t.innerRadius,e,0)}),Aj=te([ny,zS],(t,e)=>{if(t!=null)return ur(t.outerRadius,e,e*.8)}),vX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Cj=te([ny],vX);te([VS,Cj],ty);var Nj=te([zS,wj,Aj],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([BS,Nj],ty);var Ij=te([ft,ny,wj,Aj,Co,No],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=e;return{cx:ur(s,i,i/2),cy:ur(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),qt=(t,e)=>e,dh=(t,e,n)=>n;function FS(t){return t==null?void 0:t.id}function Rj(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=FS(u);f.forEach((p,g)=>{var _=a==null||i?g:String(kt(p,a,null)),A=kt(p,u.dataKey,0),S;s.has(_)?S=s.get(_):S={},Object.assign(S,{[h]:A}),s.set(_,S)})}}),Array.from(s.values())}function ry(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var iy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ay(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function yX(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Rn=t=>{var e=ft(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Rc=t=>t.tooltip.settings.axisId;function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){xX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xX(t,e,n){return(e=bX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=_X(t,"string");return typeof e=="symbol"?e:e+""}function _X(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DE=[0,"auto"],Ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Pj=(t,e)=>t.cartesianAxis.xAxis[e],Po=(t,e)=>{var n=Pj(t,e);return n??Ln},jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:DE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ih},Mj=(t,e)=>t.cartesianAxis.yAxis[e],Mo=(t,e)=>{var n=Mj(t,e);return n??jn},EX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??EX},Kt=(t,e,n)=>{switch(e){case"xAxis":return Po(t,n);case"yAxis":return Mo(t,n);case"zAxis":return qS(t,n);case"angleAxis":return VS(t,n);case"radiusAxis":return BS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},TX=(t,e,n)=>{switch(e){case"xAxis":return Po(t,n);case"yAxis":return Mo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hh=(t,e,n)=>{switch(e){case"xAxis":return Po(t,n);case"yAxis":return Mo(t,n);case"angleAxis":return VS(t,n);case"radiusAxis":return BS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Dj=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function $S(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var HS=t=>t.graphicalItems.cartesianItems,SX=te([qt,dh],$S),GS=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ph=te([HS,Kt,SX],GS,{memoizeOptions:{resultEqualityCheck:ay}}),Oj=te([ph],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ry)),kj=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),wX=te([ph],kj),KS=t=>t.map(e=>e.data).filter(Boolean).flat(1),AX=te([ph],KS,{memoizeOptions:{resultEqualityCheck:ay}}),YS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},WS=te([AX,oj],YS),JS=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:kt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:kt(i,r)}))):t.map(r=>({value:r})),oy=te([WS,Kt,ph],JS);function Lj(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Um(t){if(Ia(t)||t instanceof Date){var e=Number(t);if(Ht(e))return e}}function O2(t){if(Array.isArray(t)){var e=[Um(t[0]),Um(t[1])];return Is(e)?e:void 0}var n=Um(t);if(n!=null)return[n,n]}function bo(t){return t.map(Um).filter(B$)}function CX(t,e,n){return!n||typeof e!="number"||Ki(e)?[]:n.length?bo(n.flatMap(r=>{var i=kt(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ht(a)||!Ht(s)))return[e-a,e+s]})):[]}var Pn=t=>{var e=Rn(t),n=Rc(t);return hh(t,e,n)},mh=te([Pn],t=>t==null?void 0:t.dataKey),NX=te([Oj,oj,Pn],Rj),jj=(t,e,n,r)=>{var i={},a=e.reduce((s,u)=>{if(u.stackId==null)return s;var c=s[u.stackId];return c==null&&(c=[]),c.push(u),s[u.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,f=r?[...c].reverse():c,h=f.map(FS);return[u,{stackedData:s7(t,h,n),graphicalItems:f}]}))},OE=te([NX,Oj,fh,Tj],jj),Uj=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=d7(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},IX=te([Kt],t=>t.allowDataOverflow),XS=t=>{var e;if(t==null||!("domain"in t))return DE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=bo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:DE},QS=te([Kt],XS),ZS=te([QS,IX],sj),RX=te([OE,Ro,qt,ZS],Uj,{memoizeOptions:{resultEqualityCheck:iy}}),sy=t=>t.errorBars,PX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Lj(n,r)),Lg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},ew=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(I=>Lj(i,I)),g=kt(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),_=CX(u,g,p);if(_.length>=2){var A=Math.min(..._),S=Math.max(..._);(a==null||A<a)&&(a=A),(s==null||S>s)&&(s=S)}var w=O2(g);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=O2(kt(u,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Ht(a)&&Ht(s))return[a,s]},MX=te([WS,Kt,wX,sy,qt],ew,{memoizeOptions:{resultEqualityCheck:iy}});function DX(t){var{value:e}=t;if(Ia(e)||e instanceof Date)return e}var OX=(t,e,n)=>{var r=t.map(DX).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&nL(r))?A6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Vj=t=>t.referenceElements.dots,Pc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),kX=te([Vj,qt,dh],Pc),Bj=t=>t.referenceElements.areas,LX=te([Bj,qt,dh],Pc),zj=t=>t.referenceElements.lines,jX=te([zj,qt,dh],Pc),Fj=(t,e)=>{if(t!=null){var n=bo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UX=te(kX,qt,Fj),qj=(t,e)=>{if(t!=null){var n=bo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VX=te([LX,qt],qj);function BX(t){var e;if(t.x!=null)return bo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:bo(n)}function zX(t){var e;if(t.y!=null)return bo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:bo(n)}var $j=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?BX(r):zX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},FX=te([jX,qt],$j),qX=te(UX,FX,VX,(t,e,n)=>Lg(t,n,e)),tw=(t,e,n,r,i,a,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",f=c?Lg(r,a,i):Lg(a,i);return eX(e,f,t.allowDataOverflow)},$X=te([Kt,QS,ZS,RX,MX,qX,ft,qt],tw,{memoizeOptions:{resultEqualityCheck:iy}}),HX=[0,1],nw=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,f=Kl(e,a);if(f&&u==null){var h;return A6(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?OX(r,t,f):i==="expand"?HX:s}},rw=te([Kt,ft,WS,oy,fh,qt,$X],nw),Hj=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(eh(a));return u in ud?u:"point"}}},Mc=te([Kt,ft,Dj,LS,qt],Hj);function GX(t){if(t!=null){if(t in ud)return ud[t]();var e="scale".concat(eh(t));if(e in ud)return ud[e]()}}function iw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=GX(e);if(i!=null){var a=i.domain(n).range(r);return n7(a),a}}}var aw=(t,e,n)=>{var r=XS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Is(t))return uX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Is(t))return cX(t,e.tickCount,e.allowDecimals)}},ow=te([rw,hh,Mc],aw),sw=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Is(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(s,u)]}return e},KX=te([Kt,rw,ow,qt],sw),YX=te(oy,Kt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(bo(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var u=0;u<r.length-1;u++){var c=r[u],f=r[u+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/s}}),Gj=te(YX,ft,Ej,Nn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ht(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=ur(n,t*a),u=t*a/2;return u-s-(u-s)/a*s}return 0}),WX=(t,e,n)=>{var r=Po(t,e);return r==null||typeof r.padding!="string"?0:Gj(t,"xAxis",e,n,r.padding)},JX=(t,e,n)=>{var r=Mo(t,e);return r==null||typeof r.padding!="string"?0:Gj(t,"yAxis",e,n,r.padding)},XX=te(Po,WX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),QX=te(Mo,JX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ZX=te([Nn,XX,Vv,Uv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),eQ=te([Nn,ft,QX,Vv,Uv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),gh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ZX(t,n,r);case"yAxis":return eQ(t,n,r);case"zAxis":return(i=qS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Cj(t);case"radiusAxis":return Nj(t,n);default:return}},Kj=te([Kt,gh],ty),ly=te([Kt,Mc,KX,Kj],iw);te([ph,sy,qt],PX);function Yj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var uy=(t,e)=>e,cy=(t,e,n)=>n,tQ=te(Lv,uy,cy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Yj)),nQ=te(jv,uy,cy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Yj)),Wj=(t,e)=>({width:t.width,height:e.height}),rQ=(t,e)=>{var n=typeof e.width=="number"?e.width:ih;return{width:n,height:t.height}},Jj=te(Nn,Po,Wj),iQ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},aQ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},oQ=te(No,Nn,tQ,uy,cy,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=Wj(e,u);s==null&&(s=iQ(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),a}),sQ=te(Co,Nn,nQ,uy,cy,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=rQ(e,u);s==null&&(s=aQ(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),a}),lQ=(t,e)=>{var n=Po(t,e);if(n!=null)return oQ(t,n.orientation,n.mirror)},uQ=te([Nn,Po,lQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),cQ=(t,e)=>{var n=Mo(t,e);if(n!=null)return sQ(t,n.orientation,n.mirror)},fQ=te([Nn,Mo,cQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Xj=te(Nn,Mo,(t,e)=>{var n=typeof e.width=="number"?e.width:ih;return{width:n,height:t.height}}),k2=(t,e,n)=>{switch(e){case"xAxis":return Jj(t,n).width;case"yAxis":return Xj(t,n).height;default:return}},Qj=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,u=Kl(t,r),c=e.map(f=>f.value);if(s&&u&&a==="category"&&i&&nL(c))return c}},lw=te([ft,oy,Kt,qt],Qj),Zj=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Kl(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},uw=te([ft,oy,hh,qt],Zj),L2=te([ft,TX,Mc,ly,lw,uw,gh,ow,qt],(t,e,n,r,i,a,s,u,c)=>{if(e!=null){var f=Kl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}}}),dQ=(t,e,n,r,i,a,s,u,c)=>{if(!(e==null||r==null)){var f=Kl(t,c),{type:h,ticks:p,tickCount:g}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=h==="category"&&r.bandwidth?r.bandwidth()/_:0;A=c==="angleAxis"&&a!=null&&a.length>=2?Bn(a[0]-a[1])*2*A:A;var S=p||i;if(S){var w=S.map((I,O)=>{var P=s?s.indexOf(I):I;return{index:O,coordinate:r(P)+A,value:I,offset:A}});return w.filter(I=>Ht(I.coordinate))}return f&&u?u.map((I,O)=>({coordinate:r(I)+A,value:I,index:O,offset:A})).filter(I=>Ht(I.coordinate)):r.ticks?r.ticks(g).map(I=>({coordinate:r(I)+A,value:I,offset:A})):r.domain().map((I,O)=>({coordinate:r(I)+A,value:s?s[I]:I,index:O,offset:A}))}},eU=te([ft,hh,Mc,ly,ow,gh,lw,uw,qt],dQ),hQ=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Kl(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Bn(r[0]-r[1])*2*f:f,u&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},mc=te([ft,hh,ly,gh,lw,uw,qt],hQ),gc=te(Kt,ly,(t,e)=>{if(!(t==null||e==null))return kg(kg({},t),{},{scale:e})}),pQ=te([Kt,Mc,rw,Kj],iw);te((t,e,n)=>qS(t,n),pQ,(t,e)=>{if(!(t==null||e==null))return kg(kg({},t),{},{scale:e})});var mQ=te([ft,Lv,jv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tU=t=>t.options.defaultTooltipEventType,nU=t=>t.options.validateTooltipEventTypes;function rU(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function cw(t,e){var n=tU(t),r=nU(t);return rU(e,n,r)}function gQ(t){return Me(e=>cw(e,t))}var iU=(t,e)=>{var n,r=Number(e);if(!(Ki(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},vQ=t=>t.tooltip.settings,vs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yQ={itemInteraction:{click:vs,hover:vs},axisInteraction:{click:vs,hover:vs},keyboardInteraction:vs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aU=Mr({name:"tooltip",initialState:yQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Vt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=zi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Vt()},removeTooltipEntrySettings:{reducer(t,e){var n=zi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Vt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:xQ,replaceTooltipEntrySettings:bQ,removeTooltipEntrySettings:_Q,setTooltipSettingsState:EQ,setActiveMouseOverItemIndex:oU,mouseLeaveItem:TQ,mouseLeaveChart:sU,setActiveClickItemIndex:SQ,setMouseOverAxisIndex:lU,setMouseClickAxisIndex:wQ,setSyncInteraction:kE,setKeyboardInteraction:LE}=aU.actions,AQ=aU.reducer;function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){CQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CQ(t,e,n){return(e=NQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=IQ(t,"string");return typeof e=="symbol"?e:e+""}function IQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function PQ(t){return t.index!=null}var uU=(t,e,n,r)=>{if(e==null)return vs;var i=RQ(t,e,n);if(i==null)return vs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(PQ(i)){if(a)return gm(gm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return gm(gm({},vs),{},{coordinate:i.coordinate})};function MQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function DQ(t,e){var n=MQ(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function OQ(t,e,n){if(n==null||e==null)return!0;var r=kt(t,e);return r==null||!Is(n)?!0:DQ(r,n)}var fw=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Ht(a))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(a,u)),f=e[c];return f==null||OQ(f,n,r)?String(c):null},cU=(t,e,n,r,i,a,s,u)=>{if(!(a==null||u==null)){var c=s[0],f=c==null?void 0:u(c.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},fU=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},vh=t=>t.options.tooltipPayloadSearcher,Dc=t=>t.tooltip;function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){kQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kQ(t,e,n){return(e=LQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=jQ(t,"string");return typeof e=="symbol"?e:e+""}function jQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UQ(t,e){return t??e}var dU=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((g,_)=>{var A,{dataDefinedOnItem:S,settings:w}=_,I=UQ(S,u),O=Array.isArray(I)?KL(I,f,h):I,P=(A=w==null?void 0:w.dataKey)!==null&&A!==void 0?A:r,B=w==null?void 0:w.nameKey,L;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&s==="axis"?L=V$(O,r,i):L=a(O,e,c,B),Array.isArray(L))L.forEach(D=>{var k=V2(V2({},w),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(qR({tooltipEntrySettings:k,dataKey:D.dataKey,payload:D.payload,value:kt(D.payload,D.dataKey),name:D.name}))});else{var z;g.push(qR({tooltipEntrySettings:w,dataKey:P,payload:L,value:kt(L,P),name:(z=kt(L,B))!==null&&z!==void 0?z:w==null?void 0:w.name}))}return g},p)}},dw=te([Pn,ft,Dj,LS,Rn],Hj),VQ=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),BQ=te([Rn,Rc],$S),Oc=te([VQ,Pn,BQ],GS,{memoizeOptions:{resultEqualityCheck:ay}}),zQ=te([Oc],t=>t.filter(ry)),FQ=te([Oc],KS,{memoizeOptions:{resultEqualityCheck:ay}}),kc=te([FQ,Ro],YS),qQ=te([zQ,Ro,Pn],Rj),hw=te([kc,Pn,Oc],JS),hU=te([Pn],XS),$Q=te([Pn],t=>t.allowDataOverflow),pU=te([hU,$Q],sj),HQ=te([Oc],t=>t.filter(ry)),GQ=te([qQ,HQ,fh,Tj],jj),KQ=te([GQ,Ro,Rn,pU],Uj),YQ=te([Oc],kj),WQ=te([kc,Pn,YQ,sy,Rn],ew,{memoizeOptions:{resultEqualityCheck:iy}}),JQ=te([Vj,Rn,Rc],Pc),XQ=te([JQ,Rn],Fj),QQ=te([Bj,Rn,Rc],Pc),ZQ=te([QQ,Rn],qj),eZ=te([zj,Rn,Rc],Pc),tZ=te([eZ,Rn],$j),nZ=te([XQ,tZ,ZQ],Lg),rZ=te([Pn,hU,pU,KQ,WQ,nZ,ft,Rn],tw),yh=te([Pn,ft,kc,hw,fh,Rn,rZ],nw),iZ=te([yh,Pn,dw],aw),aZ=te([Pn,yh,iZ,Rn],sw),mU=t=>{var e=Rn(t),n=Rc(t),r=!1;return gh(t,e,n,r)},gU=te([Pn,mU],ty),vU=te([Pn,dw,aZ,gU],iw),oZ=te([ft,hw,Pn,Rn],Qj),sZ=te([ft,hw,Pn,Rn],Zj),lZ=(t,e,n,r,i,a,s,u)=>{if(e){var{type:c}=e,f=Kl(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Bn(i[0]-i[1])*2*p:p,f&&s?s.map((g,_)=>({coordinate:r(g)+p,value:g,index:_,offset:p})):r.domain().map((g,_)=>({coordinate:r(g)+p,value:a?a[g]:g,index:_,offset:p}))}}},Do=te([ft,Pn,dw,vU,mU,oZ,sZ,Rn],lZ),pw=te([tU,nU,vQ],(t,e,n)=>rU(n.shared,t,e)),yU=t=>t.tooltip.settings.trigger,mw=t=>t.tooltip.settings.defaultIndex,xh=te([Dc,pw,yU,mw],uU),Vl=te([xh,kc,mh,yh],fw),xU=te([Do,Vl],iU),gw=te([xh],t=>{if(t)return t.dataKey}),uZ=te([xh],t=>{if(t)return t.graphicalItemId}),bU=te([Dc,pw,yU,mw],fU),cZ=te([Co,No,ft,Nn,Do,mw,bU,vh],cU),fZ=te([xh,cZ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),dZ=te([xh],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),hZ=te([bU,Vl,Ro,mh,xU,vh,pw],dU);te([hZ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return(e=mZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vZ=()=>Me(Pn),yZ=()=>{var t=vZ(),e=Me(Do),n=Me(vU);return pg(!t||!n?void 0:z2(z2({},t),{},{scale:n}),e)};function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){xZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e,n){return(e=bZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bZ(t){var e=_Z(t,"string");return typeof e=="symbol"?e:e+""}function _Z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EZ=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},TZ=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return $u($u($u({},r),xn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:c}=r;return $u($u($u({},r),xn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function SZ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var _U=(t,e,n,r,i)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<s;u++){var c,f,h,p,g,_=u>0?(c=n[u-1])===null||c===void 0?void 0:c.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,A=(h=n[u])===null||h===void 0?void 0:h.coordinate,S=u>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,w=void 0;if(!(_==null||A==null||S==null))if(Bn(A-_)!==Bn(S-A)){var I=[];if(Bn(S-A)===Bn(i[1]-i[0])){w=S;var O=A+i[1]-i[0];I[0]=Math.min(O,(O+_)/2),I[1]=Math.max(O,(O+_)/2)}else{w=_;var P=S+i[1]-i[0];I[0]=Math.min(A,(P+A)/2),I[1]=Math.max(A,(P+A)/2)}var B=[Math.min(A,(w+A)/2),Math.max(A,(w+A)/2)];if(t>B[0]&&t<=B[1]||t>=I[0]&&t<=I[1]){var L;return(L=n[u])===null||L===void 0?void 0:L.index}}else{var z=Math.min(_,S),D=Math.max(_,S);if(t>(z+A)/2&&t<=(D+A)/2){var k;return(k=n[u])===null||k===void 0?void 0:k.index}}}else if(e)for(var j=0;j<s;j++){var F=e[j];if(F!=null){var q=e[j+1],$=e[j-1];if(j===0&&q!=null&&t<=(F.coordinate+q.coordinate)/2||j===s-1&&$!=null&&t>(F.coordinate+$.coordinate)/2||j>0&&j<s-1&&$!=null&&q!=null&&t>(F.coordinate+$.coordinate)/2&&t<=(F.coordinate+q.coordinate)/2)return F.index}}return-1},wZ=()=>Me(LS),vw=(t,e)=>e,EU=(t,e,n)=>n,yw=(t,e,n,r)=>r,AZ=te(Do,t=>wv(t,e=>e.coordinate)),xw=te([Dc,vw,EU,yw],uU),bw=te([xw,kc,mh,yh],fw),CZ=(t,e,n)=>{if(e!=null){var r=Dc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},TU=te([Dc,vw,EU,yw],fU),jg=te([Co,No,ft,Nn,Do,yw,TU,vh],cU),NZ=te([xw,jg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),SU=te([Do,bw],iU),IZ=te([TU,bw,Ro,mh,SU,vh,vw],dU),RZ=te([xw,bw],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),PZ=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&SZ(t,s)){var u=h7(t,e),c=_U(u,a,i,n,r),f=EZ(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},MZ=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var u=mY(t,n);if(u){var c=p7(u,e),f=_U(c,s,a,r,i),h=TZ(e,a,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},DZ=(t,e,n,r,i,a,s,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?PZ(t,e,r,i,a,s,u):MZ(t,e,n,r,i,a,s)},OZ=te(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),kZ=te(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(er)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:yX}});function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){LZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LZ(t,e,n){return(e=jZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VZ={},BZ={zIndexMap:Object.values(er).reduce((t,e)=>$2($2({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),VZ)},zZ=new Set(Object.values(er));function FZ(t){return zZ.has(t)}var wU=Mr({name:"zIndex",initialState:BZ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Vt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!FZ(n)&&delete t.zIndexMap[n])},prepare:Vt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Vt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Vt()}}}),{registerZIndexPortal:qZ,unregisterZIndexPortal:$Z,registerZIndexPortalElement:HZ,unregisterZIndexPortalElement:GZ}=wU.actions,KZ=wU.reducer;function Ji(t){var{zIndex:e,children:n}=t,r=$7(),i=r&&e!==void 0&&e!==0,a=Dr(),s=Ft();C.useLayoutEffect(()=>i?(s(qZ({zIndex:e})),()=>{s($Z({zIndex:e}))}):th,[s,e,i]);var u=Me(c=>OZ(c,e,a));return i?u?S4.createPortal(n,u):null:n}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return(e=WZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WZ(t){var e=JZ(t,"string");return typeof e=="symbol"?e:e+""}function JZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XZ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return C.isValidElement(e)?C.cloneElement(e,r):C.createElement(n,r)}function QZ(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,g=r,_=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var A,S,w;if(h==="ScatterChart")A=p,S=IK,w=er.cursorLine;else if(h==="BarChart")A=RK(u,p,a,s),S=_6,w=er.cursorRectangle;else if(u==="radial"&&aL(p)){var{cx:I,cy:O,radius:P,startAngle:B,endAngle:L}=T6(p);A={cx:I,cy:O,startAngle:B,endAngle:L,innerRadius:P,outerRadius:P},S=w6,w=er.cursorLine}else A={points:xY(u,p,a)},S=cS,w=er.cursorLine;var z=typeof c=="object"&&"className"in c?c.className:void 0,D=vm(vm(vm(vm({stroke:"#ccc",pointerEvents:"none"},a),A),wd(c)),{},{payload:g,payloadIndex:_,className:St("recharts-tooltip-cursor",z)});return C.createElement(Ji,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},C.createElement(XZ,{cursor:c,cursorComp:S,cursorProps:D}))}function ZZ(t){var e=yZ(),n=r6(),r=ah(),i=wZ();return e==null||n==null||r==null||i==null?null:C.createElement(QZ,jE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var AU=C.createContext(null),eee=()=>C.useContext(AU),f_={exports:{}},G2;function tee(){return G2||(G2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||c,g),A=n?n+f:f;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],_]:c._events[A].push(_):(c._events[A]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,_=p.length,A=new Array(_);g<_;g++)A[g]=p[g].fn;return A},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,_,A){var S=n?n+f:f;if(!this._events[S])return!1;var w=this._events[S],I=arguments.length,O,P;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),I){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,_),!0;case 6:return w.fn.call(w.context,h,p,g,_,A),!0}for(P=1,O=new Array(I-1);P<I;P++)O[P-1]=arguments[P];w.fn.apply(w.context,O)}else{var B=w.length,L;for(P=0;P<B;P++)switch(w[P].once&&this.removeListener(f,w[P].fn,void 0,!0),I){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,h);break;case 3:w[P].fn.call(w[P].context,h,p);break;case 4:w[P].fn.call(w[P].context,h,p,g);break;default:if(!O)for(L=1,O=new Array(I-1);L<I;L++)O[L-1]=arguments[L];w[P].fn.apply(w[P].context,O)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var A=this._events[_];if(A.fn)A.fn===h&&(!g||A.once)&&(!p||A.context===p)&&s(this,_);else{for(var S=0,w=[],I=A.length;S<I;S++)(A[S].fn!==h||g&&!A[S].once||p&&A[S].context!==p)&&w.push(A[S]);w.length?this._events[_]=w.length===1?w[0]:w:s(this,_)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(f_)),f_.exports}var nee=tee();const ree=ka(nee);var Vd=new ree,UE="recharts.syncEvent.tooltip",K2="recharts.syncEvent.brush";function CU(t,e){if(e){var n=Number.parseInt(e,10);if(!Ki(n))return t==null?void 0:t[n]}}var iee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},NU=Mr({name:"options",initialState:iee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aee=NU.reducer,{createEventEmitter:oee}=NU.actions;function see(t){return t.tooltip.syncInteraction}var lee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IU=Mr({name:"chartData",initialState:lee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Y2,setDataStartEndIndexes:uee,setComputedData:rbe}=IU.actions,cee=IU.reducer,fee=["x","y"];function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e,n){return(e=hee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hee(t){var e=pee(t,"string");return typeof e=="symbol"?e:e+""}function pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mee(t,e){if(t==null)return{};var n,r,i=gee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vee(){var t=Me(jS),e=Me(US),n=Ft(),r=Me(Sj),i=Me(Do),a=ah(),s=Bv(),u=Me(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return th;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:A,y:S}=_,w=mee(_,fee),{x:I,y:O,width:P,height:B}=h.payload.sourceViewBox,L=Hu(Hu({},w),{},{x:s.x+(P?(A-I)/P:0)*s.width,y:s.y+(B?(S-O)/B:0)*s.height});n(Hu(Hu({},h),{},{payload:Hu(Hu({},h.payload),{},{coordinate:L})}))}else n(h);return}if(i!=null){var z;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},k=r(i,D);z=i[k]}else r==="value"&&(z=i.find(W=>String(W.value)===h.payload.label));var{coordinate:j}=h.payload;if(z==null||h.payload.active===!1||j==null||s==null){n(kE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:q}=j,$=Math.min(F,s.x+s.width),U=Math.min(q,s.y+s.height),de={x:a==="horizontal"?z.coordinate:$,y:a==="horizontal"?U:z.coordinate},me=kE({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(z.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(me)}}};return Vd.on(UE,c),()=>{Vd.off(UE,c)}},[u,n,e,t,r,i,a,s])}function yee(){var t=Me(jS),e=Me(US),n=Ft();C.useEffect(()=>{if(t==null)return th;var r=(i,a,s)=>{e!==s&&t===i&&n(uee(a))};return Vd.on(K2,r),()=>{Vd.off(K2,r)}},[n,e,t])}function xee(){var t=Ft();C.useEffect(()=>{t(oee())},[t]),vee(),yee()}function bee(t,e,n,r,i,a){var s=Me(_=>CZ(_,t,e)),u=Me(US),c=Me(jS),f=Me(Sj),h=Me(see),p=h==null?void 0:h.active,g=Bv();C.useEffect(()=>{if(!p&&c!=null&&u!=null){var _=kE({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Vd.emit(UE,c,_,u)}},[p,n,s,i,r,u,c,f,a,g])}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){_ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e,n){return(e=Eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eee(t){var e=Tee(t,"string");return typeof e=="symbol"?e:e+""}function Tee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function See(t){return t.dataKey}function wee(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(lK,e)}var Q2=[],Aee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Z2(t){var e,n,r=cr(t,Aee),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:_,reverseDirection:A,useTranslate3d:S,wrapperStyle:w,cursor:I,shared:O,trigger:P,defaultIndex:B,portal:L,axisId:z}=r,D=Ft(),k=typeof B=="number"?String(B):B;C.useEffect(()=>{D(EQ({shared:O,trigger:P,axisId:z,active:i,defaultIndex:k}))},[D,O,P,z,i,k]);var j=Bv(),F=g6(),q=gQ(O),{activeIndex:$,isActive:U}=(e=Me(je=>RZ(je,q,P,k)))!==null&&e!==void 0?e:{},de=Me(je=>IZ(je,q,P,k)),me=Me(je=>SU(je,q,P,k)),W=Me(je=>NZ(je,q,P,k)),oe=de,ge=eee(),Te=(n=i??U)!==null&&n!==void 0?n:!1,[De,K]=XH([oe,Te]),ae=q==="axis"?me:void 0;bee(q,P,W,ae,$,Te);var ve=L??ge;if(ve==null||j==null||q==null)return null;var xe=oe??Q2;Te||(xe=Q2),f&&xe.length&&(xe=TH(xe.filter(je=>je.value!=null&&(je.hide!==!0||r.includeHidden)),g,See));var Oe=xe.length>0,Ve=C.createElement(mK,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:h,active:Te,coordinate:W,hasPayload:Oe,offset:p,position:_,reverseDirection:A,useTranslate3d:S,viewBox:j,wrapperStyle:w,lastBoundingBox:De,innerRef:K,hasPortalFromProps:!!L},wee(c,X2(X2({},r),{},{payload:xe,label:ae,active:Te,activeIndex:$,coordinate:W,accessibilityLayer:F})));return C.createElement(C.Fragment,null,S4.createPortal(Ve,ve),Te&&C.createElement(ZZ,{cursor:I,tooltipEventType:q,coordinate:W,payload:xe,index:$}))}var bh=t=>null;bh.displayName="Cell";function Cee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ree{constructor(e){Cee(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return(e=Dee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kee={cacheSize:2e3,enableCache:!0},RU=Pee({},kee),tM=new Ree(RU.cacheSize),Lee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nM="recharts_measurement_span";function jee(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(u)}var rM=(t,e)=>{try{var n=document.getElementById(nM);n||(n=document.createElement("span"),n.setAttribute("id",nM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Lee,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hv.isSsr)return{width:0,height:0};if(!RU.enableCache)return rM(e,n);var r=jee(e,n),i=tM.get(r);if(i)return i;var a=rM(e,n);return tM.set(r,a),a},PU;function Uee(t,e,n){return(e=Vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vee(t){var e=Bee(t,"string");return typeof e=="symbol"?e:e+""}function Bee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ee=["cm","mm","pt","pc","in","Q","px"];function Hee(t){return $ee.includes(t)}var Zu="NaN";function Gee(t,e){return t*qee[e]}class Xn{static parse(e){var n,[,r,i]=(n=Fee.exec(e))!==null&&n!==void 0?n:[];return r==null?Xn.NaN:new Xn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ki(e)&&(this.unit=""),n!==""&&!zee.test(n)&&(this.num=NaN,this.unit=""),Hee(n)&&(this.num=Gee(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ki(this.num)}}PU=Xn;Uee(Xn,"NaN",new PU(NaN,""));function MU(t){if(t==null||t.includes(Zu))return Zu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=iM.exec(e))!==null&&n!==void 0?n:[],s=Xn.parse(r??""),u=Xn.parse(a??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return Zu;e=e.replace(iM,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=aM.exec(e))!==null&&f!==void 0?f:[],_=Xn.parse(h??""),A=Xn.parse(g??""),S=p==="+"?_.add(A):_.subtract(A);if(S.isNaN())return Zu;e=e.replace(aM,S.toString())}return e}var oM=/\(([^()]*)\)/;function Kee(t){for(var e=t,n;(n=oM.exec(e))!=null;){var[,r]=n;e=e.replace(oM,MU(r))}return e}function Yee(t){var e=t.replace(/\s+/g,"");return e=Kee(e),e=MU(e),e}function Wee(t){try{return Yee(t)}catch{return Zu}}function d_(t){var e=Wee(t.slice(5,-1));return e===Zu?"":e}var Jee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Xee=["dx","dy","angle","className","breakAll"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function sM(t,e){if(t==null)return{};var n,r,i=Qee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DU=/[ \f\n\r\t\v\u2028\u2029]+/,OU=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zn(e)||(n?i=e.toString().split(""):i=e.toString().split(DU));var a=i.map(u=>({word:u,width:gd(u,r).width})),s=n?0:gd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Zee(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var kU=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var f={words:[s],width:u};i.push(f)}return i},[]),LU=t=>t.reduce((e,n)=>e.width>n.width?e:n),ete="",lM=(t,e,n,r,i,a,s,u)=>{var c=t.slice(0,e),f=OU({breakAll:n,style:r,children:c+ete});if(!f)return[!1,[]];var h=kU(f.wordsWithComputedWidth,a,s,u),p=h.length>i||LU(h).width>Number(a);return[p,h]},tte=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:u,breakAll:c}=t,f=Re(a),h=String(s),p=kU(e,r,n,i);if(!f||i)return p;var g=p.length>a||LU(p).width>Number(r);if(!g)return p;for(var _=0,A=h.length-1,S=0,w;_<=A&&S<=h.length-1;){var I=Math.floor((_+A)/2),O=I-1,[P,B]=lM(h,O,c,u,a,r,n,i),[L]=lM(h,I,c,u,a,r,n,i);if(!P&&!L&&(_=I+1),P&&L&&(A=I-1),!P&&L){w=B;break}S++}return w||p},uM=t=>{var e=zn(t)?[]:t.toString().split(DU);return[{words:e,width:void 0}]},nte=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Hv.isSsr){var u,c,f=OU({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return uM(r);return tte({breakAll:a,children:r,maxLines:s,style:i},u,c,e,!!n)}return uM(r)},jU="#808080",rte={angle:0,breakAll:!1,capHeight:"0.71em",fill:jU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fy=C.forwardRef((t,e)=>{var n=cr(t,rte),{x:r,y:i,lineHeight:a,capHeight:s,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=sM(n,Jee),g=C.useMemo(()=>nte({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:_,dy:A,angle:S,className:w,breakAll:I}=p,O=sM(p,Xee);if(!Ia(r)||!Ia(i)||g.length===0)return null;var P=Number(r)+(Re(_)?_:0),B=Number(i)+(Re(A)?A:0);if(!Ht(P)||!Ht(B))return null;var L;switch(h){case"start":L=d_("calc(".concat(s,")"));break;case"middle":L=d_("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:L=d_("calc(".concat(g.length-1," * -").concat(a,")"));break}var z=[];if(c){var D=g[0].width,{width:k}=p;z.push("scale(".concat(Re(k)&&Re(D)?k/D:1,")"))}return S&&z.push("rotate(".concat(S,", ").concat(P,", ").concat(B,")")),z.length&&(O.transform=z.join(" ")),C.createElement("text",VE({},_i(O),{ref:e,x:P,y:B,className:St("recharts-text",w),textAnchor:f,fill:u.includes("url")?jU:u}),g.map((j,F)=>{var q=j.words.join(I?"":" ");return C.createElement("tspan",{x:P,dy:F===0?L:a,key:"".concat(q,"-").concat(F)},q)}))});fy.displayName="Text";var ite=["labelRef"],ate=["content"];function cM(t,e){if(t==null)return{};var n,r,i=ote(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ote(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(null,arguments)}var UU=C.createContext(null),cte=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:u}=t,c=C.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return C.createElement(UU.Provider,{value:c},u)},VU=()=>{var t=C.useContext(UU),e=Bv();return t||n6(e)},fte=C.createContext(null),dte=()=>{var t=C.useContext(fte),e=Me(Ij);return t||e},hte=t=>{var{value:e,formatter:n}=t,r=zn(t.children)?e:t.children;return typeof n=="function"?n(r):r},_w=t=>t!=null&&typeof t=="function",pte=(t,e)=>{var n=Bn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},mte=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:_}=i,A=(f+h)/2,S=pte(p,g),w=S>=0?1:-1,I,O;switch(e){case"insideStart":I=p+w*a,O=_;break;case"insideEnd":I=g-w*a,O=!_;break;case"end":I=g+w*a,O=_;break;default:throw new Error("Unsupported position ".concat(e))}O=S<=0?O:!O;var P=xn(u,c,A,I),B=xn(u,c,A,I+(O?1:-1)*359),L="M".concat(P.x,",").concat(P.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(O?0:1,`,
    `).concat(B.x,",").concat(B.y),z=zn(t.id)?Ad("recharts-radial-line-"):t.id;return C.createElement("text",ao({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:z,d:L})),C.createElement("textPath",{xlinkHref:"#".concat(z)},n))},gte=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=xn(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:_,y:A}=xn(r,i,g,f);return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},BE=t=>"cx"in t&&Re(t.cx),vte=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!BE(n)&&(a=n);var{x:s,y:u,upperWidth:c,lowerWidth:f,height:h}=e,p=s,g=s+(c-f)/2,_=(p+g)/2,A=(c+f)/2,S=p+c/2,w=h>=0?1:-1,I=w*r,O=w>0?"end":"start",P=w>0?"start":"end",B=c>=0?1:-1,L=B*r,z=B>0?"end":"start",D=B>0?"start":"end";if(i==="top"){var k={x:p+c/2,y:u-I,textAnchor:"middle",verticalAnchor:O};return sn(sn({},k),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var j={x:g+f/2,y:u+h+I,textAnchor:"middle",verticalAnchor:P};return sn(sn({},j),a?{height:Math.max(a.y+a.height-(u+h),0),width:f}:{})}if(i==="left"){var F={x:_-L,y:u+h/2,textAnchor:z,verticalAnchor:"middle"};return sn(sn({},F),a?{width:Math.max(F.x-a.x,0),height:h}:{})}if(i==="right"){var q={x:_+A+L,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return sn(sn({},q),a?{width:Math.max(a.x+a.width-q.x,0),height:h}:{})}var $=a?{width:A,height:h}:{};return i==="insideLeft"?sn({x:_+L,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},$):i==="insideRight"?sn({x:_+A-L,y:u+h/2,textAnchor:z,verticalAnchor:"middle"},$):i==="insideTop"?sn({x:p+c/2,y:u+I,textAnchor:"middle",verticalAnchor:P},$):i==="insideBottom"?sn({x:g+f/2,y:u+h-I,textAnchor:"middle",verticalAnchor:O},$):i==="insideTopLeft"?sn({x:p+L,y:u+I,textAnchor:D,verticalAnchor:P},$):i==="insideTopRight"?sn({x:p+c-L,y:u+I,textAnchor:z,verticalAnchor:P},$):i==="insideBottomLeft"?sn({x:g+L,y:u+h-I,textAnchor:D,verticalAnchor:O},$):i==="insideBottomRight"?sn({x:g+f-L,y:u+h-I,textAnchor:z,verticalAnchor:O},$):i&&typeof i=="object"&&(Re(i.x)||mo(i.x))&&(Re(i.y)||mo(i.y))?sn({x:s+ur(i.x,A),y:u+ur(i.y,h),textAnchor:"end",verticalAnchor:"end"},$):sn({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},$)},yte={angle:0,offset:5,zIndex:er.label,position:"middle",textBreakAll:!1};function gs(t){var e=cr(t,yte),{viewBox:n,position:r,value:i,children:a,content:s,className:u="",textBreakAll:c,labelRef:f}=e,h=dte(),p=VU(),g=r==="center"?p:h??p,_,A,S;if(n==null?_=g:BE(n)?_=n:_=n6(n),!_||zn(i)&&zn(a)&&!C.isValidElement(s)&&typeof s!="function")return null;var w=sn(sn({},e),{},{viewBox:_});if(C.isValidElement(s)){var{labelRef:I}=w,O=cM(w,ite);return C.cloneElement(s,O)}if(typeof s=="function"){var{content:P}=w,B=cM(w,ate);if(A=C.createElement(s,B),C.isValidElement(A))return A}else A=hte(e);var L=_i(e);if(BE(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return mte(e,r,A,L,_);S=gte(_,e.offset,e.position)}else S=vte(e,_);return C.createElement(Ji,{zIndex:e.zIndex},C.createElement(fy,ao({ref:f,className:St("recharts-label",u)},L,S,{textAnchor:Zee(L.textAnchor)?L.textAnchor:S.textAnchor,breakAll:c}),A))}gs.displayName="Label";var xte=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(gs,ao({key:"label-implicit"},r)):Ia(t)?C.createElement(gs,ao({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===gs?C.cloneElement(t,sn({key:"label-implicit"},r)):C.createElement(gs,ao({key:"label-implicit",content:t},r)):_w(t)?C.createElement(gs,ao({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(gs,ao({},t,{key:"label-implicit"},r)):null};function bte(t){var{label:e,labelRef:n}=t,r=VU();return xte(e,r,n)||null}var h_={},p_={},dM;function _te(){return dM||(dM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(p_)),p_}var m_={},hM;function Ete(){return hM||(hM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(m_)),m_}var pM;function Tte(){return pM||(pM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_te(),n=Ete(),r=XT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(h_)),h_}var g_,mM;function Ste(){return mM||(mM=1,g_=Tte().last),g_}var wte=Ste();const Ate=ka(wte);var Cte=["valueAccessor"],Nte=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}function gM(t,e){if(t==null)return{};var n,r,i=Ite(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ite(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rte=t=>Array.isArray(t.value)?Ate(t.value):t.value,BU=C.createContext(void 0),Pte=BU.Provider,zU=C.createContext(void 0),Mte=zU.Provider;function Dte(){return C.useContext(BU)}function Ote(){return C.useContext(zU)}function Vm(t){var{valueAccessor:e=Rte}=t,n=gM(t,Cte),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:u}=n,c=gM(n,Nte),f=Dte(),h=Ote(),p=f||h;return!p||!p.length?null:C.createElement(Ji,{zIndex:u??er.label},C.createElement(yr,{className:"recharts-label-list"},p.map((g,_)=>{var A,S=zn(r)?e(g,_):kt(g&&g.payload,r),w=zn(a)?{}:{id:"".concat(a,"-").concat(_)};return C.createElement(gs,Ug({key:"label-".concat(_)},_i(g),c,w,{fill:(A=n.fill)!==null&&A!==void 0?A:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:s,viewBox:g.viewBox,index:_,zIndex:0}))})))}Vm.displayName="LabelList";function FU(t){var{label:e}=t;return e?e===!0?C.createElement(Vm,{key:"labelList-implicit"}):C.isValidElement(e)||_w(e)?C.createElement(Vm,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(Vm,Ug({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var qU=t=>t.graphicalItems.polarItems,kte=te([qt,dh],$S),dy=te([qU,Kt,kte],GS),Lte=te([dy],KS),hy=te([Lte,ey],YS),jte=te([hy,Kt,dy],JS);te([hy,Kt,dy],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=kt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:kt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var vM=()=>{},Ute=te([hy,Kt,dy,sy,qt],ew),Vte=te([Kt,QS,ZS,vM,Ute,vM,ft,qt],tw),$U=te([Kt,ft,hy,jte,fh,qt,Vte],nw),Bte=te([$U,Kt,Mc],aw);te([Kt,$U,Bte,qt],sw);var zte={radiusAxis:{},angleAxis:{}},HU=Mr({name:"polarAxis",initialState:zte,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ibe,removeRadiusAxis:abe,addAngleAxis:obe,removeAngleAxis:sbe}=HU.actions,Fte=HU.reducer;function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qte(t,e,n){return(e=$te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $te(t){var e=Hte(t,"string");return typeof e=="symbol"?e:e+""}function Hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gte=(t,e)=>e,Ew=te([qU,Gte],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Kte=[],Tw=(t,e,n)=>(n==null?void 0:n.length)===0?Kte:n,GU=te([ey,Ew,Tw],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>xM(xM({},e.presentationProps),a.props))),i!=null)return i}}),Yte=te([GU,Ew,Tw],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=kt(r,e.nameKey,e.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:kv(s,e.dataKey),color:u,payload:r,type:e.legendType}})}),Wte=te([GU,Ew,Tw,Nn],(t,e,n,r)=>{if(!(e==null||t==null))return Zne({offset:r,pieSettings:e,displayedData:t,cells:n})}),v_={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM;function Jte(){if(bM)return Tt;bM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var w=S.$$typeof;switch(w){case t:switch(S=S.type,S){case n:case i:case r:case c:case f:case g:return S;default:switch(S=S&&S.$$typeof,S){case s:case u:case p:case h:return S;case a:return S;default:return w}}case e:return w}}}return Tt.ContextConsumer=a,Tt.ContextProvider=s,Tt.Element=t,Tt.ForwardRef=u,Tt.Fragment=n,Tt.Lazy=p,Tt.Memo=h,Tt.Portal=e,Tt.Profiler=i,Tt.StrictMode=r,Tt.Suspense=c,Tt.SuspenseList=f,Tt.isContextConsumer=function(S){return A(S)===a},Tt.isContextProvider=function(S){return A(S)===s},Tt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Tt.isForwardRef=function(S){return A(S)===u},Tt.isFragment=function(S){return A(S)===n},Tt.isLazy=function(S){return A(S)===p},Tt.isMemo=function(S){return A(S)===h},Tt.isPortal=function(S){return A(S)===e},Tt.isProfiler=function(S){return A(S)===i},Tt.isStrictMode=function(S){return A(S)===r},Tt.isSuspense=function(S){return A(S)===c},Tt.isSuspenseList=function(S){return A(S)===f},Tt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===s||S.$$typeof===a||S.$$typeof===u||S.$$typeof===_||S.getModuleId!==void 0)},Tt.typeOf=A,Tt}var _M;function Xte(){return _M||(_M=1,v_.exports=Jte()),v_.exports}var Qte=Xte(),EM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",TM=null,y_=null,KU=t=>{if(t===TM&&Array.isArray(y_))return y_;var e=[];return C.Children.forEach(t,n=>{zn(n)||(Qte.isFragment(n)?e=e.concat(KU(n.props.children)):e.push(n))}),y_=e,TM=t,e};function Sw(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>EM(i)):r=[EM(e)],KU(t).forEach(i=>{var a=Ol(i,"type.displayName")||Ol(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var x_={},SM;function Zte(){return SM||(SM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(x_)),x_}var b_,wM;function ene(){return wM||(wM=1,b_=Zte().isPlainObject),b_}var tne=ene();const nne=ka(tne);var AM,CM,NM,IM,RM;function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(null,arguments)}function nd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var DM=(t,e,n,r,i)=>{var a=n-r,s;return s=Xt(AM||(AM=nd(["M ",",",""])),t,e),s+=Xt(CM||(CM=nd(["L ",",",""])),t+n,e),s+=Xt(NM||(NM=nd(["L ",",",""])),t+n-a/2,e+i),s+=Xt(IM||(IM=nd(["L ",",",""])),t+n-a/2-r,e+i),s+=Xt(RM||(RM=nd(["L ",","," Z"])),t,e),s},one={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sne=t=>{var e=cr(t,one),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=C.useRef(null),[_,A]=C.useState(-1),S=C.useRef(i),w=C.useRef(a),I=C.useRef(s),O=C.useRef(n),P=C.useRef(r),B=Kv(t,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&A(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var L=St("recharts-trapezoid",u);if(!p)return C.createElement("g",null,C.createElement("path",Vg({},_i(e),{className:L,d:DM(n,r,i,a,s)})));var z=S.current,D=w.current,k=I.current,j=O.current,F=P.current,q="0px ".concat(_===-1?1:_,"px"),$="".concat(_,"px 0px"),U=v6(["strokeDasharray"],f,c);return C.createElement(Gv,{animationId:B,key:B,canBegin:_>0,duration:f,easing:c,isActive:p,begin:h},de=>{var me=Sn(z,i,de),W=Sn(D,a,de),oe=Sn(k,s,de),ge=Sn(j,n,de),Te=Sn(F,r,de);g.current&&(S.current=me,w.current=W,I.current=oe,O.current=ge,P.current=Te);var De=de>0?{transition:U,strokeDasharray:$}:{strokeDasharray:q};return C.createElement("path",Vg({},_i(e),{className:L,d:DM(ge,Te,me,W,oe),ref:g,style:MM(MM({},De),e.style)}))})},lne=["option","shapeType","activeClassName"];function une(t,e){if(t==null)return{};var n,r,i=cne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=hne(t,"string");return typeof e=="symbol"?e:e+""}function hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e){return Bg(Bg({},e),t)}function mne(t,e){return t==="symbols"}function kM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(_6,n);case"trapezoid":return C.createElement(sne,n);case"sector":return C.createElement(w6,n);case"symbols":if(mne(e))return C.createElement(iL,n);break;case"curve":return C.createElement(cS,n);default:return null}}function gne(t){return C.isValidElement(t)?t.props:t}function YU(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=une(t,lne),a;if(C.isValidElement(e))a=C.cloneElement(e,Bg(Bg({},i),gne(e)));else if(typeof e=="function")a=e(i,i.index);else if(nne(e)&&typeof e!="boolean"){var s=pne(e,i);a=C.createElement(kM,{shapeType:n,elementProps:s})}else{var u=i;a=C.createElement(kM,{shapeType:n,elementProps:u})}return i.isActive?C.createElement(yr,{className:r},a):a}var ww=(t,e,n)=>{var r=Ft();return(i,a)=>s=>{t==null||t(i,a,s),r(oU({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Aw=t=>{var e=Ft();return(n,r)=>i=>{t==null||t(n,r,i),e(TQ())}},Cw=(t,e,n)=>{var r=Ft();return(i,a)=>s=>{t==null||t(i,a,s),r(SQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function WU(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=Dr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(xQ(e)):i.current!==e&&n(bQ({prev:i.current,next:e})),i.current=e)},[e,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(_Q(i.current)),i.current=null)},[n]),null}function vne(t){var{legendPayload:e}=t,n=Ft(),r=Dr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(h6(e)):i.current!==e&&n(p6({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(m6(i.current)),i.current=null)},[n]),null}function yne(t){var{legendPayload:e}=t,n=Ft(),r=Me(ft),i=C.useRef(null);return C.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(h6(e)):i.current!==e&&n(p6({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(m6(i.current)),i.current=null)},[n]),null}var __,xne=()=>{var[t]=C.useState(()=>Ad("uid-"));return t},bne=(__=wF.useId)!==null&&__!==void 0?__:xne;function _ne(t,e){var n=bne();return e||(t?"".concat(t,"-").concat(n):n)}var Ene=C.createContext(void 0),JU=t=>{var{id:e,type:n,children:r}=t,i=_ne("recharts-".concat(n),e);return C.createElement(Ene.Provider,{value:i},r(i))},Tne={cartesianItems:[],polarItems:[]},XU=Mr({name:"graphicalItems",initialState:Tne,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Vt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=zi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Vt()},removeCartesianGraphicalItem:{reducer(t,e){var n=zi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Vt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Vt()},removePolarGraphicalItem:{reducer(t,e){var n=zi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Vt()}}}),{addCartesianGraphicalItem:Sne,replaceCartesianGraphicalItem:wne,removeCartesianGraphicalItem:Ane,addPolarGraphicalItem:Cne,removePolarGraphicalItem:Nne}=XU.actions,Ine=XU.reducer,Rne=t=>{var e=Ft(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Sne(t)):n.current!==t&&e(wne({prev:n.current,next:t})),n.current=t},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(e(Ane(n.current)),n.current=null)},[e]),null},Pne=C.memo(Rne);function Mne(t){var e=Ft();return C.useLayoutEffect(()=>(e(Cne(t)),()=>{e(Nne(t))}),[e,t]),null}var Dne=["key"],One=["onMouseEnter","onClick","onMouseLeave"],kne=["id"],Lne=["id"];function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=Vne(t,"string");return typeof e=="symbol"?e:e+""}function Vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(null,arguments)}function py(t,e){if(t==null)return{};var n,r,i=Bne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zne(t){var e=C.useMemo(()=>Sw(t.children,bh),[t.children]),n=Me(r=>Yte(r,t.id,e));return n==null?null:C.createElement(yne,{legendPayload:n})}var Fne=C.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:u,hide:c,tooltipType:f,id:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:kv(u,e),hide:c,type:f,color:s,unit:"",graphicalItemId:h}};return C.createElement(WU,{tooltipEntrySettings:p})}),qne=(t,e)=>t>e?"start":t<e?"end":"middle",$ne=(t,e,n)=>ur(typeof e=="function"?e(t):e,n,n*.8),Hne=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,u=E6(a,s),c=i+ur(t.cx,a,a/2),f=r+ur(t.cy,s,s/2),h=ur(t.innerRadius,u,0),p=$ne(n,t.outerRadius,u),g=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},Gne=(t,e)=>{var n=Bn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Kne(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Yne=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var n=St("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=py(e,Dne);return C.createElement(cS,Rs({},i,{type:"linear",className:n}))},Wne=(t,e,n)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),C.isValidElement(r)))return r;var i=St("recharts-pie-label-text",Kne(t));return C.createElement(fy,Rs({},e,{alignmentBaseline:"middle",className:i}),r)};function Jne(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var u=Gi(n),c=wd(i),f=wd(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((g,_)=>{var A=(g.startAngle+g.endAngle)/2,S=xn(g.cx,g.cy,g.outerRadius+h,A),w=Qt(Qt(Qt(Qt({},u),g),{},{stroke:"none"},c),{},{index:_,textAnchor:qne(S.x,g.cx)},S),I=Qt(Qt(Qt(Qt({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:_,points:[xn(g.cx,g.cy,g.outerRadius,A),S],key:"line"});return C.createElement(Ji,{zIndex:er.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(_)},C.createElement(yr,null,a&&Yne(a,I),Wne(i,w,kt(g,s))))});return C.createElement(yr,{className:"recharts-pie-labels"},p)}function Xne(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(FU,{label:i}):C.createElement(Jne,{sectors:e,props:n,showLabels:r})}function Qne(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=t,u=Me(Vl),c=Me(gw),f=Me(uZ),{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,_=py(i,One),A=ww(h,i.dataKey,s),S=Aw(g),w=Cw(p,i.dataKey,s);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((I,O)=>{if((I==null?void 0:I.startAngle)===0&&(I==null?void 0:I.endAngle)===0&&e.length!==1)return null;var P=f==null||f===s,B=String(O)===u&&(c==null||i.dataKey===c)&&P,L=u?r:null,z=n&&B?n:L,D=Qt(Qt({},I),{},{stroke:I.stroke,tabIndex:-1,[XL]:O,[QL]:s});return C.createElement(yr,Rs({key:"sector-".concat(I==null?void 0:I.startAngle,"-").concat(I==null?void 0:I.endAngle,"-").concat(I.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},Sv(_,I,O),{onMouseEnter:A(I,O),onMouseLeave:S(I,O),onClick:w(I,O)}),C.createElement(YU,Rs({option:a??z,index:O,shapeType:"sector",isActive:B},D)))}))}function Zne(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:u,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),_=Gne(u,c),A=Math.abs(_),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,w=r.filter(z=>kt(z,f,0)!==0).length,I=(A>=360?w:w-1)*S,O=A-w*g-I,P=r.reduce((z,D)=>{var k=kt(D,f,0);return z+(Re(k)?k:0)},0),B;if(P>0){var L;B=r.map((z,D)=>{var k=kt(z,f,0),j=kt(z,h,D),F=Hne(n,a,z),q=(Re(k)?k:0)/P,$,U=Qt(Qt({},z),i&&i[D]&&i[D].props);D?$=L.endAngle+Bn(_)*S*(k!==0?1:0):$=u;var de=$+Bn(_)*((k!==0?g:0)+q*O),me=($+de)/2,W=(F.innerRadius+F.outerRadius)/2,oe=[{name:j,value:k,payload:U,dataKey:f,type:p,graphicalItemId:n.id}],ge=xn(F.cx,F.cy,W,me);return L=Qt(Qt(Qt(Qt({},n.presentationProps),{},{percent:q,cornerRadius:typeof s=="string"?parseFloat(s):s,name:j,tooltipPayload:oe,midAngle:me,middleRadius:W,tooltipPosition:ge},U),F),{},{value:k,dataKey:f,startAngle:$,endAngle:de,payload:U,paddingAngle:Bn(_)*S}),L})}return B}function ere(t){var{showLabels:e,sectors:n,children:r}=t,i=C.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return C.createElement(Mte,{value:e?i:void 0},r)}function tre(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,_=Kv(e,"recharts-pie-"),A=n.current,[S,w]=C.useState(!1),I=C.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),O=C.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return C.createElement(ere,{showLabels:!S,sectors:i},C.createElement(Gv,{animationId:_,begin:s,duration:u,isActive:a,easing:c,onAnimationStart:O,onAnimationEnd:I,key:_},P=>{var B=[],L=i&&i[0],z=L==null?void 0:L.startAngle;return i==null||i.forEach((D,k)=>{var j=A&&A[k],F=k>0?Ol(D,"paddingAngle",0):0;if(j){var q=Sn(j.endAngle-j.startAngle,D.endAngle-D.startAngle,P),$=Qt(Qt({},D),{},{startAngle:z+F,endAngle:z+q+F});B.push($),z=$.endAngle}else{var{endAngle:U,startAngle:de}=D,me=Sn(0,U-de,P),W=Qt(Qt({},D),{},{startAngle:z+F,endAngle:z+me+F});B.push(W),z=W.endAngle}}),n.current=B,C.createElement(yr,null,C.createElement(Qne,{sectors:B,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),C.createElement(Xne,{showLabels:!S,sectors:i,props:e}),e.children)}var nre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:er.area};function rre(t){var{id:e}=t,n=py(t,kne),{hide:r,className:i,rootTabIndex:a}=t,s=C.useMemo(()=>Sw(t.children,bh),[t.children]),u=Me(h=>Wte(h,e,s)),c=C.useRef(null),f=St("recharts-pie",i);return r||u==null?(c.current=null,C.createElement(yr,{tabIndex:a,className:f})):C.createElement(Ji,{zIndex:t.zIndex},C.createElement(Fne,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),C.createElement(yr,{tabIndex:a,className:f},C.createElement(tre,{props:Qt(Qt({},n),{},{sectors:u}),previousSectorsRef:c,id:e})))}function QU(t){var e=cr(t,nre),{id:n}=e,r=py(e,Lne),i=Gi(r);return C.createElement(JU,{id:n,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(Mne,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(zne,Rs({},r,{id:a})),C.createElement(rre,Rs({},r,{id:a}))))}QU.displayName="Pie";function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=ore(t,"string");return typeof e=="symbol"?e:e+""}function ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZU=0,sre={xAxis:{},yAxis:{},zAxis:{}},e3=Mr({name:"cartesianAxis",initialState:sre,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Vt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Vt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Vt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Vt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Vt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Vt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Vt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Vt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Vt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=UM(UM({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:lre,replaceXAxis:ure,removeXAxis:cre,addYAxis:fre,replaceYAxis:dre,removeYAxis:hre,addZAxis:lbe,replaceZAxis:ube,removeZAxis:cbe,updateYAxisWidth:pre}=e3.actions,mre=e3.reducer,gre=te([Nn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vre=te([gre,Co,No],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),t3=()=>Me(vre),VM=(t,e,n)=>{var r=n??t;if(!zn(r))return ur(r,e,0)},yre=(t,e,n)=>{var r={},i=t.filter(ry),a=t.filter(f=>f.stackId==null),s=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(s).map(f=>{var[h,p]=f,g=p.map(A=>A.dataKey),_=VM(e,n,p[0].barSize);return{stackId:h,dataKeys:g,barSize:_}}),c=a.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=VM(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]};function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ere(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=ur(t,n,0,!0),u,c=[];if(Ht(r[0].barSize)){var f=!1,h=n/a,p=r.reduce((I,O)=>I+(O.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&h>0&&(f=!0,h*=.9,p=a*h);var g=(n-p)/2>>0,_={offset:g-s,size:0};u=r.reduce((I,O)=>{var P,B={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:_.offset+_.size+s,size:f?h:(P=O.barSize)!==null&&P!==void 0?P:0}},L=[...I,B];return _=L[L.length-1].position,L},c)}else{var A=ur(e,n,0,!0);n-2*A-(a-1)*s<=0&&(s=0);var S=(n-2*A-(a-1)*s)/a;S>1&&(S>>=0);var w=Ht(i)?Math.min(S,i):S;u=r.reduce((I,O,P)=>[...I,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:A+(S+s)*P+(S-w)/2,size:w}}],c)}return u}}var Tre=(t,e,n,r,i,a,s)=>{var u=zn(s)?e:s,c=Ere(n,r,i!==a?i:a,t,u);return i!==a&&c!=null&&(c=c.map(f=>ym(ym({},f),{},{position:ym(ym({},f.position),{},{offset:f.position.offset-i/2})}))),c},Sre=(t,e)=>{var n=FS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}};function wre(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ht(t.zIndex)?t.zIndex:e}var n3=t=>{var{chartData:e}=t,n=Ft(),r=Dr();return C.useEffect(()=>r?()=>{}:(n(Y2(e)),()=>{n(Y2(void 0))}),[e,n,r]),null},zM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},r3=Mr({name:"brush",initialState:zM,reducers:{setBrushSettings(t,e){return e.payload==null?zM:e.payload}}}),{setBrushSettings:fbe}=r3.actions,Are=r3.reducer;function Cre(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nw{static create(e){return new Nw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Cre(Nw,"EPS",1e-4);function Rre(t){return(t%180+180)%180}var Pre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rre(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Mre={dots:[],areas:[],lines:[]},i3=Mr({name:"referenceElements",initialState:Mre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=zi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=zi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=zi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:dbe,removeDot:hbe,addArea:pbe,removeArea:mbe,addLine:gbe,removeLine:vbe}=i3.actions,Dre=i3.reducer,Ore=C.createContext(void 0),kre=t=>{var{children:e}=t,[n]=C.useState("".concat(Ad("recharts"),"-clip")),r=t3();if(r==null)return null;var{x:i,y:a,width:s,height:u}=r;return C.createElement(Ore.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:a,height:u,width:s}))),e)};function a3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Lre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Pre(r,n)}function jre(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:u}=t;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function Bd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ure(t,e){return a3(t,e+1)}function Vre(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:u}=e,c=0,f=1,h=s,p=function(){var A=r==null?void 0:r[c];if(A===void 0)return{v:a3(r,f)};var S=c,w,I=()=>(w===void 0&&(w=n(A,S)),w),O=A.coordinate,P=c===0||Bd(t,O,I,h,u);P||(c=0,h=s,f+=1),P&&(h=O+t*(I()/2+i),c+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function Bre(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:u,end:c}=e,f=1;f<=s;f++){for(var h=(s-1)%f,p=u,g=!0,_=function(){var O=r[A],P=A,B,L=()=>(B===void 0&&(B=n(O,P)),B),z=O.coordinate,D=A===h||Bd(t,z,L,p,c);if(!D)return g=!1,1;D&&(p=z+t*(L()/2+i))},A=h;A<s&&!_();A+=f);if(g){for(var S=[],w=h;w<s;w+=f)S.push(r[w]);return S}}return[]}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $re(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:u}=e,{end:c}=e,f=function(g){var _=a[g],A,S=()=>(A===void 0&&(A=n(_,g)),A);if(g===s-1){var w=t*(_.coordinate+t*S()/2-c);a[g]=_=ir(ir({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else a[g]=_=ir(ir({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var I=Bd(t,_.tickCoord,S,u,c);I&&(c=_.tickCoord-t*(S()/2+i),a[g]=ir(ir({},_),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return a}function Hre(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=e;if(a){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);if(s[u-1]=h=ir(ir({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var _=Bd(t,h.tickCoord,()=>p,c,f);_&&(f=h.tickCoord-t*(p/2+i),s[u-1]=ir(ir({},h),{},{isShow:!0}))}}for(var A=a?u-1:u,S=function(O){var P=s[O],B,L=()=>(B===void 0&&(B=n(P,O)),B);if(O===0){var z=t*(P.coordinate-t*L()/2-c);s[O]=P=ir(ir({},P),{},{tickCoord:z<0?P.coordinate-z*t:P.coordinate})}else s[O]=P=ir(ir({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var D=Bd(t,P.tickCoord,L,c,f);D&&(c=P.tickCoord+t*(L()/2+i),s[O]=ir(ir({},P),{},{isShow:!0}))}},w=0;w<A;w++)S(w);return s}function Iw(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(c)||Hv.isSsr){var g;return(g=Ure(i,Re(c)?c:0))!==null&&g!==void 0?g:[]}var _=[],A=u==="top"||u==="bottom"?"width":"height",S=h&&A==="width"?gd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(P,B)=>{var L=typeof f=="function"?f(P.value,B):P.value;return A==="width"?Lre(gd(L,{fontSize:e,letterSpacing:n}),S,p):gd(L,{fontSize:e,letterSpacing:n})[A]},I=i.length>=2?Bn(i[1].coordinate-i[0].coordinate):1,O=jre(a,I,A);return c==="equidistantPreserveStart"?Vre(I,O,w,i,s):c==="equidistantPreserveEnd"?Bre(I,O,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?_=Hre(I,O,w,i,s,c==="preserveStartEnd"):_=$re(I,O,w,i,s),_.filter(P=>P.isShow))}var Gre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,f=s+c+u+(n?r:0);return Math.round(f)}return 0},Kre=["axisLine","width","height","className","hide","ticks","axisType"];function Yre(t,e){if(t==null)return{};var n,r,i=Wre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(null,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return(e=Xre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=Qre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var co={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:er.axis};function Zre(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=yn(yn(yn({},c),Gi(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=yn(yn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=yn(yn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return C.createElement("line",Bl({},f,{className:St("recharts-cartesian-axis-line",Ol(u,"className"))}))}function eie(t,e,n,r,i,a,s,u,c){var f,h,p,g,_,A,S=u?-1:1,w=t.tickSize||s,I=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,g=n+ +!u*i,p=g-S*w,A=p-S*c,_=I;break;case"left":p=g=t.coordinate,h=e+ +!u*r,f=h-S*w,_=f-S*c,A=I;break;case"right":p=g=t.coordinate,h=e+ +u*r,f=h+S*w,_=f+S*c,A=I;break;default:f=h=t.coordinate,g=n+ +u*i,p=g+S*w,A=p+S*c,_=I;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:_,y:A}}}function tie(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function nie(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rie(t){var{option:e,tickProps:n,value:r}=t,i,a=St(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,yn(yn({},n),{},{className:a}));else if(typeof e=="function")i=e(yn(yn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=St(s,e==null?void 0:e.className)),i=C.createElement(fy,Bl({},n,{className:s}),r)}return i}var iie=C.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:_,width:A,height:S,tickSize:w,tickMargin:I,fontSize:O,letterSpacing:P,getTicksConfig:B,events:L,axisType:z}=t,D=Iw(yn(yn({},B),{},{ticks:n}),O,P),k=tie(h,p),j=nie(h,p),F=Gi(B),q=wd(r),$={};typeof i=="object"&&($=i);var U=yn(yn({},F),{},{fill:"none"},$),de=D.map(oe=>yn({entry:oe},eie(oe,g,_,A,S,h,w,p,I))),me=de.map(oe=>{var{entry:ge,line:Te}=oe;return C.createElement(yr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ge.value,"-").concat(ge.coordinate,"-").concat(ge.tickCoord)},i&&C.createElement("line",Bl({},U,Te,{className:St("recharts-cartesian-axis-tick-line",Ol(i,"className"))})))}),W=de.map((oe,ge)=>{var{entry:Te,tick:De}=oe,K=yn(yn(yn(yn({textAnchor:k,verticalAnchor:j},F),{},{stroke:"none",fill:a},q),De),{},{index:ge,payload:Te,visibleTicksCount:D.length,tickFormatter:s,padding:c},f);return C.createElement(yr,Bl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Te.value,"-").concat(Te.coordinate,"-").concat(Te.tickCoord)},Sv(L,Te,ge)),r&&C.createElement(rie,{option:r,tickProps:K,value:"".concat(typeof s=="function"?s(Te.value,ge):Te.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},W.length>0&&C.createElement(Ji,{zIndex:er.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},W)),me.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},me))}),aie=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:u,axisType:c}=t,f=Yre(t,Kre),[h,p]=C.useState(""),[g,_]=C.useState(""),A=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return Gre({ticks:A.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=C.useCallback(w=>{if(w){var I=w.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=I;var O=I[0];if(O){var P=window.getComputedStyle(O),B=P.fontSize,L=P.letterSpacing;(B!==h||L!==g)&&(p(B),_(L))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Ji,{zIndex:t.zIndex},C.createElement(yr,{className:St("recharts-cartesian-axis",a)},C.createElement(Zre,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Gi(t)}),C.createElement(iie,{ref:S,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(cte,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(bte,{label:t.label,labelRef:t.labelRef}),t.children)))}),Rw=C.forwardRef((t,e)=>{var n=cr(t,co);return C.createElement(aie,Bl({},n,{ref:e}))});Rw.displayName="CartesianAxis";var oie=["x1","y1","x2","y2","key"],sie=["offset"],lie=["xAxisId","yAxisId"],uie=["xAxisId","yAxisId"];function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(null,arguments)}function zg(t,e){if(t==null)return{};var n,r,i=hie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:u}=t;return C.createElement("rect",{x:r,y:i,ry:u,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function o3(t){var{option:e,lineItemProps:n}=t,r;if(C.isValidElement(e))r=C.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:u,y2:c,key:f}=n,h=zg(n,oie),p=(i=Gi(h))!==null&&i!==void 0?i:{},{offset:g}=p,_=zg(p,sie);r=C.createElement("line",wl({},_,{x1:a,y1:s,x2:u,y2:c,fill:"none",key:f}))}return r}function mie(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,u=zg(t,lie),c=i.map((f,h)=>{var p=or(or({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return C.createElement(o3,{key:"line-".concat(h),option:r,lineItemProps:p})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function gie(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,u=zg(t,uie),c=i.map((f,h)=>{var p=or(or({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return C.createElement(o3,{option:r,lineItemProps:p,key:"line-".concat(h)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vie(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:u,horizontal:c=!0}=t;if(!c||!e||!e.length||u==null)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var _=!f[g+1],A=_?i+s-p:f[g+1]-p;if(A<=0)return null;var S=g%e.length;return C.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:A,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:u,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var _=!f[g+1],A=_?i+s-p:f[g+1]-p;if(A<=0)return null;var S=g%n.length;return C.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:A,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xie=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return YL(Iw(or(or(or({},co),n),{},{ticks:WL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},bie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return YL(Iw(or(or(or({},co),n),{},{ticks:WL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},_ie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:er.grid};function s3(t){var e=i6(),n=a6(),r=r6(),i=or(or({},cr(t,_ie)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:u,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:_}=i,A=Dr(),S=Me(j=>L2(j,"xAxis",a,A)),w=Me(j=>L2(j,"yAxis",s,A));if(!Ra(f)||!Ra(h)||!Re(u)||!Re(c))return null;var I=i.verticalCoordinatesGenerator||xie,O=i.horizontalCoordinatesGenerator||bie,{horizontalPoints:P,verticalPoints:B}=i;if((!P||!P.length)&&typeof O=="function"){var L=g&&g.length,z=O({yAxis:w?or(or({},w),{},{ticks:L?g:w.ticks}):void 0,width:e??f,height:n??h,offset:r},L?!0:p);mg(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(P=z)}if((!B||!B.length)&&typeof I=="function"){var D=_&&_.length,k=I({xAxis:S?or(or({},S),{},{ticks:D?_:S.ticks}):void 0,width:e??f,height:n??h,offset:r},D?!0:p);mg(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(B=k)}return C.createElement(Ji,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(pie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(vie,wl({},i,{horizontalPoints:P})),C.createElement(yie,wl({},i,{verticalPoints:B})),C.createElement(mie,wl({},i,{offset:r,horizontalPoints:P,xAxis:S,yAxis:w})),C.createElement(gie,wl({},i,{offset:r,verticalPoints:B,xAxis:S,yAxis:w}))))}s3.displayName="CartesianGrid";var Eie={},l3=Mr({name:"errorBars",initialState:Eie,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ybe,replaceErrorBar:xbe,removeErrorBar:bbe}=l3.actions,Tie=l3.reducer,Sie=["children"];function wie(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nie=C.createContext(Cie);function Iie(t){var{children:e}=t,n=wie(t,Sie);return C.createElement(Nie.Provider,{value:n},e)}function u3(t,e){var n,r,i=Me(f=>Po(f,t)),a=Me(f=>Mo(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ln.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function Rie(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=t3(),{needClipX:a,needClipY:s,needClip:u}=u3(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:a?c:c-h/2,y:s?f:f-p/2,width:a?h:h*2,height:s?p:p*2}))}var E_={exports:{}},T_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HM;function Pie(){if(HM)return T_;HM=1;var t=Sc();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,u=t.useDebugValue;return T_.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var _=i(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=s(function(){function w(L){if(!I){if(I=!0,O=L,L=p(L),g!==void 0&&A.hasValue){var z=A.value;if(g(z,L))return P=z}return P=L}if(z=P,n(O,L))return z;var D=p(L);return g!==void 0&&g(z,D)?(O=L,z):(O=L,P=D)}var I=!1,O,P,B=h===void 0?null:h;return[function(){return w(f())},B===null?void 0:function(){return w(B())}]},[f,h,p,g]);var S=r(c,_[0],_[1]);return a(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},T_}var GM;function Mie(){return GM||(GM=1,E_.exports=Pie()),E_.exports}Mie();function Die(t){t()}function Oie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Die(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var KM={notify(){},get:()=>[]};function kie(t,e){let n,r=KM,i=0,a=!1;function s(S){h();const w=r.subscribe(S);let I=!1;return()=>{I||(I=!0,w(),p())}}function u(){r.notify()}function c(){A.onStateChange&&A.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(c),r=Oie())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=KM)}function g(){a||(a=!0,h())}function _(){a&&(a=!1,p())}const A={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:_,getListeners:()=>r};return A}var Lie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jie=Lie(),Uie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vie=Uie(),Bie=()=>jie||Vie?C.useLayoutEffect:C.useEffect,zie=Bie();function YM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Fie(t,e){if(YM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!YM(t[n[i]],e[n[i]]))return!1;return!0}var S_=Symbol.for("react-redux-context"),w_=typeof globalThis<"u"?globalThis:{};function qie(){if(!C.createContext)return{};const t=w_[S_]??(w_[S_]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var $ie=qie();function Hie(t){const{children:e,context:n,serverState:r,store:i}=t,a=C.useMemo(()=>{const c=kie(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=C.useMemo(()=>i.getState(),[i]);zie(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const u=n||$ie;return C.createElement(u.Provider,{value:a},e)}var Gie=Hie,Kie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Yie(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Pw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Kie.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Fie(t[r],e[r]))return!1}else if(!Yie(t[r],e[r]))return!1;return!0}function Jl(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:ZU}function Xl(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:ZU}var Wie="Invariant failed";function Jie(t,e){throw new Error(Wie)}function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function Fg(t){return C.createElement(YU,zE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Xie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var a=Re(r)||zn(r);return a?e(r,i):(a||Jie(),n)}},Qie=(t,e,n)=>n,Zie=(t,e)=>e,_h=te([HS,Zie],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),eae=te([_h],t=>t==null?void 0:t.maxBarSize),tae=(t,e,n,r)=>r,nae=te([ft,HS,Jl,Xl,Qie],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),rae=(t,e,n)=>{var r=ft(t),i=Jl(t,e),a=Xl(t,e);if(!(i==null||a==null))return r==="horizontal"?OE(t,"yAxis",a,n):OE(t,"xAxis",i,n)},iae=(t,e)=>{var n=ft(t),r=Jl(t,e),i=Xl(t,e);if(!(r==null||i==null))return n==="horizontal"?k2(t,"xAxis",r):k2(t,"yAxis",i)},aae=te([nae,dX,iae],yre),oae=(t,e,n)=>{var r,i,a=_h(t,e);if(a!=null){var s=Jl(t,e),u=Xl(t,e);if(!(s==null||u==null)){var c=ft(t),f=_j(t),{maxBarSize:h}=a,p=zn(h)?f:h,g,_;return c==="horizontal"?(g=gc(t,"xAxis",s,n),_=mc(t,"xAxis",s,n)):(g=gc(t,"yAxis",u,n),_=mc(t,"yAxis",u,n)),(r=(i=pg(g,_,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},c3=(t,e,n)=>{var r=ft(t),i=Jl(t,e),a=Xl(t,e);if(!(i==null||a==null)){var s,u;return r==="horizontal"?(s=gc(t,"xAxis",i,n),u=mc(t,"xAxis",i,n)):(s=gc(t,"yAxis",a,n),u=mc(t,"yAxis",a,n)),pg(s,u)}},sae=te([aae,_j,fX,Ej,oae,c3,eae],Tre),lae=(t,e,n)=>{var r=Jl(t,e);if(r!=null)return gc(t,"xAxis",r,n)},uae=(t,e,n)=>{var r=Xl(t,e);if(r!=null)return gc(t,"yAxis",r,n)},cae=(t,e,n)=>{var r=Jl(t,e);if(r!=null)return mc(t,"xAxis",r,n)},fae=(t,e,n)=>{var r=Xl(t,e);if(r!=null)return mc(t,"yAxis",r,n)},dae=te([sae,_h],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),hae=te([rae,_h],Sre),pae=te([Nn,oS,lae,uae,cae,fae,dae,ft,ZJ,c3,hae,_h,tae],(t,e,n,r,i,a,s,u,c,f,h,p,g)=>{var{chartData:_,dataStartIndex:A,dataEndIndex:S}=c;if(!(p==null||s==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:w}=p,I;if(w!=null&&w.length>0?I=w:I=_==null?void 0:_.slice(A,S+1),I!=null)return qae({layout:u,barSettings:p,pos:s,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:I,offset:t,cells:g,dataStartIndex:A})}}),mae=["index"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function gae(t,e){if(t==null)return{};var n,r,i=vae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f3=C.createContext(void 0),yae=t=>{var e=C.useContext(f3);if(e!=null)return e.stackId;if(t!=null)return l7(t)},xae=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),bae=t=>{var e=C.useContext(f3);if(e!=null){var{stackId:n}=e;return"url(#".concat(xae(n,t),")")}},_ae=t=>{var{index:e}=t,n=gae(t,mae),r=bae(e);return C.createElement(yr,FE({className:"recharts-bar-stack-layer",clipPath:r},n))},Eae=["onMouseEnter","onMouseLeave","onClick"],Tae=["value","background","tooltipPosition"],Sae=["id"],wae=["onMouseEnter","onClick","onMouseLeave"];function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(null,arguments)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Nae(t,"string");return typeof e=="symbol"?e:e+""}function Nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qg(t,e){if(t==null)return{};var n,r,i=Iae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rae=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:kv(n,e),payload:t}]},Pae=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:u,tooltipType:c,id:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:kv(a,e),hide:s,type:c,color:i,unit:u,graphicalItemId:f}};return C.createElement(WU,{tooltipEntrySettings:h})});function Mae(t){var e=Me(Vl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=a,f=qg(a,Eae),h=ww(s,r,a.id),p=Aw(u),g=Cw(c,r,a.id);if(!i||n==null)return null;var _=wd(i);return C.createElement(Ji,{zIndex:wre(i,er.barBackground)},n.map((A,S)=>{var{value:w,background:I,tooltipPosition:O}=A,P=qg(A,Tae);if(!I)return null;var B=h(A,S),L=p(A,S),z=g(A,S),D=gr(gr(gr(gr(gr({option:i,isActive:String(S)===e},P),{},{fill:"#eee"},I),_),Sv(f,A,S)),{},{onMouseEnter:B,onMouseLeave:L,onClick:z,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return C.createElement(Fg,_o({key:"background-bar-".concat(S)},D))}))}function Dae(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return gr(gr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return C.createElement(Pte,{value:e?i:void 0},n)}function Oae(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,u=Me(Vl),c=Me(gw),f=n&&String(a)===u&&(c==null||s===c),h=f?n:e;return f?C.createElement(Ji,{zIndex:er.activeBar},C.createElement(Fg,_o({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:s}))):C.createElement(Fg,_o({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:s}))}function kae(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return C.createElement(Fg,_o({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Lae(t){var e,{data:n,props:r}=t,i=(e=Gi(r))!==null&&e!==void 0?e:{},{id:a}=i,s=qg(i,Sae),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,_=qg(r,wae),A=ww(h,c,a),S=Aw(g),w=Cw(p,c,a);return n?C.createElement(C.Fragment,null,n.map((I,O)=>C.createElement(_ae,_o({index:O,key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(O),className:"recharts-bar-rectangle"},Sv(_,I,O),{onMouseEnter:A(I,O),onMouseLeave:S(I,O),onClick:w(I,O)}),f?C.createElement(Oae,{shape:u,activeBar:f,baseProps:s,entry:I,index:O,dataKey:c}):C.createElement(kae,{shape:u,baseProps:s,entry:I,index:O,dataKey:c})))):null}function jae(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,g=Kv(e,"recharts-bar-"),[_,A]=C.useState(!1),S=!_,w=C.useCallback(()=>{typeof f=="function"&&f(),A(!1)},[f]),I=C.useCallback(()=>{typeof h=="function"&&h(),A(!0)},[h]);return C.createElement(Dae,{showLabels:S,rects:r},C.createElement(Gv,{animationId:g,begin:s,duration:u,isActive:a,easing:c,onAnimationEnd:w,onAnimationStart:I,key:g},O=>{var P=O===1?r:r==null?void 0:r.map((B,L)=>{var z=p&&p[L];if(z)return gr(gr({},B),{},{x:Sn(z.x,B.x,O),y:Sn(z.y,B.y,O),width:Sn(z.width,B.width,O),height:Sn(z.height,B.height,O)});if(i==="horizontal"){var D=Sn(0,B.height,O),k=Sn(B.stackedBarStart,B.y,O);return gr(gr({},B),{},{y:k,height:D})}var j=Sn(0,B.width,O),F=Sn(B.stackedBarStart,B.x,O);return gr(gr({},B),{},{width:j,x:F})});return O>0&&(n.current=P??null),P==null?null:C.createElement(yr,null,C.createElement(Lae,{props:e,data:P}))}),C.createElement(FU,{label:e.label}),e.children)}function Uae(t){var e=C.useRef(null);return C.createElement(jae,{previousRectanglesRef:e,props:t})}var d3=0,Vae=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:kt(t,e)}};class Bae extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:u,background:c,id:f}=this.props;if(e||n==null)return null;var h=St("recharts-bar",i),p=f;return C.createElement(yr,{className:h,id:f},u&&C.createElement("defs",null,C.createElement(Rie,{clipPathId:p,xAxisId:a,yAxisId:s})),C.createElement(yr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},C.createElement(Mae,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),C.createElement(Uae,this.props)))}}var zae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:d3,xAxisId:0,yAxisId:0,zIndex:er.bar};function Fae(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=u3(e,n),g=ah(),_=Dr(),A=Sw(t.children,bh),S=Me(O=>pae(O,t.id,_,A));if(g!=="vertical"&&g!=="horizontal")return null;var w,I=S==null?void 0:S[0];return I==null||I.height==null||I.width==null?w=0:w=g==="vertical"?I.height/2:I.width/2,C.createElement(Iie,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Vae,errorBarOffset:w},C.createElement(Bae,_o({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function qae(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:_,parentViewBox:A,dataStartIndex:S}=t,w=e==="horizontal"?u:s,I=h?w.scale.domain():null,O=u7({numericAxis:w}),P=w.scale(O);return p.map((B,L)=>{var z,D,k,j,F,q;if(h){var $=h[L+S];if($==null)return null;z=r7($,I)}else z=kt(B,n),Array.isArray(z)||(z=[O,z]);var U=Xie(r,d3)(z[1],L);if(e==="horizontal"){var de,[me,W]=[u.scale(z[0]),u.scale(z[1])];D=BR({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:B,index:L}),k=(de=W??me)!==null&&de!==void 0?de:void 0,j=i.size;var oe=me-W;if(F=Ki(oe)?0:oe,q={x:D,y:g.top,width:j,height:g.height},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var ge=Bn(F||U)*(Math.abs(U)-Math.abs(F));k-=ge,F+=ge}}else{var[Te,De]=[s.scale(z[0]),s.scale(z[1])];if(D=Te,k=BR({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:B,index:L}),j=De-Te,F=i.size,q={x:g.left,y:k,width:g.width,height:F},Math.abs(U)>0&&Math.abs(j)<Math.abs(U)){var K=Bn(j||U)*(Math.abs(U)-Math.abs(j));j+=K}}if(D==null||k==null||j==null||F==null)return null;var ae=gr(gr({},B),{},{stackedBarStart:P,x:D,y:k,width:j,height:F,value:h?z:z[1],payload:B,background:q,tooltipPosition:{x:D+j/2,y:k+F/2},parentViewBox:A},_&&_[L]&&_[L].props);return ae}).filter(Boolean)}function $ae(t){var e=cr(t,zae),n=yae(e.stackId),r=Dr();return C.createElement(JU,{id:e.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(vne,{legendPayload:Rae(e)}),C.createElement(Pae,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),C.createElement(Pne,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Ji,{zIndex:e.zIndex},C.createElement(Fae,_o({},e,{id:i})))))}var h3=C.memo($ae,Pw);h3.displayName="Bar";var Hae=["domain","range"],Gae=["domain","range"];function JM(t,e){if(t==null)return{};var n,r,i=Kae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function p3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=JM(t,Hae),{domain:a,range:s}=e,u=JM(e,Gae);return!XM(n,a)||!XM(r,s)?!1:Pw(i,u)}var Yae=["dangerouslySetInnerHTML","ticks","scale"],Wae=["id","scale"];function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function QM(t,e){if(t==null)return{};var n,r,i=Jae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xae(t){var e=Ft(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(lre(t)):n.current!==t&&e(ure({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(cre(n.current)),n.current=null)},[e]),null}var Qae=t=>{var{xAxisId:e,className:n}=t,r=Me(oS),i=Dr(),a="xAxis",s=Me(I=>eU(I,a,e,i)),u=Me(I=>Jj(I,e)),c=Me(I=>uQ(I,e)),f=Me(I=>Pj(I,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=t,_=QM(t,Yae),{id:A,scale:S}=f,w=QM(f,Wae);return C.createElement(Rw,qE({},_,w,{x:c.x,y:c.y,width:u.width,height:u.height,className:St("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},Zae={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:Ln.allowDecimals,allowDuplicatedCategory:Ln.allowDuplicatedCategory,angle:Ln.angle,axisLine:co.axisLine,height:Ln.height,hide:!1,includeHidden:Ln.includeHidden,interval:Ln.interval,minTickGap:Ln.minTickGap,mirror:Ln.mirror,orientation:Ln.orientation,padding:Ln.padding,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,tickLine:co.tickLine,tickSize:co.tickSize,type:Ln.type,xAxisId:0},eoe=t=>{var e=cr(t,Zae);return C.createElement(C.Fragment,null,C.createElement(Xae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(Qae,e))},m3=C.memo(eoe,p3);m3.displayName="XAxis";var toe=["dangerouslySetInnerHTML","ticks","scale"],noe=["id","scale"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function ZM(t,e){if(t==null)return{};var n,r,i=roe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ioe(t){var e=Ft(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(fre(t)):n.current!==t&&e(dre({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(hre(n.current)),n.current=null)},[e]),null}var aoe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=C.useRef(null),s=C.useRef(null),u=Me(oS),c=Dr(),f=Ft(),h="yAxis",p=Me(z=>Xj(z,e)),g=Me(z=>fQ(z,e)),_=Me(z=>eU(z,h,e,c)),A=Me(z=>Mj(z,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!p||_w(i)||C.isValidElement(i)||A==null)){var z=a.current;if(z){var D=z.getCalculatedWidth();Math.round(p.width)!==Math.round(D)&&f(pre({id:e,width:D}))}}},[_,p,f,i,e,r,A]),p==null||g==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:w,scale:I}=t,O=ZM(t,toe),{id:P,scale:B}=A,L=ZM(A,noe);return C.createElement(Rw,$E({},O,L,{ref:a,labelRef:s,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:St("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:_,axisType:h}))},ooe={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:co.axisLine,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:co.tickLine,tickSize:co.tickSize,type:jn.type,width:jn.width,yAxisId:0},soe=t=>{var e=cr(t,ooe);return C.createElement(C.Fragment,null,C.createElement(ioe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(aoe,e))},g3=C.memo(soe,p3);g3.displayName="YAxis";var loe=(t,e)=>e,Mw=te([loe,ft,Ij,Rn,gU,Do,AZ,Nn],DZ),Dw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},v3=Ei("mouseClick"),y3=rh();y3.startListening({actionCreator:v3,effect:(t,e)=>{var n=t.payload,r=Mw(e.getState(),Dw(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(wQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var HE=Ei("mouseMove"),x3=rh(),xm=null;x3.startListening({actionCreator:HE,effect:(t,e)=>{var n=t.payload;xm!==null&&cancelAnimationFrame(xm);var r=Dw(n);xm=requestAnimationFrame(()=>{var i=e.getState(),a=cw(i,i.tooltip.settings.shared);if(a==="axis"){var s=Mw(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(lU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(sU())}xm=null})}});function uoe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var eD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},b3=Mr({name:"rootProps",initialState:eD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:eD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),coe=b3.reducer,{updateOptions:foe}=b3.actions,_3=Mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:doe}=_3.actions,hoe=_3.reducer,E3=Ei("keyDown"),T3=Ei("focus"),Ow=rh();Ow.startListening({actionCreator:E3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=fw(i,kc(n),mh(n),yh(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Do(n);if(a==="Enter"){var f=jg(n,"axis","hover",String(i.index));e.dispatch(LE({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=mQ(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,_=u+g*p;if(!(c==null||_>=c.length||_<0)){var A=jg(n,"axis","hover",String(_));e.dispatch(LE({active:!0,activeIndex:_.toString(),activeCoordinate:A}))}}}}}});Ow.startListening({actionCreator:T3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=jg(n,"axis","hover",String(a));e.dispatch(LE({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var gi=Ei("externalEvent"),S3=rh(),A_=new Map;S3.startListening({actionCreator:gi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=A_.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:fZ(u),activeDataKey:gw(u),activeIndex:Vl(u),activeLabel:xU(u),activeTooltipIndex:Vl(u),isTooltipActive:dZ(u)};n(c,r)}finally{A_.delete(i)}});A_.set(i,s)}}});var poe=te([Dc],t=>t.tooltipItemPayloads),moe=te([poe,vh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),w3=Ei("touchMove"),A3=rh();A3.startListening({actionCreator:w3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=cw(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=Mw(r,Dw({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(lU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(XL),p=(u=f.getAttribute(QL))!==null&&u!==void 0?u:void 0,g=Oc(r).find(S=>S.id===p);if(h==null||g==null||p==null)return;var{dataKey:_}=g,A=moe(r,h,p);e.dispatch(oU({activeDataKey:_,activeIndex:h,activeCoordinate:A,activeGraphicalItemId:p}))}}}});var goe=xL({brush:Are,cartesianAxis:mre,chartData:cee,errorBars:Tie,graphicalItems:Ine,layout:XG,legend:rK,options:aee,polarAxis:Fte,polarOptions:hoe,referenceElements:Dre,rootProps:coe,tooltip:AQ,zIndex:KZ}),voe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return EG({reducer:goe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([y3.middleware,x3.middleware,Ow.middleware,S3.middleware,A3.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(OL({type:"raf"}))},devTools:{serialize:{replacer:uoe},name:"recharts-".concat(n)}})};function C3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Dr(),a=C.useRef(null);if(i)return n;a.current==null&&(a.current=voe(e,r));var s=ZT;return C.createElement(Gie,{context:s,store:a.current},n)}function yoe(t){var{layout:e,margin:n}=t,r=Ft(),i=Dr();return C.useEffect(()=>{i||(r(YG(e)),r(KG(n)))},[r,i,e,n]),null}var N3=C.memo(yoe,Pw);function I3(t){var e=Ft();return C.useEffect(()=>{e(foe(t))},[e,t]),null}function tD(t){var{zIndex:e,isPanorama:n}=t,r=C.useRef(null),i=Ft();return C.useLayoutEffect(()=>(r.current&&i(HZ({zIndex:e,element:r.current,isPanorama:n})),()=>{i(GZ({zIndex:e,isPanorama:n}))}),[i,e,n]),C.createElement("g",{tabIndex:-1,ref:r})}function nD(t){var{children:e,isPanorama:n}=t,r=Me(kZ);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return C.createElement(C.Fragment,null,i.map(s=>C.createElement(tD,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>C.createElement(tD,{key:s,zIndex:s,isPanorama:n})))}var xoe=["children"];function boe(t,e){if(t==null)return{};var n,r,i=_oe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(null,arguments)}var Eoe={width:"100%",height:"100%",display:"block"},Toe=C.forwardRef((t,e)=>{var n=i6(),r=a6(),i=g6();if(!Ra(n)||!Ra(r))return null;var{children:a,otherAttributes:s,title:u,desc:c}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),C.createElement(U4,$g({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Eoe,ref:e}),a)}),Soe=t=>{var{children:e}=t,n=Me(Vv);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return C.createElement(U4,{width:r,height:i,x:s,y:a},e)},rD=C.forwardRef((t,e)=>{var{children:n}=t,r=boe(t,xoe),i=Dr();return i?C.createElement(Soe,null,C.createElement(nD,{isPanorama:!0},n)):C.createElement(Toe,$g({ref:e},r),C.createElement(nD,{isPanorama:!1},n))});function woe(){var t=Ft(),[e,n]=C.useState(null),r=Me(m7);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ht(a)&&a!==r&&t(JG(a))}},[e,t,r]),n}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(null,arguments)}var Roe=()=>(xee(),null);function Hg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Poe=C.forwardRef((t,e)=>{var n,r,i=C.useRef(null),[a,s]=C.useState({containerWidth:Hg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Hg((r=t.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,h)=>{s(p=>{var g=Math.round(f),_=Math.round(h);return p.containerWidth===g&&p.containerHeight===_?p:{containerWidth:g,containerHeight:_}})},[]),c=C.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var g=A=>{var{width:S,height:w}=A[0].contentRect;u(S,w)},_=new ResizeObserver(g);_.observe(f),i.current=_}},[e,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(zv,{width:a.containerWidth,height:a.containerHeight}),C.createElement("div",zl({ref:c},t)))}),Moe=C.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=C.useState({containerWidth:Hg(n),containerHeight:Hg(r)}),s=C.useCallback((c,f)=>{a(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=C.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();s(f,h)}},[e,s]);return C.createElement(C.Fragment,null,C.createElement(zv,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",zl({ref:u},t)))}),Doe=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return C.createElement(C.Fragment,null,C.createElement(zv,{width:n,height:r}),C.createElement("div",zl({ref:e},t)))}),Ooe=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return mo(n)||mo(r)?C.createElement(Moe,zl({},t,{ref:e})):C.createElement(Doe,zl({},t,{ref:e}))});function koe(t){return t===!0?Poe:Ooe}var Loe=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:_,onTouchMove:A,onTouchStart:S,style:w,width:I,responsive:O,dispatchTouchEvents:P=!0}=t,B=C.useRef(null),L=Ft(),[z,D]=C.useState(null),[k,j]=C.useState(null),F=woe(),q=sS(),$=(q==null?void 0:q.width)>0?q.width:I,U=(q==null?void 0:q.height)>0?q.height:i,de=C.useCallback(le=>{F(le),typeof e=="function"&&e(le),D(le),j(le),le!=null&&(B.current=le)},[F,e,D,j]),me=C.useCallback(le=>{L(v3(le)),L(gi({handler:a,reactEvent:le}))},[L,a]),W=C.useCallback(le=>{L(HE(le)),L(gi({handler:f,reactEvent:le}))},[L,f]),oe=C.useCallback(le=>{L(sU()),L(gi({handler:h,reactEvent:le}))},[L,h]),ge=C.useCallback(le=>{L(HE(le)),L(gi({handler:p,reactEvent:le}))},[L,p]),Te=C.useCallback(()=>{L(T3())},[L]),De=C.useCallback(le=>{L(E3(le.key))},[L]),K=C.useCallback(le=>{L(gi({handler:s,reactEvent:le}))},[L,s]),ae=C.useCallback(le=>{L(gi({handler:u,reactEvent:le}))},[L,u]),ve=C.useCallback(le=>{L(gi({handler:c,reactEvent:le}))},[L,c]),xe=C.useCallback(le=>{L(gi({handler:g,reactEvent:le}))},[L,g]),Oe=C.useCallback(le=>{L(gi({handler:S,reactEvent:le}))},[L,S]),Ve=C.useCallback(le=>{P&&L(w3(le)),L(gi({handler:A,reactEvent:le}))},[L,P,A]),je=C.useCallback(le=>{L(gi({handler:_,reactEvent:le}))},[L,_]),It=koe(O);return C.createElement(AU.Provider,{value:z},C.createElement(Z8.Provider,{value:k},C.createElement(It,{width:$??(w==null?void 0:w.width),height:U??(w==null?void 0:w.height),className:St("recharts-wrapper",r),style:Aoe({position:"relative",cursor:"default",width:$,height:U},w),onClick:me,onContextMenu:K,onDoubleClick:ae,onFocus:Te,onKeyDown:De,onMouseDown:ve,onMouseEnter:W,onMouseLeave:oe,onMouseMove:ge,onMouseUp:xe,onTouchEnd:je,onTouchMove:Ve,onTouchStart:Oe,ref:de},C.createElement(Roe,null),n)))}),joe=["width","height","responsive","children","className","style","compact","title","desc"];function Uoe(t,e){if(t==null)return{};var n,r,i=Voe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Voe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R3=C.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:u,compact:c,title:f,desc:h}=t,p=Uoe(t,joe),g=Gi(p);return c?C.createElement(C.Fragment,null,C.createElement(zv,{width:n,height:r}),C.createElement(rD,{otherAttributes:g,title:f,desc:h},a)):C.createElement(Loe,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(rD,{otherAttributes:g,title:f,desc:h,ref:e},C.createElement(kre,null,a)))});function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}var Boe={top:5,right:5,bottom:5,left:5},zoe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Boe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Foe=C.forwardRef(function(e,n){var r,i=cr(e.categoricalChartProps,zoe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return C.createElement(C3,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},C.createElement(n3,{chartData:f.data}),C.createElement(N3,{layout:i.layout,margin:i.margin}),C.createElement(I3,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(R3,GE({},i,{ref:n})))}),qoe=["axis","item"],$oe=C.forwardRef((t,e)=>C.createElement(Foe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qoe,tooltipPayloadSearcher:CU,categoricalChartProps:t,ref:e}));function Hoe(t){var e=Ft();return C.useEffect(()=>{e(doe(t))},[e,t]),null}var Goe=["layout"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function Koe(t,e){if(t==null)return{};var n,r,i=Yoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Woe={top:5,right:5,bottom:5,left:5},P3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Woe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Joe=C.forwardRef(function(e,n){var r,i=cr(e.categoricalChartProps,P3),{layout:a}=i,s=Koe(i,Goe),{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(C3,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},C.createElement(n3,{chartData:i.data}),C.createElement(N3,{layout:a,margin:i.margin}),C.createElement(I3,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(Hoe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(R3,KE({},s,{ref:n})))});function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return(e=Qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Zoe(t,"string");return typeof e=="symbol"?e:e+""}function Zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ese=["item"],tse=oD(oD({},P3),{},{layout:"centric",startAngle:0,endAngle:360}),nse=C.forwardRef((t,e)=>{var n=cr(t,tse);return C.createElement(Joe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ese,tooltipPayloadSearcher:CU,categoricalChartProps:n,ref:e})});const rse=({properties:t,owners:e,leads:n,tenants:r})=>{const i=pv(),a=[{label:"Propiedades",value:t.length,icon:uc,color:"text-blue-600",bg:"bg-blue-100"},{label:"Propietarios",value:e.length,icon:qT,color:"text-[var(--primary-color-600)]",bg:"bg-[var(--primary-color-100)]"},{label:"Nuevos Leads",value:n.filter(g=>g.status==="NEW").length,icon:K_,color:"text-emerald-600",bg:"bg-emerald-100"},{label:"Valor Cartera (ARS)",value:`$${(t.reduce((g,_)=>g+_.price,0)/1e6).toFixed(1)}M`,icon:z9,color:"text-amber-600",bg:"bg-amber-100"}],s=[{name:"Disponibles",value:t.filter(g=>g.status===yi.AVAILABLE).length},{name:"Reservadas",value:t.filter(g=>g.status===yi.RESERVED).length},{name:"Cerradas",value:t.filter(g=>g.status===yi.SOLD||g.status===yi.RENTED).length}],u=["var(--primary-color-600)","#f59e0b","#10b981"],c=new Date,f=new Date;f.setDate(c.getDate()+30);const h=r.filter(g=>{if(!g.contractEnd)return!1;const _=new Date(g.contractEnd);return _>=c&&_<=f}),p=r.filter(g=>g.contractEnd?new Date(g.contractEnd)<c:!1);return y.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control"}),y.jsx("p",{className:"text-slate-500",children:"Bienvenido de nuevo, aqu tienes el resumen de hoy en Pesos Argentinos."})]}),y.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--primary-color-600)] text-white rounded-lg hover:bg-[var(--primary-color-700)] transition-shadow shadow-sm font-medium",children:[y.jsx(P8,{size:18}),"Reporte de Mercado"]})]}),(h.length>0||p.length>0)&&y.jsxs("div",{className:"bg-white rounded-3xl border border-amber-100 shadow-sm overflow-hidden animate-in slide-in-from-top-4",children:[y.jsxs("div",{className:"bg-amber-50 px-6 py-4 border-b border-amber-100 flex items-center justify-between",children:[y.jsxs("h3",{className:"font-bold text-amber-900 flex items-center gap-2",children:[y.jsx(G_,{size:20,className:"text-amber-600"}),"Alertas de Contratos"]}),y.jsx("span",{className:"text-[10px] font-black uppercase text-amber-600 tracking-widest",children:"Atencin Requerida"})]}),y.jsxs("div",{className:"p-2",children:[p.map(g=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50/50 rounded-2xl mb-2 last:mb-0 border border-red-100",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold",children:g.name.charAt(0)}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[g.name," ",y.jsx("span",{className:"text-[10px] bg-red-500 text-white px-2 py-0.5 rounded ml-2 uppercase",children:"Vencido"})]}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Contrato venci el: ",g.contractEnd]})]})]}),y.jsx("button",{onClick:()=>i("/tenants"),className:"p-2 hover:bg-red-100 rounded-full text-red-600 transition-colors",children:y.jsx($_,{size:20})})]},g.id)),h.map(g=>y.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl mb-2 last:mb-0 transition-colors group",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center font-bold group-hover:bg-amber-600 group-hover:text-white transition-all",children:g.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-800",children:g.name}),y.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[y.jsx(Zd,{size:12})," Vence en menos de un mes (",g.contractEnd,")"]})]})]}),y.jsx("button",{onClick:()=>i("/tenants"),className:"p-2 hover:bg-amber-100 rounded-full text-amber-600 transition-colors",children:y.jsx($_,{size:20})})]},g.id))]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((g,_)=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl ${g.bg} ${g.color}`,children:y.jsx(g.icon,{size:24})}),y.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:"+12%"})]}),y.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:g.label}),y.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-1",children:g.value})]},_))}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Distribucin de Propiedades"}),y.jsx("div",{className:"h-[300px]",children:y.jsx(XR,{width:"100%",height:"100%",children:y.jsxs($oe,{data:s,children:[y.jsx(s3,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),y.jsx(m3,{dataKey:"name",axisLine:!1,tickLine:!1}),y.jsx(g3,{axisLine:!1,tickLine:!1}),y.jsx(Z2,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),y.jsx(h3,{dataKey:"value",fill:"var(--primary-color-600)",radius:[4,4,0,0],barSize:60})]})})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Estado de Inventario"}),y.jsx("div",{className:"h-[300px]",children:y.jsx(XR,{width:"100%",height:"100%",children:y.jsxs(nse,{children:[y.jsx(QU,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:s.map((g,_)=>y.jsx(bh,{fill:u[_%u.length]},`cell-${_}`))}),y.jsx(Z2,{})]})})}),y.jsx("div",{className:"space-y-3 mt-4",children:s.map((g,_)=>y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u[_]}}),y.jsx("span",{className:"text-slate-600",children:g.name}),y.jsx("span",{className:"font-bold text-slate-800",children:g.value})]},_))})]})]})]})},ise=({properties:t,owners:e,onDeleteProperty:n})=>{const[r,i]=C.useState(""),a=t.filter(c=>c.title.toLowerCase().includes(r.toLowerCase())||c.address.toLowerCase().includes(r.toLowerCase())),s=c=>c.toLocaleString("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0}),u=(c,f)=>{c.stopPropagation(),window.confirm(`Ests seguro de que quieres eliminar la propiedad "${f.title}"? Esta accin es irreversible y eliminar tambin sus imgenes.`)&&n(f.id,f.imagePaths)};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Inventario de Propiedades"}),y.jsxs("p",{className:"text-slate-500",children:[t.length," propiedades en cartera."]})]}),y.jsxs(gv,{to:"/properties/new",className:"flex items-center justify-center gap-2 px-6 py-3 bg-[var(--primary-color-600)] text-white rounded-xl hover:bg-[var(--primary-color-700)] transition-all shadow-md hover:shadow-lg font-semibold",children:[y.jsx(Ml,{size:20}),"Nueva Propiedad"]})]}),y.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col md:flex-row gap-4",children:y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),y.jsx("input",{type:"text",placeholder:"Buscar por ttulo, direccin...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-[var(--primary-color-600)] outline-none",value:r,onChange:c=>i(c.target.value)})]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:a.map(c=>{var f,h;return y.jsxs("div",{className:"group bg-white rounded-[2rem] border border-slate-100 overflow-hidden hover:shadow-2xl transition-all duration-300 relative",children:[y.jsx("button",{onClick:p=>u(p,c),className:"absolute top-4 left-4 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 shadow-md hover:bg-red-600",title:"Eliminar propiedad",children:y.jsx(xv,{size:18})}),y.jsxs("div",{className:"h-56 relative overflow-hidden",children:[c.imageUrl?y.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):y.jsx("div",{className:"w-full h-full bg-slate-100 flex items-center justify-center text-slate-300",children:y.jsx(N4,{size:48})}),y.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[c.imagePaths&&c.imagePaths.length>0&&y.jsxs("span",{className:"bg-black/50 backdrop-blur-md text-white text-[10px] px-2 py-1 rounded-lg font-bold",children:["+",c.imagePaths.length," fotos"]}),y.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase shadow-sm ${c.status===yi.AVAILABLE?"bg-emerald-500 text-white":c.status===yi.RESERVED?"bg-amber-500 text-white":"bg-slate-500 text-white"}`,children:c.status})]}),y.jsx("div",{className:"absolute bottom-4 left-4",children:y.jsx("span",{className:"bg-white/95 backdrop-blur px-4 py-2 rounded-xl text-lg font-black text-[var(--primary-color-600)] shadow-xl",children:s(c.price)})})]}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("p",{className:"text-[var(--primary-color-600)] text-[10px] font-black uppercase tracking-widest mb-1",children:c.type}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 line-clamp-1 group-hover:text-[var(--primary-color-600)] transition-colors",children:c.title}),y.jsxs("div",{className:"flex items-center gap-1 text-slate-400 mt-2 text-xs font-medium",children:[y.jsx(R4,{size:14,className:"text-[var(--primary-color-400)]"}),y.jsxs("span",{className:"line-clamp-1",children:[c.address,", ",c.neighborhood]})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 border-y border-slate-50 py-4 my-4",children:[y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("span",{className:"text-xs font-black text-slate-800",children:c.bedrooms}),y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Dorm"})]}),y.jsxs("div",{className:"flex flex-col items-center gap-1 border-x border-slate-50",children:[y.jsx("span",{className:"text-xs font-black text-slate-800",children:c.bathrooms}),y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Baos"})]}),y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("span",{className:"text-xs font-black text-slate-800",children:c.area}),y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"m"})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--primary-color-50)] flex items-center justify-center text-[10px] font-black text-[var(--primary-color-600)]",children:(f=e.find(p=>p.id===c.ownerId))==null?void 0:f.name.charAt(0)}),y.jsx("span",{className:"text-xs font-bold text-slate-600",children:(h=e.find(p=>p.id===c.ownerId))==null?void 0:h.name})]}),y.jsx("button",{className:"p-2 bg-slate-50 text-slate-400 hover:bg-[var(--primary-color-600)] hover:text-white rounded-xl transition-all shadow-sm",children:y.jsx($_,{size:18})})]})]})]},c.id)})})]})},ase=({owner:t,properties:e,bills:n,onBack:r,onUpdateBillStatus:i,onUpdateOwner:a})=>{var B;const[s,u]=C.useState(!1),[c,f]=C.useState(t),h=e.filter(L=>L.ownerId===t.id),p=h.map(L=>L.id),g=n.filter(L=>p.includes(L.propertyId)),_=g.filter(L=>L.status==="PENDING"),A=_.reduce((L,z)=>L+z.amount,0),S=L=>L.toLocaleString("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0}),w=L=>{var k;const z=((k=e.find(j=>j.id===L.propertyId))==null?void 0:k.title)||"propiedad",D=`Hola ${t.name}! Te informamos sobre un movimiento de cuenta:
Concepto: ${L.type}
Propiedad: ${z}
Monto: ${S(L.amount)}
Estado: ${L.status==="PAID"?"PAGADO":"PENDIENTE"}
Fecha: ${new Date(L.date).toLocaleDateString()}

Gracias por tu gestin!`;window.open(`https://wa.me/${t.phone.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(D)}`,"_blank")},I=L=>{f({...c,[L.target.name]:L.target.value})},O=()=>{if(!c.name||!c.email||!c.phone||!c.dni){alert("Por favor, completa todos los campos obligatorios (Nombre, Email, Telfono, DNI).");return}a(t.id,c),u(!1)},P=()=>{f(t),u(!1)};return y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-left-4 duration-300",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[y.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-[var(--primary-color-600)] transition-colors",children:y.jsx(BT,{size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Perfil del Propietario"}),y.jsx("p",{className:"text-slate-500",children:"Gestin detallada y estado de cuentas."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-8 text-center relative",children:[y.jsx("button",{onClick:()=>u(!s),className:"absolute top-4 right-4 p-2 bg-slate-50 text-slate-400 rounded-full hover:bg-[var(--primary-color-50)] hover:text-[var(--primary-color-600)] transition-colors",title:s?"Cancelar edicin":"Editar informacin",children:s?y.jsx(po,{size:18}):y.jsx(P4,{size:18})}),y.jsx("div",{className:"w-24 h-24 rounded-full bg-[var(--primary-color-100)] text-[var(--primary-color-600)] flex items-center justify-center text-3xl font-bold mx-auto mb-4 border-4 border-white shadow-md",children:(B=s?c.name:t.name)==null?void 0:B.charAt(0)}),s?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:I,className:"w-full text-xl font-bold text-slate-800 text-center mb-2 px-3 py-2 border border-slate-200 rounded-lg outline-none",required:!0}),y.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Propietario verificado"})]}):y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:t.name}),y.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Propietario verificado"})]}),y.jsx("div",{className:"space-y-3 text-left",children:s?y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:I,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Telfono"}),y.jsx("input",{type:"text",name:"phone",value:c.phone||"",onChange:I,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",required:!0})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[y.jsx(H_,{size:12})," DNI (Login Portal)"]}),y.jsx("input",{type:"number",name:"dni",value:c.dni||"",onChange:I,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",required:!0})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[y.jsx(zT,{size:12})," Alias de Cobro"]}),y.jsx("input",{type:"text",name:"paymentAlias",value:c.paymentAlias||"",onChange:I,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]"})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsxs("button",{type:"button",onClick:O,className:"flex-1 py-3 bg-[var(--primary-color-600)] text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-[var(--primary-color-700)] transition-colors shadow-lg",children:[y.jsx(yv,{size:18})," Guardar"]}),y.jsxs("button",{type:"button",onClick:P,className:"flex-1 py-3 bg-slate-200 text-slate-700 font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-slate-300 transition-colors",children:[y.jsx(po,{size:18})," Cancelar"]})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl text-slate-600 text-sm",children:[y.jsx(Gl,{size:18,className:"text-[var(--primary-color-500)]"}),y.jsx("span",{className:"truncate",children:t.email})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl text-slate-600 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Sd,{size:18,className:"text-[var(--primary-color-500)]"}),y.jsx("span",{children:t.phone})]}),y.jsx("button",{onClick:()=>window.open(`https://wa.me/${t.phone.replace(/[^0-9]/g,"")}`,"_blank"),className:"p-1.5 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors",title:"Enviar mensaje de WhatsApp",children:y.jsx(Om,{size:16})})]})]})}),!s&&y.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Deuda Pendiente"}),y.jsxs("span",{className:`text-lg font-bold ${A>0?"text-red-500":"text-emerald-500"}`,children:["$",A.toLocaleString()]})]}),y.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${A>0?"bg-red-500":"bg-emerald-500"}`,style:{width:A>0?"100%":"0%"}})})]})]}),y.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white",children:[y.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[y.jsx(uc,{size:18,className:"text-[var(--primary-color-400)]"}),"Propiedades (",h.length,")"]}),y.jsx("div",{className:"space-y-3",children:h.map(L=>y.jsxs("div",{className:"p-3 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",children:[y.jsx("p",{className:"text-sm font-bold truncate group-hover:text-[var(--primary-color-400)] transition-colors",children:L.title}),y.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-1",children:[y.jsx(R4,{size:10})," ",L.address]})]},L.id))})]}),y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-6 space-y-4",children:[y.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2 border-b pb-3",children:[y.jsx(H_,{size:18,className:"text-[var(--primary-color-600)]"}),"Acceso al Portal"]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"DNI de Usuario"}),y.jsx("p",{className:"text-sm font-bold text-slate-700",children:t.dni})]}),y.jsx("p",{className:"text-xs text-slate-500",children:"Utiliza este DNI para ingresar al portal de propietarios y consultar el estado de tus propiedades y pagos."})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/30",children:[y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Es,{size:20,className:"text-[var(--primary-color-600)]"}),"Servicios por Abonar y Pagados"]}),y.jsx("div",{className:"flex gap-2",children:y.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded-lg",children:[y.jsx(O9,{size:12})," ",_.length," Pendientes"]})})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Servicio / Contrato"}),y.jsx("th",{className:"px-6 py-4",children:"Propiedad"}),y.jsx("th",{className:"px-6 py-4",children:"Fecha"}),y.jsx("th",{className:"px-6 py-4",children:"Importe"}),y.jsx("th",{className:"px-6 py-4",children:"Estado"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Accin"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:g.length>0?g.map(L=>{var z;return y.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:`p-2 rounded-lg ${L.type===Ut.ELECTRICITY?"bg-yellow-50 text-yellow-600":L.type===Ut.WATER?"bg-blue-50 text-blue-600":L.type===Ut.GAS?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-600"}`,children:[L.type===Ut.ELECTRICITY&&y.jsx(bv,{size:16}),L.type===Ut.WATER&&y.jsx(A4,{size:16}),L.type===Ut.GAS&&y.jsx(C4,{size:16}),L.type===Ut.TAXES&&y.jsx(Es,{size:16}),L.type===Ut.RENT&&y.jsx(uc,{size:16}),L.type===Ut.MANAGEMENT_FEE&&y.jsx(Qd,{size:16})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-800",children:L.type}),y.jsx("p",{className:"text-[10px] text-slate-400",children:L.contractNumber})]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("p",{className:"text-xs text-slate-600 max-w-[150px] truncate",children:(z=e.find(D=>D.id===L.propertyId))==null?void 0:z.title})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("p",{className:"text-xs text-slate-500 font-medium",children:new Date(L.date).toLocaleDateString()})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("p",{className:"text-sm font-bold text-slate-800",children:["$",L.amount.toLocaleString()]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("div",{className:`flex items-center gap-1.5 text-[10px] font-bold px-2 py-1 rounded-full w-fit ${L.status==="PAID"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:L.status==="PAID"?"Pagado":"Pendiente"})}),y.jsx("td",{className:"px-6 py-4 text-right",children:L.status==="PENDING"?y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{onClick:()=>i(L.id,"PAID"),className:"text-[var(--primary-color-600)] font-bold text-xs hover:underline px-2 py-1 bg-[var(--primary-color-50)] rounded-md",title:"Marcar esta factura como pagada",children:"Marcar Pago"}),y.jsx("button",{onClick:()=>w(L),className:"text-emerald-600 font-bold text-xs hover:underline px-2 py-1 bg-emerald-50 rounded-md",title:"Enviar recordatorio de pago por WhatsApp",children:y.jsx(Om,{size:14})})]}):y.jsx("button",{onClick:()=>w(L),className:"text-emerald-600 font-bold text-xs hover:underline px-2 py-1 bg-emerald-50 rounded-md",title:"Enviar comprobante de pago por WhatsApp",children:y.jsx(Om,{size:14})})})]},L.id)}):y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:y.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-30",children:[y.jsx(Es,{size:48}),y.jsx("p",{className:"text-sm font-medium",children:"No se encontraron facturas para este propietario."})]})})})})]})})]}),y.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-3xl p-6 flex gap-4",children:[y.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-2xl h-fit",children:y.jsx(Wm,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-amber-900 mb-1",children:"Nota de Liquidacin"}),y.jsx("p",{className:"text-sm text-amber-800 leading-relaxed",children:"Recuerda que los pagos realizados fuera de trmino pueden generar intereses moratorios segn las tarifas configuradas en el mdulo de Servicios."})]})]})]})]})]})},ose=({owners:t,properties:e,bills:n,onAdd:r,onUpdateBillStatus:i,onUpdateOwner:a})=>{const[s,u]=C.useState(!1),[c,f]=C.useState(""),[h,p]=C.useState(null),[g,_]=C.useState({name:"",email:"",phone:"",dni:"",paymentAlias:""}),A=t.filter(I=>I.name.toLowerCase().includes(c.toLowerCase())||I.dni.includes(c)||I.email.toLowerCase().includes(c.toLowerCase())),S=I=>{I.preventDefault(),r({...g,id:Date.now().toString()}),u(!1),_({name:"",email:"",phone:"",dni:"",paymentAlias:""})},w=t.find(I=>I.id===h);return w?y.jsx(ase,{owner:w,properties:e,bills:n,onBack:()=>p(null),onUpdateBillStatus:i,onUpdateOwner:a}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Directorio de Propietarios"}),y.jsx("p",{className:"text-slate-500",children:"Gestin de contactos, DNI para acceso y alias de cobro."})]}),y.jsxs("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[var(--primary-color-600)] text-white rounded-xl hover:bg-[var(--primary-color-700)] transition-all shadow-md font-semibold",children:[y.jsx(Ml,{size:20}),"Aadir Propietario"]})]}),y.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col md:flex-row gap-4",children:y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),y.jsx("input",{type:"text",placeholder:"Buscar por nombre, DNI o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-[var(--primary-color-600)] outline-none transition-all",value:c,onChange:I=>f(I.target.value)})]})}),y.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Propietario"}),y.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"DNI Acceso"}),y.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Contacto"}),y.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Acciones"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:A.length>0?A.map(I=>(e.filter(O=>O.ownerId===I.id),y.jsxs("tr",{className:"hover:bg-[var(--primary-color-50)] transition-colors group cursor-pointer",onClick:()=>p(I.id),children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--primary-color-50)] flex items-center justify-center text-[var(--primary-color-600)] font-bold group-hover:bg-[var(--primary-color-600)] group-hover:text-white transition-colors",children:I.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-slate-800",children:I.name}),y.jsx("p",{className:"text-[10px] text-slate-400 font-mono",children:I.paymentAlias||"Alias no config."})]})]})}),y.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:I.dni}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[y.jsx(Gl,{size:12})," ",I.email]}),y.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[y.jsx(Sd,{size:12})," ",I.phone]})]})}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsxs("button",{onClick:O=>{O.stopPropagation(),p(I.id)},className:"flex items-center gap-2 ml-auto text-[var(--primary-color-600)] text-xs font-bold hover:bg-[var(--primary-color-50)] px-3 py-2 rounded-lg transition-all",children:["Perfil & Saldos",y.jsx(vv,{size:14})]})})]},I.id))):y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400",children:"No hay resultados."})})})]})})}),s&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsx("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nuevo Propietario"}),y.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-slate-100 rounded-full",children:y.jsx(po,{size:20})})]}),y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Nombre Completo"}),y.jsx("input",{required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:g.name,onChange:I=>_({...g,name:I.target.value})})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[y.jsx(H_,{size:12})," DNI (Login Portal)"]}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:g.dni,onChange:I=>_({...g,dni:I.target.value})})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[y.jsx(zT,{size:12})," Alias de Cobro"]}),y.jsx("input",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",placeholder:"PARA ALQUILERES",value:g.paymentAlias,onChange:I=>_({...g,paymentAlias:I.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Email"}),y.jsx("input",{required:!0,type:"email",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:g.email,onChange:I=>_({...g,email:I.target.value})})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[y.jsx(Sd,{size:12})," Telfono (WhatsApp)"]}),y.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:g.phone,onChange:I=>_({...g,phone:I.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl hover:bg-[var(--primary-color-700)] transition-all shadow-md mt-4",children:"Guardar Registro"})]})]})})})]})},sse=({leads:t,onAdd:e})=>{const[n,r]=C.useState("ALL"),i=t.filter(s=>n==="ALL"||s.status===n),a=s=>{switch(s){case"NEW":return"bg-blue-100 text-blue-700";case"CONTACTED":return"bg-amber-100 text-amber-700";case"NEGOTIATION":return"bg-purple-100 text-purple-700";case"CLOSED":return"bg-emerald-100 text-emerald-700";default:return"bg-slate-100 text-slate-700"}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Leads & Clientes Potenciales"}),y.jsx("p",{className:"text-slate-500",children:"Haz seguimiento a tus prospectos y cierra ms ventas."})]}),y.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-[var(--primary-color-600)] text-white rounded-xl hover:bg-[var(--primary-color-700)] transition-all shadow-md font-semibold",children:[y.jsx(K_,{size:20}),"Nuevo Lead"]})]}),y.jsx("div",{className:"flex gap-2 p-1 bg-slate-200/50 w-fit rounded-xl",children:["ALL","NEW","CONTACTED"].map(s=>y.jsx("button",{onClick:()=>r(s),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${n===s?"bg-white text-[var(--primary-color-600)] shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:s==="ALL"?"Todos":s==="NEW"?"Nuevos":"Contactados"},s))}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:border-[var(--primary-color-200)] transition-all group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-[var(--primary-color-50)] group-hover:text-[var(--primary-color-600)] transition-colors",children:y.jsx(K_,{size:24})}),y.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-bold uppercase ${a(s.status)}`,children:s.status})]}),y.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-1",children:s.name}),y.jsxs("p",{className:"text-sm text-slate-500 mb-4 flex items-center gap-1",children:[y.jsx(Zd,{size:12})," Interesado en ",s.interest==="BUY"?"Compra":"Alquiler"]}),y.jsxs("div",{className:"space-y-2 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center",children:y.jsx(Gl,{size:14,className:"opacity-60"})}),s.email]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center",children:y.jsx(Sd,{size:14,className:"opacity-60"})}),s.phone]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"flex-1 py-2 bg-slate-100 text-slate-600 text-sm font-bold rounded-lg hover:bg-slate-200 transition-colors",children:"Ver Perfil"}),y.jsx("button",{className:"px-3 py-2 bg-[var(--primary-color-50)] text-[var(--primary-color-600)] rounded-lg hover:bg-[var(--primary-color-600)] hover:text-white transition-all",children:y.jsx(vv,{size:18})})]})]},s.id))})]})};var lse={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let use,cse;function fse(){return{geminiUrl:use,vertexUrl:cse}}function dse(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=fse();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oo{}function Ee(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];x(h,e.slice(a+1),n[f])}else for(const f of c)x(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];x(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function hse(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}YE(t,i,a,0,s)}}function YE(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])YE(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);x(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&YE(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pse(t){const e={},n=v(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function mse(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],vse(s)),e}function gse(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response"]);return s!=null&&x(e,["response"],yse(s)),e}function vse(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>xse(s))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function yse(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>bse(s))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function xse(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],Ase(n)),e}function bse(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],Cse(n)),e}function _se(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Ese(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Tse(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response"]);return s!=null&&x(e,["response"],Sse(s)),e}function Sse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function M3(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response"]);return s!=null&&x(e,["response"],wse(s)),e}function wse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function Ase(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],kw(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function Cse(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],kw(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sD||(sD={}));var lD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(lD||(lD={}));var uD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uD||(uD={}));var bs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(bs||(bs={}));var cD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cD||(cD={}));var fD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fD||(fD={}));var dD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dD||(dD={}));var hD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hD||(hD={}));var pD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(pD||(pD={}));var mD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mD||(mD={}));var gD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gD||(gD={}));var vD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(vD||(vD={}));var yD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yD||(yD={}));var xD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xD||(xD={}));var bD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bD||(bD={}));var _D;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(_D||(_D={}));var ED;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ED||(ED={}));var TD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(TD||(TD={}));var SD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(SD||(SD={}));var wD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(wD||(wD={}));var AD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(AD||(AD={}));var Gg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Gg||(Gg={}));var CD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(CD||(CD={}));var ND;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ND||(ND={}));var ID;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ID||(ID={}));var WE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(WE||(WE={}));var RD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RD||(RD={}));var PD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(PD||(PD={}));var MD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(MD||(MD={}));var DD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DD||(DD={}));var OD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(OD||(OD={}));var kD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kD||(kD={}));var LD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(LD||(LD={}));var jD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jD||(jD={}));var UD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(UD||(UD={}));var VD;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(VD||(VD={}));var BD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BD||(BD={}));var zD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(zD||(zD={}));var FD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(FD||(FD={}));var qD;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qD||(qD={}));var $D;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($D||($D={}));var HD;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(HD||(HD={}));var GD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(GD||(GD={}));var KD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KD||(KD={}));var YD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(YD||(YD={}));var WD;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(WD||(WD={}));var JD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(JD||(JD={}));var XD;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(XD||(XD={}));var QD;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(QD||(QD={}));var ZD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ZD||(ZD={}));var eO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eO||(eO={}));var tO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tO||(tO={}));var nO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nO||(nO={}));var rO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rO||(rO={}));var iO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(iO||(iO={}));var ec;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ec||(ec={}));class JE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class rd{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,A]of Object.entries(g))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(A!==null||A!==void 0)&&p.push(_);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,_]of Object.entries(p))g!=="inlineData"&&(_!==null||_!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class aO{}class oO{}class Nse{}class Ise{}class Rse{}class Pse{}class sO{}class lO{}class uO{}class Mse{}class Kg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Kg;let i;const a=e;return n?i=gse(a):i=mse(a),Object.assign(r,i),r}}class cO{}class fO{}class dO{}class hO{}class Dse{}class Ose{}class kse{}class Lw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Lw,a=Tse(e);return Object.assign(r,a),r}}class Lse{}class jse{}class Use{}class pO{}class Vse{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Bse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class jw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jw,a=M3(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ct(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function D3(t,e){const n=ct(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function O3(t){return Array.isArray(t)?t.map(e=>Yg(e)):[Yg(t)]}function Yg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function k3(t){const e=Yg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function L3(t){const e=Yg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function j3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>mO(e)):[mO(t)]}function XE(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function gO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function lr(t){if(t==null)throw new Error("ContentUnion is required");return XE(t)?t:{role:"user",parts:j3(t)}}function Uw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=lr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=lr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>lr(n)):[lr(e)]}function bi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(gO(t)||vO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lr(t)]}const e=[],n=[],r=XE(t[0]);for(const i of t){const a=XE(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(gO(i)||vO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:j3(n)}),e}function zse(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(bs).includes(n[0].toUpperCase())?n[0].toUpperCase():bs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(bs).includes(r.toUpperCase())?r.toUpperCase():bs.TYPE_UNSPECIFIED})}}function ic(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&zse(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(bs).includes(u.toUpperCase())?u.toUpperCase():bs.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ic(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(ic(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=ic(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Vw(t){return ic(t)}function Bw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Lc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ic(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ic(e.response));return t}function jc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Fse(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ko(t,e){if(typeof e!="string")throw new Error("name must be a string");return Fse(t,e,"cachedContents")}function U3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Vs(t){return kw(t)}function qse(t){return t!=null&&typeof t=="object"&&"name"in t}function $se(t){return t!=null&&typeof t=="object"&&"video"in t}function Hse(t){return t!=null&&typeof t=="object"&&"uri"in t}function V3(t){var e;let n;if(qse(t)&&(n=t.name),!(Hse(t)&&(n=t.uri,n===void 0))&&!($se(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function B3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function z3(t){for(const e of["models","tunedModels","publisherModels"])if(Gse(t,e))return t[e];return[]}function Gse(t,e){return t!==null&&typeof t=="object"&&e in t}function Kse(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Yse(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Kse(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function F3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Wse(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function q3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Uc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function $3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jse(t){const e={},n=v(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Rle(s))),x(e,["inlinedResponses"],a)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["inlinedEmbedContentResponses"],a)}return e}function Xse(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function Qse(t){const e={},n=v(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bm(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&x(e,["state"],$3(i));const a=v(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const s=v(t,["metadata","endTime"]);s!=null&&x(e,["endTime"],s);const u=v(t,["metadata","updateTime"]);u!=null&&x(e,["updateTime"],u);const c=v(t,["metadata","model"]);c!=null&&x(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&x(e,["dest"],Jse(q3(f))),e}function QE(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["state"]);i!=null&&x(e,["state"],$3(i));const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["createTime"]);s!=null&&x(e,["createTime"],s);const u=v(t,["startTime"]);u!=null&&x(e,["startTime"],u);const c=v(t,["endTime"]);c!=null&&x(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&x(e,["updateTime"],f);const h=v(t,["model"]);h!=null&&x(e,["model"],h);const p=v(t,["inputConfig"]);p!=null&&x(e,["src"],Zse(p));const g=v(t,["outputConfig"]);g!=null&&x(e,["dest"],Xse(q3(g)));const _=v(t,["completionStats"]);return _!=null&&x(e,["completionStats"],_),e}function Zse(t){const e={},n=v(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function ele(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ile(t,s))),x(n,["requests","requests"],a)}return n}function tle(t){const e={},n=v(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nle(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function rle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Uc(t,r)),n}function ile(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Uc(t,r)),n}function ale(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],ole(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&x(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&x(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),x(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function ole(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function H3(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jle(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function sle(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function lle(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],Qse(Wse(i))),n}function yO(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],ele(t,F3(t,i)));const a=v(e,["config"]);return a!=null&&sle(a,n),n}function ule(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],ct(t,r));const i=v(e,["src"]);i!=null&&x(n,["inputConfig"],tle(F3(t,i)));const a=v(e,["config"]);return a!=null&&lle(a,n),n}function cle(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function fle(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],yle(t,i));const a=v(e,["config"]);return a!=null&&cle(a,n),n}function dle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Uc(t,r)),n}function hle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Uc(t,r)),n}function ple(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);return a!=null&&x(e,["error"],a),e}function mle(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);return a!=null&&x(e,["error"],a),e}function gle(t,e){const n={},r=v(e,["contents"]);if(r!=null){let a=Uw(t,r);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["requests[]","request","content"],a)}const i=v(e,["config"]);return i!=null&&(x(n,["_self"],vle(i,n)),hse(n,{"requests[].*":"requests[].request.*"})),n}function vle(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yle(t,e){const n={},r=v(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],gle(t,i)),n}function xle(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function ble(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _le(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&x(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ele(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],H3(lr(i)));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(r,["topP"],s);const u=v(e,["topK"]);u!=null&&x(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&x(r,["logprobs"],g);const _=v(e,["presencePenalty"]);_!=null&&x(r,["presencePenalty"],_);const A=v(e,["frequencyPenalty"]);A!=null&&x(r,["frequencyPenalty"],A);const S=v(e,["seed"]);S!=null&&x(r,["seed"],S);const w=v(e,["responseMimeType"]);w!=null&&x(r,["responseMimeType"],w);const I=v(e,["responseSchema"]);I!=null&&x(r,["responseSchema"],Vw(I));const O=v(e,["responseJsonSchema"]);if(O!=null&&x(r,["responseJsonSchema"],O),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=v(e,["safetySettings"]);if(n!==void 0&&P!=null){let U=P;Array.isArray(U)&&(U=U.map(de=>Ule(de))),x(n,["safetySettings"],U)}const B=v(e,["tools"]);if(n!==void 0&&B!=null){let U=jc(B);Array.isArray(U)&&(U=U.map(de=>Ble(Lc(de)))),x(n,["tools"],U)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],Vle(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=v(e,["cachedContent"]);n!==void 0&&z!=null&&x(n,["cachedContent"],ko(t,z));const D=v(e,["responseModalities"]);D!=null&&x(r,["responseModalities"],D);const k=v(e,["mediaResolution"]);k!=null&&x(r,["mediaResolution"],k);const j=v(e,["speechConfig"]);if(j!=null&&x(r,["speechConfig"],Bw(j)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=v(e,["thinkingConfig"]);F!=null&&x(r,["thinkingConfig"],F);const q=v(e,["imageConfig"]);q!=null&&x(r,["imageConfig"],Nle(q));const $=v(e,["enableEnhancedCivicAnswers"]);return $!=null&&x(r,["enableEnhancedCivicAnswers"],$),r}function Tle(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ale(f))),x(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&x(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function Sle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Uc(t,r)),n}function wle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Uc(t,r)),n}function Ale(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Cle(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Nle(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ile(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["request","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let u=bi(i);Array.isArray(u)&&(u=u.map(c=>H3(c))),x(n,["request","contents"],u)}const a=v(e,["metadata"]);a!=null&&x(n,["metadata"],a);const s=v(e,["config"]);return s!=null&&x(n,["request","generationConfig"],Ele(t,s,v(n,["request"],{}))),n}function Rle(t){const e={},n=v(t,["response"]);n!=null&&x(e,["response"],Tle(n));const r=v(t,["error"]);return r!=null&&x(e,["error"],r),e}function Ple(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Mle(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function Dle(t){const e={},n=v(t,["config"]);return n!=null&&Ple(n,e),e}function Ole(t){const e={},n=v(t,["config"]);return n!=null&&Mle(n,e),e}function kle(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Bm(s))),x(e,["batchJobs"],a)}return e}function Lle(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>QE(s))),x(e,["batchJobs"],a)}return e}function jle(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],xle(a));const s=v(t,["functionCall"]);s!=null&&x(e,["functionCall"],ble(s));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&x(e,["inlineData"],nle(c));const f=v(t,["text"]);f!=null&&x(e,["text"],f);const h=v(t,["thought"]);h!=null&&x(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function Ule(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function Vle(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],_le(r)),e}function Ble(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=v(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&x(e,["googleMaps"],Ale(s));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Cle(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&x(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Eo||(Eo={}));class Ql{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zle extends Oo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ql(Eo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=yO(this.apiClient,e),r=n._url,i=Ee("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const _=p.request;_.systemInstruction=g,p.request=_}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ule(this.apiClient,e);return u=Ee("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>QE(h))}else{const f=yO(this.apiClient,e);return u=Ee("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Bm(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fle(this.apiClient,e);return a=Ee("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Bm(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wle(this.apiClient,e);return u=Ee("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>QE(h))}else{const f=Sle(this.apiClient,e);return u=Ee("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Bm(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=ile(this.apiClient,e);s=Ee("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=rle(this.apiClient,e);s=Ee("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ole(e);return u=Ee("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Lle(h),g=new pO;return Object.assign(g,p),g})}else{const f=Dle(e);return u=Ee("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kle(h),g=new pO;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=hle(this.apiClient,e);return u=Ee("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>mle(h))}else{const f=dle(this.apiClient,e);return u=Ee("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>ple(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fle(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function xO(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fue(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function qle(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let h=bi(s);Array.isArray(h)&&(h=h.map(p=>xO(p))),x(e,["contents"],h)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&x(e,["systemInstruction"],xO(lr(u)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>hue(p))),x(e,["tools"],h)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&x(e,["toolConfig"],due(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $le(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let p=bi(s);Array.isArray(p)&&(p=p.map(g=>g)),x(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&x(e,["systemInstruction"],lr(u));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>pue(g))),x(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&x(e,["toolConfig"],f);const h=v(t,["kmsKeyName"]);return e!==void 0&&h!=null&&x(e,["encryption_spec","kmsKeyName"],h),n}function Hle(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],D3(t,r));const i=v(e,["config"]);return i!=null&&qle(i,n),n}function Gle(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],D3(t,r));const i=v(e,["config"]);return i!=null&&$le(i,n),n}function Kle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ko(t,r)),n}function Yle(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ko(t,r)),n}function Wle(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Jle(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Xle(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Qle(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zle(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&x(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eue(t){const e={},n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&x(e,["response"],s);const u=v(t,["responseJsonSchema"]);if(u!=null&&x(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function tue(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ko(t,r)),n}function nue(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ko(t,r)),n}function rue(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function iue(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function aue(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function oue(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function sue(t){const e={},n=v(t,["config"]);return n!=null&&aue(n,e),e}function lue(t){const e={},n=v(t,["config"]);return n!=null&&oue(n,e),e}function uue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function cue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function fue(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],Xle(a));const s=v(t,["functionCall"]);s!=null&&x(e,["functionCall"],Qle(s));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&x(e,["inlineData"],Fle(c));const f=v(t,["text"]);f!=null&&x(e,["text"],f);const h=v(t,["thought"]);h!=null&&x(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function due(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],Zle(r)),e}function hue(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=v(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&x(e,["googleMaps"],rue(s));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],iue(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&x(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function pue(t){const e={},n=v(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const a=v(t,["enterpriseWebSearch"]);a!=null&&x(e,["enterpriseWebSearch"],a);const s=v(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>eue(g))),x(e,["functionDeclarations"],p)}const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const c=v(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const h=v(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function mue(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function gue(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function vue(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],ko(t,r));const i=v(e,["config"]);return i!=null&&mue(i,n),n}function yue(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],ko(t,r));const i=v(e,["config"]);return i!=null&&gue(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xue extends Oo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ql(Eo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gle(this.apiClient,e);return u=Ee("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Hle(this.apiClient,e);return u=Ee("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=nue(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=tue(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Yle(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Jle(h),g=new dO;return Object.assign(g,p),g})}else{const f=Kle(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Wle(h),g=new dO;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yue(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=vue(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=lue(e);return u=Ee("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=cue(h),g=new hO;return Object.assign(g,p),g})}else{const f=sue(e);return u=Ee("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=uue(h),g=new hO;return Object.assign(g,p),g})}}}function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(t){return this instanceof Fe?(this.v=t,this):new Fe(t)}function Fi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(A){return Promise.resolve(A).then(_,p)}}function u(_,A){r[_]&&(i[_]=function(S){return new Promise(function(w,I){a.push([_,S,w,I])>1||c(_,S)})},A&&(i[_]=A(i[_])))}function c(_,A){try{f(r[_](A))}catch(S){g(a[0][3],S)}}function f(_){_.value instanceof Fe?Promise.resolve(_.value.v).then(h,p):g(a[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function g(_,A){_(A),a.shift(),a.length&&c(a[0][0],a[0][1])}}function qi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bO=="function"?bO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bue(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:G3(n)}function G3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function _ue(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _O(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!G3(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Eue{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Tue(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Tue{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),_ue(a)}async sendMessage(e){var n;await this.sendPromise;const r=lr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const _=f?[f]:[];this.recordHistory(r,_,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=lr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?_O(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Fi(this,arguments,function*(){var i,a,s,u,c,f;const h=[];try{for(var p=!0,g=qi(e),_;_=yield Fe(g.next()),i=_.done,!i;p=!0){u=_.value,p=!1;const A=u;if(bue(A)){const S=(f=(c=A.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;S!==void 0&&h.push(S)}yield yield Fe(A)}}catch(A){a={error:A}}finally{try{!p&&!i&&(s=g.return)&&(yield Fe(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._O(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class my extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,my.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sue(t){const e={},n=v(t,["file"]);return n!=null&&x(e,["file"],n),e}function wue(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Aue(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],V3(n)),e}function Cue(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Nue(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],V3(n)),e}function Iue(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Rue(t){const e={},n=v(t,["config"]);return n!=null&&Iue(n,e),e}function Pue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mue extends Oo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ql(Eo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rue(e);return a=Ee("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Pue(c),h=new Lse;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sue(e);return a=Ee("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=wue(c),h=new jse;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nue(e);return a=Ee("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Aue(e);return a=Ee("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Cue(c),h=new Use;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zm(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Due(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Wue(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function Oue(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function kue(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lue(t){const e={},n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&x(e,["response"],s);const u=v(t,["responseJsonSchema"]);if(u!=null&&x(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jue(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&x(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&x(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&x(e,["responseLogprobs"],g);const _=v(t,["responseMimeType"]);_!=null&&x(e,["responseMimeType"],_);const A=v(t,["responseModalities"]);A!=null&&x(e,["responseModalities"],A);const S=v(t,["responseSchema"]);S!=null&&x(e,["responseSchema"],S);const w=v(t,["routingConfig"]);w!=null&&x(e,["routingConfig"],w);const I=v(t,["seed"]);I!=null&&x(e,["seed"],I);const O=v(t,["speechConfig"]);O!=null&&x(e,["speechConfig"],O);const P=v(t,["stopSequences"]);P!=null&&x(e,["stopSequences"],P);const B=v(t,["temperature"]);B!=null&&x(e,["temperature"],B);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const z=v(t,["topK"]);z!=null&&x(e,["topK"],z);const D=v(t,["topP"]);if(D!=null&&x(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Uue(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Vue(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Bue(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],zw(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","thinkingConfig"],g);const _=v(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],_);const A=v(t,["systemInstruction"]);e!==void 0&&A!=null&&x(e,["setup","systemInstruction"],Due(lr(A)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let z=jc(S);Array.isArray(z)&&(z=z.map(D=>Xue(Lc(D)))),x(e,["setup","tools"],z)}const w=v(t,["sessionResumption"]);e!==void 0&&w!=null&&x(e,["setup","sessionResumption"],Jue(w));const I=v(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&x(e,["setup","inputAudioTranscription"],I);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&x(e,["setup","outputAudioTranscription"],O);const P=v(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&x(e,["setup","realtimeInputConfig"],P);const B=v(t,["contextWindowCompression"]);e!==void 0&&B!=null&&x(e,["setup","contextWindowCompression"],B);const L=v(t,["proactivity"]);if(e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function zue(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],jue(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],zw(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","thinkingConfig"],g);const _=v(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],_);const A=v(t,["systemInstruction"]);e!==void 0&&A!=null&&x(e,["setup","systemInstruction"],lr(A));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let D=jc(S);Array.isArray(D)&&(D=D.map(k=>Que(Lc(k)))),x(e,["setup","tools"],D)}const w=v(t,["sessionResumption"]);e!==void 0&&w!=null&&x(e,["setup","sessionResumption"],w);const I=v(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&x(e,["setup","inputAudioTranscription"],I);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&x(e,["setup","outputAudioTranscription"],O);const P=v(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&x(e,["setup","realtimeInputConfig"],P);const B=v(t,["contextWindowCompression"]);e!==void 0&&B!=null&&x(e,["setup","contextWindowCompression"],B);const L=v(t,["proactivity"]);e!==void 0&&L!=null&&x(e,["setup","proactivity"],L);const z=v(t,["explicitVadSignal"]);return e!==void 0&&z!=null&&x(e,["setup","explicitVadSignal"],z),n}function Fue(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],ct(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],Bue(i,n)),n}function que(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],ct(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],zue(i,n)),n}function $ue(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function Hue(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function Gue(t){const e={},n=v(t,["media"]);if(n!=null){let f=O3(n);Array.isArray(f)&&(f=f.map(h=>zm(h))),x(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],zm(L3(r)));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&x(e,["video"],zm(k3(a)));const s=v(t,["text"]);s!=null&&x(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&x(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&x(e,["activityEnd"],c),e}function Kue(t){const e={},n=v(t,["media"]);if(n!=null){let f=O3(n);Array.isArray(f)&&(f=f.map(h=>h)),x(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],L3(r));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&x(e,["video"],k3(a));const s=v(t,["text"]);s!=null&&x(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&x(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&x(e,["activityEnd"],c),e}function Yue(t){const e={},n=v(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=v(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const s=v(t,["usageMetadata"]);s!=null&&x(e,["usageMetadata"],Zue(s));const u=v(t,["goAway"]);u!=null&&x(e,["goAway"],u);const c=v(t,["sessionResumptionUpdate"]);c!=null&&x(e,["sessionResumptionUpdate"],c);const f=v(t,["voiceActivityDetectionSignal"]);f!=null&&x(e,["voiceActivityDetectionSignal"],f);const h=v(t,["voiceActivity"]);return h!=null&&x(e,["voiceActivity"],ece(h)),e}function Wue(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],Oue(a));const s=v(t,["functionCall"]);s!=null&&x(e,["functionCall"],kue(s));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&x(e,["inlineData"],zm(c));const f=v(t,["text"]);f!=null&&x(e,["text"],f);const h=v(t,["thought"]);h!=null&&x(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function Jue(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xue(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=v(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&x(e,["googleMaps"],Uue(s));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Vue(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&x(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function Que(t){const e={},n=v(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const a=v(t,["enterpriseWebSearch"]);a!=null&&x(e,["enterpriseWebSearch"],a);const s=v(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Lue(g))),x(e,["functionDeclarations"],p)}const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const c=v(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const h=v(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function Zue(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=v(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const s=v(t,["thoughtsTokenCount"]);s!=null&&x(e,["thoughtsTokenCount"],s);const u=v(t,["totalTokenCount"]);u!=null&&x(e,["totalTokenCount"],u);const c=v(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(A=>A)),x(e,["promptTokensDetails"],_)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(A=>A)),x(e,["cacheTokensDetails"],_)}const h=v(t,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(A=>A)),x(e,["responseTokensDetails"],_)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(A=>A)),x(e,["toolUsePromptTokensDetails"],_)}const g=v(t,["trafficType"]);return g!=null&&x(e,["trafficType"],g),e}function ece(t){const e={},n=v(t,["type"]);return n!=null&&x(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tce(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function nce(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],rce(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&x(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&x(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),x(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function rce(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function ice(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let a=bi(i);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["contents"],a)}return n}function ace(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function oce(t){const e={},n=v(t,["values"]);n!=null&&x(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&x(e,["statistics"],sce(r)),e}function sce(t){const e={},n=v(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function gy(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gfe(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function lce(t){const e={},n=v(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function uce(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function cce(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],lr(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>J3(u))),x(e,["tools"],s)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],tfe(a)),n}function fce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>gy(u))),x(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&uce(a),n}function dce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>u)),x(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&cce(a,n),n}function hce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function pce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function mce(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],ct(t,r)),n}function gce(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],ct(t,r)),n}function vce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function yce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function xce(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&x(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&x(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&x(e,["parameters","includeRaiReason"],g);const _=v(t,["language"]);e!==void 0&&_!=null&&x(e,["parameters","language"],_);const A=v(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const S=v(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S);const w=v(t,["addWatermark"]);e!==void 0&&w!=null&&x(e,["parameters","addWatermark"],w);const I=v(t,["labels"]);e!==void 0&&I!=null&&x(e,["labels"],I);const O=v(t,["editMode"]);e!==void 0&&O!=null&&x(e,["parameters","editMode"],O);const P=v(t,["baseSteps"]);return e!==void 0&&P!=null&&x(e,["parameters","editConfig","baseSteps"],P),n}function bce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Efe(c))),x(n,["instances[0]","referenceImages"],u)}const s=v(e,["config"]);return s!=null&&xce(s,n),n}function _ce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>vy(a))),x(e,["generatedImages"],i)}return e}function Ece(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Tce(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=v(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&x(e,["instances[]","mimeType"],s);const u=v(t,["autoTruncate"]);return e!==void 0&&u!=null&&x(e,["parameters","autoTruncate"],u),n}function Sce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let u=Uw(t,i);Array.isArray(u)&&(u=u.map(c=>c)),x(n,["requests[]","content"],u)}const a=v(e,["config"]);a!=null&&Ece(a,n);const s=v(e,["model"]);return s!==void 0&&x(n,["requests[]","model"],ct(t,s)),n}function wce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let s=Uw(t,i);Array.isArray(s)&&(s=s.map(u=>u)),x(n,["instances[]","content"],s)}const a=v(e,["config"]);return a!=null&&Tce(a,n),n}function Ace(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function Cce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>oce(s))),x(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function Nce(t){const e={},n=v(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function Ice(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Rce(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pce(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&x(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Mce(t){const e={},n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&x(e,["response"],s);const u=v(t,["responseJsonSchema"]);if(u!=null&&x(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Dce(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],gy(lr(i)));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(r,["topP"],s);const u=v(e,["topK"]);u!=null&&x(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&x(r,["logprobs"],g);const _=v(e,["presencePenalty"]);_!=null&&x(r,["presencePenalty"],_);const A=v(e,["frequencyPenalty"]);A!=null&&x(r,["frequencyPenalty"],A);const S=v(e,["seed"]);S!=null&&x(r,["seed"],S);const w=v(e,["responseMimeType"]);w!=null&&x(r,["responseMimeType"],w);const I=v(e,["responseSchema"]);I!=null&&x(r,["responseSchema"],Vw(I));const O=v(e,["responseJsonSchema"]);if(O!=null&&x(r,["responseJsonSchema"],O),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=v(e,["safetySettings"]);if(n!==void 0&&P!=null){let U=P;Array.isArray(U)&&(U=U.map(de=>Tfe(de))),x(n,["safetySettings"],U)}const B=v(e,["tools"]);if(n!==void 0&&B!=null){let U=jc(B);Array.isArray(U)&&(U=U.map(de=>Rfe(Lc(de)))),x(n,["tools"],U)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],Ife(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=v(e,["cachedContent"]);n!==void 0&&z!=null&&x(n,["cachedContent"],ko(t,z));const D=v(e,["responseModalities"]);D!=null&&x(r,["responseModalities"],D);const k=v(e,["mediaResolution"]);k!=null&&x(r,["mediaResolution"],k);const j=v(e,["speechConfig"]);if(j!=null&&x(r,["speechConfig"],Bw(j)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=v(e,["thinkingConfig"]);F!=null&&x(r,["thinkingConfig"],F);const q=v(e,["imageConfig"]);q!=null&&x(r,["imageConfig"],ofe(q));const $=v(e,["enableEnhancedCivicAnswers"]);return $!=null&&x(r,["enableEnhancedCivicAnswers"],$),r}function Oce(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],lr(i));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(r,["topP"],s);const u=v(e,["topK"]);u!=null&&x(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&x(r,["logprobs"],g);const _=v(e,["presencePenalty"]);_!=null&&x(r,["presencePenalty"],_);const A=v(e,["frequencyPenalty"]);A!=null&&x(r,["frequencyPenalty"],A);const S=v(e,["seed"]);S!=null&&x(r,["seed"],S);const w=v(e,["responseMimeType"]);w!=null&&x(r,["responseMimeType"],w);const I=v(e,["responseSchema"]);I!=null&&x(r,["responseSchema"],Vw(I));const O=v(e,["responseJsonSchema"]);O!=null&&x(r,["responseJsonSchema"],O);const P=v(e,["routingConfig"]);P!=null&&x(r,["routingConfig"],P);const B=v(e,["modelSelectionConfig"]);B!=null&&x(r,["modelConfig"],B);const L=v(e,["safetySettings"]);if(n!==void 0&&L!=null){let W=L;Array.isArray(W)&&(W=W.map(oe=>oe)),x(n,["safetySettings"],W)}const z=v(e,["tools"]);if(n!==void 0&&z!=null){let W=jc(z);Array.isArray(W)&&(W=W.map(oe=>J3(Lc(oe)))),x(n,["tools"],W)}const D=v(e,["toolConfig"]);n!==void 0&&D!=null&&x(n,["toolConfig"],D);const k=v(e,["labels"]);n!==void 0&&k!=null&&x(n,["labels"],k);const j=v(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],ko(t,j));const F=v(e,["responseModalities"]);F!=null&&x(r,["responseModalities"],F);const q=v(e,["mediaResolution"]);q!=null&&x(r,["mediaResolution"],q);const $=v(e,["speechConfig"]);$!=null&&x(r,["speechConfig"],Bw($));const U=v(e,["audioTimestamp"]);U!=null&&x(r,["audioTimestamp"],U);const de=v(e,["thinkingConfig"]);de!=null&&x(r,["thinkingConfig"],de);const me=v(e,["imageConfig"]);if(me!=null&&x(r,["imageConfig"],sfe(me)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function EO(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>gy(u))),x(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(n,["generationConfig"],Dce(t,a,n)),n}function TO(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>u)),x(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(n,["generationConfig"],Oce(t,a,n)),n}function SO(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>nce(f))),x(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&x(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function wO(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),x(e,["candidates"],f)}const i=v(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=v(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const s=v(t,["promptFeedback"]);s!=null&&x(e,["promptFeedback"],s);const u=v(t,["responseId"]);u!=null&&x(e,["responseId"],u);const c=v(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function kce(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&x(e,["parameters","safetySetting"],s);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&x(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&x(e,["parameters","includeRaiReason"],f);const h=v(t,["language"]);e!==void 0&&h!=null&&x(e,["parameters","language"],h);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&x(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=v(t,["imageSize"]);if(e!==void 0&&_!=null&&x(e,["parameters","sampleImageSize"],_),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Lce(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&x(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&x(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&x(e,["parameters","includeRaiReason"],g);const _=v(t,["language"]);e!==void 0&&_!=null&&x(e,["parameters","language"],_);const A=v(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const S=v(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S);const w=v(t,["addWatermark"]);e!==void 0&&w!=null&&x(e,["parameters","addWatermark"],w);const I=v(t,["labels"]);e!==void 0&&I!=null&&x(e,["labels"],I);const O=v(t,["imageSize"]);e!==void 0&&O!=null&&x(e,["parameters","sampleImageSize"],O);const P=v(t,["enhancePrompt"]);return e!==void 0&&P!=null&&x(e,["parameters","enhancePrompt"],P),n}function jce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&kce(a,n),n}function Uce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&Lce(a,n),n}function Vce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Xce(s))),x(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],Y3(i)),e}function Bce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>vy(s))),x(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],W3(i)),e}function zce(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const s=v(t,["resolution"]);e!==void 0&&s!=null&&x(e,["parameters","resolution"],s);const u=v(t,["personGeneration"]);if(e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&x(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&x(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(t,["lastFrame"]);e!==void 0&&h!=null&&x(e,["instances[0]","lastFrame"],yy(h));const p=v(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(_=>qfe(_))),x(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Fce(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=v(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&x(e,["parameters","durationSeconds"],s);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&x(e,["parameters","resolution"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&x(e,["parameters","personGeneration"],h);const p=v(t,["pubsubTopic"]);e!==void 0&&p!=null&&x(e,["parameters","pubsubTopic"],p);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&x(e,["parameters","negativePrompt"],g);const _=v(t,["enhancePrompt"]);e!==void 0&&_!=null&&x(e,["parameters","enhancePrompt"],_);const A=v(t,["generateAudio"]);e!==void 0&&A!=null&&x(e,["parameters","generateAudio"],A);const S=v(t,["lastFrame"]);e!==void 0&&S!=null&&x(e,["instances[0]","lastFrame"],Xi(S));const w=v(t,["referenceImages"]);if(e!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(B=>$fe(B))),x(e,["instances[0]","referenceImages"],P)}const I=v(t,["mask"]);e!==void 0&&I!=null&&x(e,["instances[0]","mask"],Ffe(I));const O=v(t,["compressionQuality"]);return e!==void 0&&O!=null&&x(e,["parameters","compressionQuality"],O),n}function qce(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],Kce(s)),e}function $ce(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response"]);return s!=null&&x(e,["response"],Yce(s)),e}function Hce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(n,["instances[0]","image"],yy(a));const s=v(e,["video"]);s!=null&&x(n,["instances[0]","video"],X3(s));const u=v(e,["source"]);u!=null&&Wce(u,n);const c=v(e,["config"]);return c!=null&&zce(c,n),n}function Gce(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(n,["instances[0]","image"],Xi(a));const s=v(e,["video"]);s!=null&&x(n,["instances[0]","video"],Q3(s));const u=v(e,["source"]);u!=null&&Jce(u,n);const c=v(e,["config"]);return c!=null&&Fce(c,n),n}function Kce(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Zce(s))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Yce(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>efe(s))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Wce(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],yy(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],X3(a)),n}function Jce(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Xi(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],Q3(a)),n}function Xce(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],lfe(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],Y3(i)),e}function vy(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],K3(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&x(e,["safetyAttributes"],W3(i));const a=v(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function Qce(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["mask"],K3(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function Zce(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],Bfe(n)),e}function efe(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],zfe(n)),e}function tfe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&x(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&x(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&x(e,["responseLogprobs"],g);const _=v(t,["responseMimeType"]);_!=null&&x(e,["responseMimeType"],_);const A=v(t,["responseModalities"]);A!=null&&x(e,["responseModalities"],A);const S=v(t,["responseSchema"]);S!=null&&x(e,["responseSchema"],S);const w=v(t,["routingConfig"]);w!=null&&x(e,["routingConfig"],w);const I=v(t,["seed"]);I!=null&&x(e,["seed"],I);const O=v(t,["speechConfig"]);O!=null&&x(e,["speechConfig"],O);const P=v(t,["stopSequences"]);P!=null&&x(e,["stopSequences"],P);const B=v(t,["temperature"]);B!=null&&x(e,["temperature"],B);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const z=v(t,["topK"]);z!=null&&x(e,["topK"],z);const D=v(t,["topP"]);if(D!=null&&x(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nfe(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],ct(t,r)),n}function rfe(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],ct(t,r)),n}function ife(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function afe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function ofe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sfe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=v(t,["personGeneration"]);i!=null&&x(e,["personGeneration"],i);const a=v(t,["outputMimeType"]);a!=null&&x(e,["imageOutputOptions","mimeType"],a);const s=v(t,["outputCompressionQuality"]);return s!=null&&x(e,["imageOutputOptions","compressionQuality"],s),e}function lfe(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],Vs(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function K3(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],Vs(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function yy(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],Vs(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Xi(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Vs(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function ufe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],B3(t,u)),r}function cfe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],B3(t,u)),r}function ffe(t,e){const n={},r=v(e,["config"]);return r!=null&&ufe(t,r,n),n}function dfe(t,e){const n={},r=v(e,["config"]);return r!=null&&cfe(t,r,n),n}function hfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=z3(i);Array.isArray(a)&&(a=a.map(s=>ZE(s))),x(e,["models"],a)}return e}function pfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=z3(i);Array.isArray(a)&&(a=a.map(s=>eT(s))),x(e,["models"],a)}return e}function mfe(t){const e={},n=v(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function ZE(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const a=v(t,["version"]);a!=null&&x(e,["version"],a);const s=v(t,["_self"]);s!=null&&x(e,["tunedModelInfo"],Pfe(s));const u=v(t,["inputTokenLimit"]);u!=null&&x(e,["inputTokenLimit"],u);const c=v(t,["outputTokenLimit"]);c!=null&&x(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&x(e,["supportedActions"],f);const h=v(t,["temperature"]);h!=null&&x(e,["temperature"],h);const p=v(t,["maxTemperature"]);p!=null&&x(e,["maxTemperature"],p);const g=v(t,["topP"]);g!=null&&x(e,["topP"],g);const _=v(t,["topK"]);_!=null&&x(e,["topK"],_);const A=v(t,["thinking"]);return A!=null&&x(e,["thinking"],A),e}function eT(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const a=v(t,["versionId"]);a!=null&&x(e,["version"],a);const s=v(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Nce(g))),x(e,["endpoints"],p)}const u=v(t,["labels"]);u!=null&&x(e,["labels"],u);const c=v(t,["_self"]);c!=null&&x(e,["tunedModelInfo"],Mfe(c));const f=v(t,["defaultCheckpointId"]);f!=null&&x(e,["defaultCheckpointId"],f);const h=v(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["checkpoints"],p)}return e}function gfe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],Ice(a));const s=v(t,["functionCall"]);s!=null&&x(e,["functionCall"],Rce(s));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&x(e,["inlineData"],tce(c));const f=v(t,["text"]);f!=null&&x(e,["text"],f);const h=v(t,["thought"]);h!=null&&x(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function vfe(t){const e={},n=v(t,["productImage"]);return n!=null&&x(e,["image"],Xi(n)),e}function yfe(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const s=v(t,["seed"]);e!==void 0&&s!=null&&x(e,["parameters","seed"],s);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&x(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&x(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&x(e,["parameters","addWatermark"],f);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&x(e,["parameters","outputOptions","mimeType"],h);const p=v(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","compressionQuality"],p);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&x(e,["parameters","enhancePrompt"],g);const _=v(t,["labels"]);return e!==void 0&&_!=null&&x(e,["labels"],_),n}function xfe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["source"]);i!=null&&_fe(i,n);const a=v(e,["config"]);return a!=null&&yfe(a,n),n}function bfe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vy(i))),x(e,["generatedImages"],r)}return e}function _fe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],Xi(i));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>vfe(u))),x(e,["instances[0]","productImages"],s)}return n}function Efe(t){const e={},n=v(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],Xi(n));const r=v(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=v(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],mfe(a));const s=v(t,["controlImageConfig"]);s!=null&&x(e,["controlImageConfig"],lce(s));const u=v(t,["styleImageConfig"]);u!=null&&x(e,["styleImageConfig"],u);const c=v(t,["subjectImageConfig"]);return c!=null&&x(e,["subjectImageConfig"],c),e}function Y3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function W3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function Tfe(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function Sfe(t){const e={},n=v(t,["image"]);return n!=null&&x(e,["image"],Xi(n)),e}function wfe(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const s=v(t,["maskDilation"]);e!==void 0&&s!=null&&x(e,["parameters","maskDilation"],s);const u=v(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&x(e,["parameters","binaryColorThreshold"],u);const c=v(t,["labels"]);return e!==void 0&&c!=null&&x(e,["labels"],c),n}function Afe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["source"]);i!=null&&Nfe(i,n);const a=v(e,["config"]);return a!=null&&wfe(a,n),n}function Cfe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Qce(i))),x(e,["generatedMasks"],r)}return e}function Nfe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Xi(i));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],Sfe(a)),n}function Ife(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],Pce(r)),e}function Rfe(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=v(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&x(e,["googleMaps"],ife(s));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],afe(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&x(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function J3(t){const e={},n=v(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const a=v(t,["enterpriseWebSearch"]);a!=null&&x(e,["enterpriseWebSearch"],a);const s=v(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Mce(g))),x(e,["functionDeclarations"],p)}const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const c=v(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const h=v(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function Pfe(t){const e={},n=v(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function Mfe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function Dfe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function Ofe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function kfe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","name"],ct(t,r));const i=v(e,["config"]);return i!=null&&Dfe(i,n),n}function Lfe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["config"]);return i!=null&&Ofe(i,n),n}function jfe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const s=v(t,["includeRaiReason"]);e!==void 0&&s!=null&&x(e,["parameters","includeRaiReason"],s);const u=v(t,["outputMimeType"]);e!==void 0&&u!=null&&x(e,["parameters","outputOptions","mimeType"],u);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&x(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=v(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&x(e,["parameters","sampleCount"],g);const _=v(t,["mode"]);return e!==void 0&&_!=null&&x(e,["parameters","mode"],_),n}function Ufe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],ct(t,r));const i=v(e,["image"]);i!=null&&x(n,["instances[0]","image"],Xi(i));const a=v(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=v(e,["config"]);return s!=null&&jfe(s,n),n}function Vfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>vy(a))),x(e,["generatedImages"],i)}return e}function Bfe(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Vs(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function zfe(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Vs(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function Ffe(t){const e={},n=v(t,["image"]);n!=null&&x(e,["_self"],Xi(n));const r=v(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function qfe(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],yy(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function $fe(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],Xi(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function X3(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],Vs(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function Q3(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Vs(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hfe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function Gfe(t){const e={},n=v(t,["config"]);return n!=null&&Hfe(n,e),e}function Kfe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function Yfe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Kfe(r,e),e}function Wfe(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function Jfe(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["customMetadata"],a)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function Xfe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const s=v(t,["response"]);return s!=null&&x(e,["response"],Zfe(s)),e}function Qfe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&Jfe(i,e),e}function Zfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function ede(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function tde(t){const e={},n=v(t,["config"]);return n!=null&&ede(n,e),e}function nde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["fileSearchStores"],a)}return e}function Z3(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=v(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),x(e,["customMetadata"],u)}const s=v(t,["chunkingConfig"]);return e!==void 0&&s!=null&&x(e,["chunkingConfig"],s),n}function rde(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&Z3(r,e),e}function ide(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ade="Content-Type",ode="X-Server-Timeout",sde="User-Agent",tT="x-goog-api-client",lde="1.37.0",ude=`google-genai-sdk/${lde}`,cde="v1beta1",fde="v1beta";class dde{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cde,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:fde,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&hde(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AO(i),new JE(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Fi(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Fe(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const A=JSON.parse(p);if("error"in A){const S=JSON.parse(JSON.stringify(A.error)),w=S.status,I=S.code,O=`got status: ${w}. ${JSON.stringify(A)}`;if(I>=400&&I<600)throw new my({message:O,status:I})}}catch(A){if(A.name==="ApiError")throw A}s+=p;let g=-1,_=0;for(;;){g=-1,_=0;for(const w of c){const I=s.indexOf(w);I!==-1&&(g===-1||I<g)&&(g=I,_=w.length)}if(g===-1)break;const A=s.substring(0,g);s=s.substring(g+_);const S=A.trim();if(S.startsWith(u)){const w=S.substring(u.length).trim();try{const I=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Fe(new JE(I))}catch(I){throw new Error(`exception parsing stream chunk ${w}. ${I}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ude+" "+this.clientOptions.userAgentExtra;return e[sde]=n,e[tT]=n,e[ade]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(ode,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=Ee("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&Z3(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function AO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new my({message:i,status:n}):new Error(i)}}function hde(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pde="mcp_used/unknown";let mde=!1;function eV(t){for(const e of t)if(gde(e)||typeof e=="object"&&"inputSchema"in e)return!0;return mde}function tV(t){var e;const n=(e=t[tT])!==null&&e!==void 0?e:"";t[tT]=(n+` ${pde}`).trimStart()}function gde(t){return t!==null&&typeof t=="object"&&t instanceof Fw}function vde(t){return Fi(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield Fe(n.listTools({cursor:i}));for(const u of s.tools)yield yield Fe(u),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class Fw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Fw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,qi(vde(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Yse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yde(t,e,n){const r=new Bse;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class xde{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Ede(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(P=>{f=P}),p=e.callbacks,g=function(){f({})},_=this.apiClient,A={onopen:g,onmessage:P=>{yde(_,p.onmessage,P)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(P){}},S=this.webSocketFactory.create(c,_de(s),A);S.connect(),await h;const O={setup:{model:ct(this.apiClient,e.model)}};return S.send(JSON.stringify(O)),new bde(S,this.apiClient)}}class bde{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Hue(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=$ue(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ec.PLAY)}pause(){this.sendPlaybackControl(ec.PAUSE)}stop(){this.sendPlaybackControl(ec.STOP)}resetContext(){this.sendPlaybackControl(ec.RESET_CONTEXT)}close(){this.conn.close()}}function _de(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ede(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tde="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Sde(t,e,n){const r=new Vse;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Yue(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class wde{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new xde(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&eV(e.config.tools)&&tV(p);const g=Ide(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const j=this.apiClient.getApiKey();let F="BidiGenerateContent",q="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",q="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${F}?${q}=${j}`}let _=()=>{};const A=new Promise(j=>{_=j}),S=e.callbacks,w=function(){var j;(j=S==null?void 0:S.onopen)===null||j===void 0||j.call(S),_({})},I=this.apiClient,O={onopen:w,onmessage:j=>{Sde(I,S.onmessage,j)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(j){}},P=this.webSocketFactory.create(h,Nde(g),O);P.connect(),await A;let B=ct(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const j=this.apiClient.getProject(),F=this.apiClient.getLocation();B=`projects/${j}/locations/${F}/`+B}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gg.AUDIO]}:e.config.responseModalities=[Gg.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],D=[];for(const j of z)if(this.isCallableTool(j)){const F=j;D.push(await F.tool())}else D.push(j);D.length>0&&(e.config.tools=D);const k={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=que(this.apiClient,k):L=Fue(this.apiClient,k),delete L.config,P.send(JSON.stringify(L)),new Cde(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ade={turnComplete:!0};class Cde{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=bi(n.turns),e.isVertexAI()||(r=r.map(i=>gy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Tde)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ade),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Kue(e)}:n={realtimeInput:Gue(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Nde(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ide(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CO=10;function NO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ac(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ac(t){return"callTool"in t&&typeof t.callTool=="function"}function Rde(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ac(i)))!==null&&r!==void 0?r:!1}function IO(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ac(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function RO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pde extends Oo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Rde(n)||NO(n.config))return await this.generateContentInternal(c);const f=IO(n);if(f.length>0){const S=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const g=bi(c.contents),_=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:CO;let A=0;for(;A<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,w=[];for(const I of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(ac(I)){const P=await I.callTool(h.functionCalls);w.push(...P)}A++,p={role:"user",parts:w},c.contents=bi(c.contents),c.contents.push(S),c.contents.push(p),RO(c.config)&&(g.push(S),g.push(p))}return RO(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),NO(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=IO(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ql(Eo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>ac(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&eV(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),tV(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ac(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:CO;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Fi(this,arguments,function*(){for(var g,_,A,S,w,I;u<a;){s&&(u++,s=!1);const L=yield Fe(f.processParamsMaybeAddMcpUsage(p)),z=yield Fe(f.generateContentStreamInternal(L)),D=[],k=[];try{for(var O=!0,P=(_=void 0,qi(z)),B;B=yield Fe(P.next()),g=B.done,!g;O=!0){S=B.value,O=!1;const j=S;if(yield yield Fe(j),j.candidates&&(!((w=j.candidates[0])===null||w===void 0)&&w.content)){k.push(j.candidates[0].content);for(const F of(I=j.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(u<a&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const q=yield Fe(h.get(F.functionCall.name).callTool([F.functionCall]));D.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(j){_={error:j}}finally{try{!O&&!g&&(A=P.return)&&(yield Fe(A.call(P)))}finally{if(_)throw _.error}}if(D.length>0){s=!0;const j=new rd;j.candidates=[{content:{role:"user",parts:D}}],yield yield Fe(j);const F=[];F.push(...k),F.push({role:"user",parts:D});const q=bi(p.contents).concat(F);p.contents=q}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=TO(this.apiClient,e);return u=Ee("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wO(h),g=new rd;return Object.assign(g,p),g})}else{const f=EO(this.apiClient,e);return u=Ee("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=SO(h),g=new rd;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=TO(this.apiClient,e);return u=Ee("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Fi(this,arguments,function*(){var g,_,A,S;try{for(var w=!0,I=qi(p),O;O=yield Fe(I.next()),g=O.done,!g;w=!0){S=O.value,w=!1;const P=S,B=wO(yield Fe(P.json()));B.sdkHttpResponse={headers:P.headers};const L=new rd;Object.assign(L,B),yield yield Fe(L)}}catch(P){_={error:P}}finally{try{!w&&!g&&(A=I.return)&&(yield Fe(A.call(I)))}finally{if(_)throw _.error}}})})}else{const f=EO(this.apiClient,e);return u=Ee("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return Fi(this,arguments,function*(){var g,_,A,S;try{for(var w=!0,I=qi(p),O;O=yield Fe(I.next()),g=O.done,!g;w=!0){S=O.value,w=!1;const P=S,B=SO(yield Fe(P.json()));B.sdkHttpResponse={headers:P.headers};const L=new rd;Object.assign(L,B),yield yield Fe(L)}}catch(P){_={error:P}}finally{try{!w&&!g&&(A=I.return)&&(yield Fe(A.call(I)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wce(this.apiClient,e);return u=Ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Cce(h),g=new aO;return Object.assign(g,p),g})}else{const f=Sce(this.apiClient,e);return u=Ee("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ace(h),g=new aO;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Uce(this.apiClient,e);return u=Ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Bce(h),g=new oO;return Object.assign(g,p),g})}else{const f=jce(this.apiClient,e);return u=Ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Vce(h),g=new oO;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=bce(this.apiClient,e);return a=Ee("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=_ce(c),h=new Nse;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Ufe(this.apiClient,e);return a=Ee("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Vfe(c),h=new Ise;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=xfe(this.apiClient,e);return a=Ee("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=bfe(c),h=new Rse;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Afe(this.apiClient,e);return a=Ee("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Cfe(c),h=new Pse;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=rfe(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>eT(h))}else{const f=nfe(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>ZE(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=dfe(this.apiClient,e);return u=Ee("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pfe(h),g=new sO;return Object.assign(g,p),g})}else{const f=ffe(this.apiClient,e);return u=Ee("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=hfe(h),g=new sO;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Lfe(this.apiClient,e);return u=Ee("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>eT(h))}else{const f=kfe(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>ZE(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gce(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yce(h),g=new lO;return Object.assign(g,p),g})}else{const f=mce(this.apiClient,e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=vce(h),g=new lO;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=dce(this.apiClient,e);return u=Ee("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pce(h),g=new uO;return Object.assign(g,p),g})}else{const f=fce(this.apiClient,e);return u=Ee("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=hce(h),g=new uO;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=ice(this.apiClient,e);return a=Ee("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=ace(c),h=new Mse;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gce(this.apiClient,e);return u=Ee("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=$ce(h),g=new Kg;return Object.assign(g,p),g})}else{const f=Hce(this.apiClient,e);return u=Ee("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=qce(h),g=new Kg;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mde extends Oo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ese(e);return u=Ee("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=_se(e);return u=Ee("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=pse(e);return a=Ee("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dde(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Ode(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>qde(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function kde(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=v(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const s=v(e,["uses"]);n!==void 0&&s!=null&&x(n,["uses"],s);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],Fde(t,u));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&x(n,["fieldMask"],c),r}function Lde(t,e){const n={},r=v(e,["config"]);return r!=null&&x(n,["config"],kde(t,r,n)),n}function jde(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Ude(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vde(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Bde(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function zde(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],zw(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","thinkingConfig"],g);const _=v(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],_);const A=v(t,["systemInstruction"]);e!==void 0&&A!=null&&x(e,["setup","systemInstruction"],Ode(lr(A)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let z=jc(S);Array.isArray(z)&&(z=z.map(D=>Hde(Lc(D)))),x(e,["setup","tools"],z)}const w=v(t,["sessionResumption"]);e!==void 0&&w!=null&&x(e,["setup","sessionResumption"],$de(w));const I=v(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&x(e,["setup","inputAudioTranscription"],I);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&x(e,["setup","outputAudioTranscription"],O);const P=v(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&x(e,["setup","realtimeInputConfig"],P);const B=v(t,["contextWindowCompression"]);e!==void 0&&B!=null&&x(e,["setup","contextWindowCompression"],B);const L=v(t,["proactivity"]);if(e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Fde(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],ct(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],zde(i,n)),n}function qde(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],jde(a));const s=v(t,["functionCall"]);s!=null&&x(e,["functionCall"],Ude(s));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&x(e,["inlineData"],Dde(c));const f=v(t,["text"]);f!=null&&x(e,["text"],f);const h=v(t,["thought"]);h!=null&&x(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function $de(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hde(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=v(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&x(e,["googleMaps"],Vde(s));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Bde(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&x(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gde(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Kde(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Gde(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Yde extends Oo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Lde(this.apiClient,e);a=Ee("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=Kde(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wde(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function Jde(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Wde(r,e),e}function Xde(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function Qde(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Zde(t){const e={},n=v(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&Qde(r,e),e}function ehe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class the extends Oo{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ql(Eo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xde(e);return a=Ee("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jde(e);i=Ee("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zde(e);return a=Ee("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ehe(c),h=new Dse;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nhe extends Oo{constructor(e,n=new the(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ql(Eo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gfe(e);return a=Ee("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wfe(e);return a=Ee("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yfe(e);i=Ee("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tde(e);return a=Ee("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=nde(c),h=new Ose;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rde(e);return a=Ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ide(c),h=new kse;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qfe(e);return a=Ee("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Xfe(c),h=new Lw;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nV=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return nV=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const rhe=()=>nV();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const rT=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Si extends Error{}class br extends Si{constructor(e,n,r,i){super(`${br.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new xy({message:r,cause:rT(n)});const a=n;return e===400?new iV(e,a,r,i):e===401?new aV(e,a,r,i):e===403?new oV(e,a,r,i):e===404?new sV(e,a,r,i):e===409?new lV(e,a,r,i):e===422?new uV(e,a,r,i):e===429?new cV(e,a,r,i):e>=500?new fV(e,a,r,i):new br(e,a,r,i)}}class iT extends br{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xy extends br{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class rV extends xy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class iV extends br{}class aV extends br{}class oV extends br{}class sV extends br{}class lV extends br{}class uV extends br{}class cV extends br{}class fV extends br{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ihe=/^[a-z][a-z0-9+.-]*:/i,ahe=t=>ihe.test(t);let aT=t=>(aT=Array.isArray,aT(t));const ohe=aT;let she=ohe;const PO=she;function lhe(t){if(!t)return!0;for(const e in t)return!1;return!0}function uhe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const che=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Si(`${t} must be an integer`);if(e<0)throw new Si(`${t} must be a positive integer`);return e},fhe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dhe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ku="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hhe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const phe=()=>{var t,e,n,r,i;const a=hhe();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ku,"X-Stainless-OS":DO(Deno.build.os),"X-Stainless-Arch":MO(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ku,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ku,"X-Stainless-OS":DO((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":MO((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=mhe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ku,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ku,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mhe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const MO=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",DO=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let bm;const ghe=()=>bm??(bm=phe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vhe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function dV(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function yhe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return dV({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function hV(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xhe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bhe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pV=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function C_(t,e,n){return pV(),new File(t,e??"unknown_file",n)}function _he(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Ehe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mV=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",The=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&mV(t),She=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function whe(t,e,n){if(pV(),t=await t,The(t))return t instanceof File?t:C_([await t.arrayBuffer()],t.name);if(She(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),C_(await oT(i),e,n)}const r=await oT(t);if(e||(e=_he(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return C_(r,e,n)}async function oT(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(mV(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(Ehe(t))try{for(var u=!0,c=qi(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await oT(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Ahe(t)}`)}return s}function Ahe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gV{constructor(e){this._client=e}}gV._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vV(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const OO=Object.freeze(Object.create(null)),Che=(t=vV)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,p,g)=>{var _,A,S;/[?#]/.test(p)&&(i=!0);const w=r[g];let I=(i?encodeURIComponent:t)(""+w);return g!==r.length&&(w==null||typeof w=="object"&&w.toString===((S=Object.getPrototypeOf((A=Object.getPrototypeOf((_=w.hasOwnProperty)!==null&&_!==void 0?_:OO))!==null&&A!==void 0?A:OO))===null||S===void 0?void 0:S.toString))&&(I=w+"",a.push({start:h.length+p.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":I)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((g,_)=>{const A=" ".repeat(_.start-h),S="^".repeat(_.length);return h=_.start+_.length,g+A+S},"");throw new Si(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),_m=Che(vV);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yV extends gV{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=Wg(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Si("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Si("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_m`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(_m`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(_m`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,u=Wg(a,["api_version"]);return this._client.get(_m`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yV._key=Object.freeze(["interactions"]);class xV extends yV{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nhe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Em;function qw(t){let e;return(Em??(e=new globalThis.TextEncoder,Em=e.encode.bind(e)))(t)}let Tm;function kO(t){let e;return(Tm??(e=new globalThis.TextDecoder,Tm=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class by{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?qw(e):e;this.buffer=Nhe([this.buffer,n]);const r=[];let i;for(;(i=Ihe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(kO(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=kO(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}by.NEWLINE_CHARS=new Set([`
`,"\r"]);by.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ihe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Rhe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg={off:0,error:200,warn:300,info:400,debug:500},LO=(t,e,n)=>{if(t){if(uhe(Jg,t))return t;mr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Jg))}`)}};function cd(){}function Sm(t,e,n){return!e||Jg[t]>Jg[n]?cd:e[t].bind(e)}const Phe={error:cd,warn:cd,info:cd,debug:cd};let jO=new WeakMap;function mr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Phe;const i=jO.get(n);if(i&&i[0]===r)return i[1];const a={error:Sm("error",n,r),warn:Sm("warn",n,r),info:Sm("info",n,r),debug:Sm("debug",n,r)};return jO.set(n,[r,a]),a}const bl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?mr(r):console;function s(){return Fi(this,arguments,function*(){var c,f,h,p;if(i)throw new Si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var _=!0,A=qi(Mhe(e,n)),S;S=yield Fe(A.next()),c=S.done,!c;_=!0){p=S.value,_=!1;const w=p;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Fe(JSON.parse(w.data))}catch(I){throw a.error("Could not parse message into JSON:",w.data),a.error("From chunk:",w.raw),I}}}catch(w){f={error:w}}finally{try{!_&&!c&&(h=A.return)&&(yield Fe(h.call(A)))}finally{if(f)throw f.error}}g=!0}catch(w){if(nT(w))return yield Fe(void 0);throw w}finally{g||n.abort()}})}return new tc(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return Fi(this,arguments,function*(){var c,f,h,p;const g=new by,_=hV(e);try{for(var A=!0,S=qi(_),w;w=yield Fe(S.next()),c=w.done,!c;A=!0){p=w.value,A=!1;const I=p;for(const O of g.decode(I))yield yield Fe(O)}}catch(I){f={error:I}}finally{try{!A&&!c&&(h=S.return)&&(yield Fe(h.call(S)))}finally{if(f)throw f.error}}for(const I of g.flush())yield yield Fe(I)})}function s(){return Fi(this,arguments,function*(){var c,f,h,p;if(i)throw new Si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var _=!0,A=qi(a()),S;S=yield Fe(A.next()),c=S.done,!c;_=!0){p=S.value,_=!1;const w=p;g||w&&(yield yield Fe(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!_&&!c&&(h=A.return)&&(yield Fe(h.call(A)))}finally{if(f)throw f.error}}g=!0}catch(w){if(nT(w))return yield Fe(void 0);throw w}finally{g||n.abort()}})}return new tc(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new tc(()=>i(e),this.controller,this.client),new tc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return dV({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=qw(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Mhe(t,e){return Fi(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Si("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Si("Attempted to iterate over a response with no body");const u=new Ohe,c=new by,f=hV(t.body);try{for(var h=!0,p=qi(Dhe(f)),g;g=yield Fe(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const _=s;for(const A of c.decode(_)){const S=u.decode(A);S&&(yield yield Fe(S))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(a=p.return)&&(yield Fe(a.call(p)))}finally{if(i)throw i.error}}for(const _ of c.flush()){const A=u.decode(_);A&&(yield yield Fe(A))}})}function Dhe(t){return Fi(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var u=!0,c=qi(t),f;f=yield Fe(c.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?qw(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let _;for(;(_=Rhe(s))!==-1;)yield yield Fe(s.slice(0,_)),s=s.slice(_)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield Fe(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Fe(s))})}class Ohe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=khe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function khe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Lhe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var u;if(e.options.stream)return mr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):tc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return mr(t).debug(`[${r}] response parsed`,bl({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $w extends Promise{constructor(e,n,r=Lhe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new $w(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bV=Symbol("brand.privateNullableHeaders");function*jhe(t){if(!t)return;if(bV in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():PO(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=PO(r[1])?r[1]:[r[1]];let s=!1;for(const u of a)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const id=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of jhe(r)){const u=a.toLowerCase();i.has(u)||(e.delete(a),i.add(u)),s===null?(e.delete(a),n.add(u)):(e.append(a,s),n.delete(u))}}return{[bV]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N_=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=lse)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _V;class _y{constructor(e){var n,r,i,a,s,u,c,{baseURL:f=N_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=N_("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=Wg(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:_y.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const A="warn";this.logLevel=A,this.logLevel=(s=(a=LO(_.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:LO(N_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:A,this.fetchOptions=_.fetchOptions,this.maxRetries=(u=_.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=_.fetch)!==null&&c!==void 0?c:vhe(),this.encoder=bhe,this._options=_,this.apiKey=h,this.apiVersion=p,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=id([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return id([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return id([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Si(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ku}`}defaultIdempotencyKey(){return`stainless-node-retry-${rhe()}`}makeStatusError(e,n,r,i){return br.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=ahe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return lhe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new $w(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,A=Date.now();if(mr(this).debug(`[${g}] sending request`,bl({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new iT;const S=new AbortController,w=await this.fetchWithTimeout(h,f,p,S).catch(rT),I=Date.now();if(w instanceof globalThis.Error){const P=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new iT;const B=nT(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return mr(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${P}`),mr(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${P})`,bl({retryOfRequestLogID:r,url:h,durationMs:I-A,message:w.message})),this.retryRequest(u,n,r??g);throw mr(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),mr(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,bl({retryOfRequestLogID:r,url:h,durationMs:I-A,message:w.message})),B?new rV:new xy({cause:w})}const O=`[${g}${_}] ${f.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${I-A}ms`;if(!w.ok){const P=await this.shouldRetry(w);if(n&&P){const j=`retrying, ${n} attempts remaining`;return await xhe(w.body),mr(this).info(`${O} - ${j}`),mr(this).debug(`[${g}] response error (${j})`,bl({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:I-A})),this.retryRequest(u,n,r??g,w.headers)}const B=P?"error; no more retries left":"error; not retryable";mr(this).info(`${O} - ${B}`);const L=await w.text().catch(j=>rT(j).message),z=fhe(L),D=z?void 0:L;throw mr(this).debug(`[${g}] response error (${B})`,bl({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:D,durationMs:Date.now()-A})),this.makeStatusError(w.status,z,D,w.headers)}return mr(this).info(O),mr(this).debug(`[${g}] response start`,bl({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:I-A})),{response:w,options:u,controller:S,requestLogID:g,retryOfRequestLogID:r,startTime:A}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:u}=a,c=Wg(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await dhe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&che("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:_}=this.buildBody({options:s}),A=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:A},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=id([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),ghe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=id([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:yhe(e)}:this.encoder({body:e,headers:r})}}_y.DEFAULT_TIMEOUT=6e4;class qn extends _y{constructor(){super(...arguments),this.interactions=new xV(this)}}_V=qn;qn.GeminiNextGenAPIClient=_V;qn.GeminiNextGenAPIClientError=Si;qn.APIError=br;qn.APIConnectionError=xy;qn.APIConnectionTimeoutError=rV;qn.APIUserAbortError=iT;qn.NotFoundError=sV;qn.ConflictError=lV;qn.RateLimitError=cV;qn.BadRequestError=iV;qn.AuthenticationError=aV;qn.InternalServerError=fV;qn.PermissionDeniedError=oV;qn.UnprocessableEntityError=uV;qn.toFile=whe;qn.Interactions=xV;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uhe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Vhe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Bhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function zhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Fhe(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const s=v(t,["learningRateMultiplier"]);if(s!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(t,["batchSize"]);e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","batchSize"],u);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function qhe(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=v(t,["validationDataset"]);e!==void 0&&_!=null&&x(e,["supervisedTuningSpec"],UO(_))}else if(i==="PREFERENCE_TUNING"){const _=v(t,["validationDataset"]);e!==void 0&&_!=null&&x(e,["preferenceOptimizationSpec"],UO(_))}const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const s=v(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=v(t,["epochCount"]);e!==void 0&&_!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=v(t,["epochCount"]);e!==void 0&&_!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=v(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=v(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const _=v(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(f==="PREFERENCE_TUNING"){const _=v(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=v(t,["adapterSize"]);e!==void 0&&_!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=v(t,["adapterSize"]);e!==void 0&&_!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const g=v(t,["beta"]);return e!==void 0&&g!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function $he(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&tpe(a);const s=v(t,["config"]);return s!=null&&Fhe(s,n),n}function Hhe(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&npe(a,n,e);const s=v(t,["config"]);return s!=null&&qhe(s,n,e),n}function Ghe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Khe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Yhe(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function Whe(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function Jhe(t,e){const n={},r=v(t,["config"]);return r!=null&&Yhe(r,n),n}function Xhe(t,e){const n={},r=v(t,["config"]);return r!=null&&Whe(r,n),n}function Qhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=v(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>EV(u))),x(n,["tuningJobs"],s)}return n}function Zhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=v(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>sT(u))),x(n,["tuningJobs"],s)}return n}function epe(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["model"],r);const i=v(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function tpe(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function npe(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function EV(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["state"]);a!=null&&x(n,["state"],U3(a));const s=v(t,["createTime"]);s!=null&&x(n,["createTime"],s);const u=v(t,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const c=v(t,["tuningTask","completeTime"]);c!=null&&x(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const h=v(t,["description"]);h!=null&&x(n,["description"],h);const p=v(t,["baseModel"]);p!=null&&x(n,["baseModel"],p);const g=v(t,["_self"]);return g!=null&&x(n,["tunedModel"],epe(g)),n}function sT(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["state"]);a!=null&&x(n,["state"],U3(a));const s=v(t,["createTime"]);s!=null&&x(n,["createTime"],s);const u=v(t,["startTime"]);u!=null&&x(n,["startTime"],u);const c=v(t,["endTime"]);c!=null&&x(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const h=v(t,["error"]);h!=null&&x(n,["error"],h);const p=v(t,["description"]);p!=null&&x(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const _=v(t,["tunedModel"]);_!=null&&x(n,["tunedModel"],_);const A=v(t,["preTunedModel"]);A!=null&&x(n,["preTunedModel"],A);const S=v(t,["supervisedTuningSpec"]);S!=null&&x(n,["supervisedTuningSpec"],S);const w=v(t,["preferenceOptimizationSpec"]);w!=null&&x(n,["preferenceOptimizationSpec"],w);const I=v(t,["tuningDataStats"]);I!=null&&x(n,["tuningDataStats"],I);const O=v(t,["encryptionSpec"]);O!=null&&x(n,["encryptionSpec"],O);const P=v(t,["partnerModelTuningSpec"]);P!=null&&x(n,["partnerModelTuningSpec"],P);const B=v(t,["customBaseModel"]);B!=null&&x(n,["customBaseModel"],B);const L=v(t,["experiment"]);L!=null&&x(n,["experiment"],L);const z=v(t,["labels"]);z!=null&&x(n,["labels"],z);const D=v(t,["outputUri"]);D!=null&&x(n,["outputUri"],D);const k=v(t,["pipelineJob"]);k!=null&&x(n,["pipelineJob"],k);const j=v(t,["serviceAccount"]);j!=null&&x(n,["serviceAccount"],j);const F=v(t,["tunedModelDisplayName"]);F!=null&&x(n,["tunedModelDisplayName"],F);const q=v(t,["veoTuningSpec"]);return q!=null&&x(n,["veoTuningSpec"],q),n}function rpe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["metadata"]);a!=null&&x(n,["metadata"],a);const s=v(t,["done"]);s!=null&&x(n,["done"],s);const u=v(t,["error"]);return u!=null&&x(n,["error"],u),n}function UO(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ipe extends Oo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ql(Eo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:WE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Khe(e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>sT(h))}else{const f=Ghe(e);return u=Ee("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>EV(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Xhe(e);return u=Ee("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Zhe(h),g=new cO;return Object.assign(g,p),g})}else{const f=Jhe(e);return u=Ee("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Qhe(h),g=new cO;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Vhe(e);return u=Ee("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=zhe(h),g=new fO;return Object.assign(g,p),g})}else{const f=Uhe(e);return u=Ee("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Bhe(h),g=new fO;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Hhe(e,e);return a=Ee("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>sT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$he(e);return a=Ee("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>rpe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ape{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ope=1024*1024*8,spe=3,lpe=1e3,upe=2,Xg="x-goog-upload-status";async function cpe(t,e,n){var r;const i=await TV(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function fpe(t,e,n){var r;const i=await TV(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=M3(a),u=new jw;return Object.assign(u,s),u}async function TV(t,e,n){var r,i;let a=0,s=0,u=new JE(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(ope,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let p=0,g=lpe;for(;p<spe&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Xg]));)p++,await hpe(g),g=g*upe;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Xg])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function dpe(t){return{size:t.size,type:t.type}}function hpe(t){return new Promise(e=>setTimeout(e,t))}class ppe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cpe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fpe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dpe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mpe{create(e,n,r){return new gpe(e,n,r)}}class gpe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VO="x-goog-api-key";class vpe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(VO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(VO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ype="gl-node/";class xpe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new qn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=dse(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new vpe(this.apiKey);this.apiClient=new dde({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ype+"web",uploader:new ppe,downloader:new ape}),this.models=new Pde(this.apiClient),this.live=new wde(this.apiClient,i,new mpe),this.batches=new zle(this.apiClient),this.chats=new Eue(this.models,this.apiClient),this.caches=new xue(this.apiClient),this.files=new Mue(this.apiClient),this.operations=new Mde(this.apiClient),this.authTokens=new Yde(this.apiClient),this.tunings=new ipe(this.apiClient),this.fileSearchStores=new nhe(this.apiClient)}}const Hw=new xpe({apiKey:"PLACEHOLDER_API_KEY"}),bpe=async(t,e="profesional")=>{var n;try{const r=(n=t.amenities)!=null&&n.length?`Amenities: ${t.amenities.join(", ")}`:"";return(await Hw.models.generateContent({model:"gemini-3-flash-preview",contents:`Eres un redactor experto en marketing inmobiliario de lujo en Argentina. 
      Genera una descripcin de venta ${e} para una propiedad con estos datos tcnicos:
      - Ttulo base: ${t.title}
      - Tipo: ${t.type}
      - Direccin/Barrio: ${t.address}, ${t.neighborhood}
      - Precio: $${t.price} ARS
      - Expensas: $${t.expenses} ARS
      - Caractersticas: ${t.bedrooms} dormitorios, ${t.bathrooms} baos, ${t.area}m2 totales (${t.coveredArea}m2 cubiertos).
      - Estado: ${t.condition}
      - Orientacin: ${t.orientation}
      - Ao de Construccin: ${t.yearBuilt}
      - ${r}
      
      Reglas de Redaccin:
      1. Ttulo impactante (No repetir el ttulo base, crear uno mejor).
      2. Prrafo introductorio aspiracional.
      3. Lista de caractersticas destacadas usando emojis elegantes.
      4. Seccin de 'Ubicacin y Entorno'.
      5. Llamado a la accin para coordinar visita.
      6. No menciones el ao de construccin explcitamente si es viejo, salo para hablar de 'estilo consolidado' o 'diseo clsico'.
      7. Responde nicamente con el texto de la descripcin en formato Markdown amigable.`,config:{temperature:.8}})).text||"No se pudo generar la descripcin."}catch(r){return console.error("AI Generation Error:",r),"Error al conectar con la IA para generar la descripcin."}},_pe=async t=>{try{const e=await Hw.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t.split(",")[1]||t}},{text:`Analiza esta factura de servicios de Argentina y extrae la siguiente informacin en formato JSON:
            - tipoServicio: (debe ser uno de estos: Luz, Gas, Agua, Impuestos)
            - numeroContrato: el identificador de cliente o nmero de contrato
            - consumo: el valor numrico del consumo (kWh, m3, etc) si aparece
            - montoTotal: el valor total a pagar en Pesos Argentinos
            - fechaFactura: la fecha de emisin o vencimiento
            
            Responde SOLO con el objeto JSON puro.`}]},config:{responseMimeType:"application/json"}});return JSON.parse(e.text||"{}")}catch(e){return console.error("AI OCR Error:",e),null}},Epe=async(t,e)=>{try{return(await Hw.models.generateContent({model:"gemini-3-flash-preview",contents:`Eres el asistente inteligente de InmoAI CRM en Argentina. Tienes acceso a este resumen de datos financieros en pesos: ${e}. 
        Responde a la siguiente consulta del agente: ${t}`})).text||"No pude procesar tu solicitud."}catch{return"Hubo un problema procesando tu mensaje."}},Tpe=()=>{};var BO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Spe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},wV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let g=(u&15)<<2|f>>6,_=f&63;c||(_=64,s||(g=64)),r.push(n[h],n[p],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Spe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||p==null)throw new wpe;const g=a<<2|u>>4;if(r.push(g),f!==64){const _=u<<4&240|f>>2;if(r.push(_),p!==64){const A=f<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ape=function(t){const e=SV(t);return wV.encodeByteArray(e,!0)},Qg=function(t){return Ape(t).replace(/\./g,"")},Cpe=function(t){try{return wV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Npe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ipe=()=>Npe().__FIREBASE_DEFAULTS__,Rpe=()=>{if(typeof process>"u"||typeof BO>"u")return;const t=BO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ppe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cpe(t[1]);return e&&JSON.parse(e)},Gw=()=>{try{return Tpe()||Ipe()||Rpe()||Ppe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mpe=t=>{var e,n;return(n=(e=Gw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},AV=t=>{const e=Mpe(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CV=()=>{var t;return(t=Gw())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dpe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qg(JSON.stringify(n)),Qg(JSON.stringify(s)),""].join(".")}const vd={};function Ope(){const t={prod:[],emulator:[]};for(const e of Object.keys(vd))vd[e]?t.emulator.push(e):t.prod.push(e);return t}function kpe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zO=!1;function RV(t,e){if(typeof window>"u"||typeof document>"u"||!Eh(window.location.host)||vd[t]===e||vd[t]||zO)return;vd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Ope().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{zO=!0,s()},g}function h(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=kpe(r),_=n("text"),A=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),O=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;u(P),h(w,S);const B=f();c(O,I),P.append(O,A,w,B),document.body.appendChild(P)}a?(A.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lpe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jpe(){var e;const t=(e=Gw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Upe(){return!jpe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vpe(){try{return typeof indexedDB=="object"}catch{return!1}}function Bpe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zpe="FirebaseError";class Zl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zpe,Object.setPrototypeOf(this,Zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PV.prototype.create)}}class PV{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Fpe(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Zl(i,u,r)}}function Fpe(t,e){return t.replace(qpe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qpe=/\{\$([^}]+)}/g;function Zg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(FO(a)&&FO(s)){if(!Zg(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){return t&&t._delegate?t._delegate:t}class vc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dpe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gpe(e))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=_l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_l){return this.instances.has(e)}getOptions(e=_l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hpe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_l){return this.component?this.component.multipleInstances?e:_l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hpe(t){return t===_l?void 0:t}function Gpe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $pe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const Ype={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},Wpe=at.INFO,Jpe={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Xpe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Jpe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class MV{constructor(e){this.name=e,this._logLevel=Wpe,this._logHandler=Xpe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ype[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const Qpe=(t,e)=>e.some(n=>t instanceof n);let qO,$O;function Zpe(){return qO||(qO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eme(){return $O||($O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DV=new WeakMap,lT=new WeakMap,OV=new WeakMap,I_=new WeakMap,Kw=new WeakMap;function tme(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ss(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&DV.set(n,t)}).catch(()=>{}),Kw.set(e,t),e}function nme(t){if(lT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});lT.set(t,e)}let uT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rme(t){uT=t(uT)}function ime(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R_(this),e,...n);return OV.set(r,e.sort?e.sort():[e]),Ss(r)}:eme().includes(t)?function(...e){return t.apply(R_(this),e),Ss(DV.get(this))}:function(...e){return Ss(t.apply(R_(this),e))}}function ame(t){return typeof t=="function"?ime(t):(t instanceof IDBTransaction&&nme(t),Qpe(t,Zpe())?new Proxy(t,uT):t)}function Ss(t){if(t instanceof IDBRequest)return tme(t);if(I_.has(t))return I_.get(t);const e=ame(t);return e!==t&&(I_.set(t,e),Kw.set(e,t)),e}const R_=t=>Kw.get(t);function ome(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=Ss(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ss(s.result),c.oldVersion,c.newVersion,Ss(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const sme=["get","getKey","getAll","getAllKeys","count"],lme=["put","add","delete","clear"],P_=new Map;function HO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P_.get(e))return P_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sme.includes(n)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return P_.set(e,a),a}rme(t=>({...t,get:(e,n,r)=>HO(e,n)||t.get(e,n,r),has:(e,n)=>!!HO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ume{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cme(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cT="@firebase/app",GO="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new MV("@firebase/app"),fme="@firebase/app-compat",dme="@firebase/analytics-compat",hme="@firebase/analytics",pme="@firebase/app-check-compat",mme="@firebase/app-check",gme="@firebase/auth",vme="@firebase/auth-compat",yme="@firebase/database",xme="@firebase/data-connect",bme="@firebase/database-compat",_me="@firebase/functions",Eme="@firebase/functions-compat",Tme="@firebase/installations",Sme="@firebase/installations-compat",wme="@firebase/messaging",Ame="@firebase/messaging-compat",Cme="@firebase/performance",Nme="@firebase/performance-compat",Ime="@firebase/remote-config",Rme="@firebase/remote-config-compat",Pme="@firebase/storage",Mme="@firebase/storage-compat",Dme="@firebase/firestore",Ome="@firebase/ai",kme="@firebase/firestore-compat",Lme="firebase",jme="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="[DEFAULT]",Ume={[cT]:"fire-core",[fme]:"fire-core-compat",[hme]:"fire-analytics",[dme]:"fire-analytics-compat",[mme]:"fire-app-check",[pme]:"fire-app-check-compat",[gme]:"fire-auth",[vme]:"fire-auth-compat",[yme]:"fire-rtdb",[xme]:"fire-data-connect",[bme]:"fire-rtdb-compat",[_me]:"fire-fn",[Eme]:"fire-fn-compat",[Tme]:"fire-iid",[Sme]:"fire-iid-compat",[wme]:"fire-fcm",[Ame]:"fire-fcm-compat",[Cme]:"fire-perf",[Nme]:"fire-perf-compat",[Ime]:"fire-rc",[Rme]:"fire-rc-compat",[Pme]:"fire-gcs",[Mme]:"fire-gcs-compat",[Dme]:"fire-fst",[kme]:"fire-fst-compat",[Ome]:"fire-vertex","fire-js":"fire-js",[Lme]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map,Vme=new Map,dT=new Map;function KO(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zd(t){const e=t.name;if(dT.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;dT.set(e,t);for(const n of ev.values())KO(n,t);for(const n of Vme.values())KO(n,t);return!0}function kV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function LV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new PV("app","Firebase",Bme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zme{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=jme;function UV(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:fT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ws.create("bad-app-name",{appName:String(i)});if(n||(n=CV()),!n)throw ws.create("no-options");const a=ev.get(i);if(a){if(Zg(n,a.options)&&Zg(r,a.config))return a;throw ws.create("duplicate-app",{appName:i})}const s=new Kpe(i);for(const c of dT.values())s.addComponent(c);const u=new zme(n,r,s);return ev.set(i,u),u}function VV(t=fT){const e=ev.get(t);if(!e&&t===fT&&CV())return UV();if(!e)throw ws.create("no-app",{appName:t});return e}function As(t,e,n){let r=Ume[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(s.join(" "));return}zd(new vc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fme="firebase-heartbeat-database",qme=1,Fd="firebase-heartbeat-store";let M_=null;function BV(){return M_||(M_=ome(Fme,qme,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ws.create("idb-open",{originalErrorMessage:t.message})})),M_}async function $me(t){try{const n=(await BV()).transaction(Fd),r=await n.objectStore(Fd).get(zV(t));return await n.done,r}catch(e){if(e instanceof Zl)To.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});To.warn(n.message)}}}async function YO(t,e){try{const r=(await BV()).transaction(Fd,"readwrite");await r.objectStore(Fd).put(e,zV(t)),await r.done}catch(n){if(n instanceof Zl)To.warn(n.message);else{const r=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});To.warn(r.message)}}}function zV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme=1024,Gme=30;class Kme{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wme(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=WO();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Gme){const s=Jme(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){To.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WO(),{heartbeatsToSend:r,unsentEntries:i}=Yme(this._heartbeatsCache.heartbeats),a=Qg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return To.warn(n),""}}}function WO(){return new Date().toISOString().substring(0,10)}function Yme(t,e=Hme){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),JO(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vpe()?Bpe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $me(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JO(t){return Qg(JSON.stringify({version:2,heartbeats:t})).length}function Jme(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xme(t){zd(new vc("platform-logger",e=>new ume(e),"PRIVATE")),zd(new vc("heartbeat",e=>new Kme(e),"PRIVATE")),As(cT,GO,t),As(cT,GO,"esm2020"),As("fire-js","")}Xme("");var Qme="firebase",Zme="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(Qme,Zme,"app");var XO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,FV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function j(){}j.prototype=k.prototype,D.F=k.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(F,q,$){for(var U=Array(arguments.length-2),de=2;de<arguments.length;de++)U[de-2]=arguments[de];return k.prototype[q].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,k,j){j||(j=0);const F=Array(16);if(typeof k=="string")for(var q=0;q<16;++q)F[q]=k.charCodeAt(j++)|k.charCodeAt(j++)<<8|k.charCodeAt(j++)<<16|k.charCodeAt(j++)<<24;else for(q=0;q<16;++q)F[q]=k[j++]|k[j++]<<8|k[j++]<<16|k[j++]<<24;k=D.g[0],j=D.g[1],q=D.g[2];let $=D.g[3],U;U=k+($^j&(q^$))+F[0]+3614090360&4294967295,k=j+(U<<7&4294967295|U>>>25),U=$+(q^k&(j^q))+F[1]+3905402710&4294967295,$=k+(U<<12&4294967295|U>>>20),U=q+(j^$&(k^j))+F[2]+606105819&4294967295,q=$+(U<<17&4294967295|U>>>15),U=j+(k^q&($^k))+F[3]+3250441966&4294967295,j=q+(U<<22&4294967295|U>>>10),U=k+($^j&(q^$))+F[4]+4118548399&4294967295,k=j+(U<<7&4294967295|U>>>25),U=$+(q^k&(j^q))+F[5]+1200080426&4294967295,$=k+(U<<12&4294967295|U>>>20),U=q+(j^$&(k^j))+F[6]+2821735955&4294967295,q=$+(U<<17&4294967295|U>>>15),U=j+(k^q&($^k))+F[7]+4249261313&4294967295,j=q+(U<<22&4294967295|U>>>10),U=k+($^j&(q^$))+F[8]+1770035416&4294967295,k=j+(U<<7&4294967295|U>>>25),U=$+(q^k&(j^q))+F[9]+2336552879&4294967295,$=k+(U<<12&4294967295|U>>>20),U=q+(j^$&(k^j))+F[10]+4294925233&4294967295,q=$+(U<<17&4294967295|U>>>15),U=j+(k^q&($^k))+F[11]+2304563134&4294967295,j=q+(U<<22&4294967295|U>>>10),U=k+($^j&(q^$))+F[12]+1804603682&4294967295,k=j+(U<<7&4294967295|U>>>25),U=$+(q^k&(j^q))+F[13]+4254626195&4294967295,$=k+(U<<12&4294967295|U>>>20),U=q+(j^$&(k^j))+F[14]+2792965006&4294967295,q=$+(U<<17&4294967295|U>>>15),U=j+(k^q&($^k))+F[15]+1236535329&4294967295,j=q+(U<<22&4294967295|U>>>10),U=k+(q^$&(j^q))+F[1]+4129170786&4294967295,k=j+(U<<5&4294967295|U>>>27),U=$+(j^q&(k^j))+F[6]+3225465664&4294967295,$=k+(U<<9&4294967295|U>>>23),U=q+(k^j&($^k))+F[11]+643717713&4294967295,q=$+(U<<14&4294967295|U>>>18),U=j+($^k&(q^$))+F[0]+3921069994&4294967295,j=q+(U<<20&4294967295|U>>>12),U=k+(q^$&(j^q))+F[5]+3593408605&4294967295,k=j+(U<<5&4294967295|U>>>27),U=$+(j^q&(k^j))+F[10]+38016083&4294967295,$=k+(U<<9&4294967295|U>>>23),U=q+(k^j&($^k))+F[15]+3634488961&4294967295,q=$+(U<<14&4294967295|U>>>18),U=j+($^k&(q^$))+F[4]+3889429448&4294967295,j=q+(U<<20&4294967295|U>>>12),U=k+(q^$&(j^q))+F[9]+568446438&4294967295,k=j+(U<<5&4294967295|U>>>27),U=$+(j^q&(k^j))+F[14]+3275163606&4294967295,$=k+(U<<9&4294967295|U>>>23),U=q+(k^j&($^k))+F[3]+4107603335&4294967295,q=$+(U<<14&4294967295|U>>>18),U=j+($^k&(q^$))+F[8]+1163531501&4294967295,j=q+(U<<20&4294967295|U>>>12),U=k+(q^$&(j^q))+F[13]+2850285829&4294967295,k=j+(U<<5&4294967295|U>>>27),U=$+(j^q&(k^j))+F[2]+4243563512&4294967295,$=k+(U<<9&4294967295|U>>>23),U=q+(k^j&($^k))+F[7]+1735328473&4294967295,q=$+(U<<14&4294967295|U>>>18),U=j+($^k&(q^$))+F[12]+2368359562&4294967295,j=q+(U<<20&4294967295|U>>>12),U=k+(j^q^$)+F[5]+4294588738&4294967295,k=j+(U<<4&4294967295|U>>>28),U=$+(k^j^q)+F[8]+2272392833&4294967295,$=k+(U<<11&4294967295|U>>>21),U=q+($^k^j)+F[11]+1839030562&4294967295,q=$+(U<<16&4294967295|U>>>16),U=j+(q^$^k)+F[14]+4259657740&4294967295,j=q+(U<<23&4294967295|U>>>9),U=k+(j^q^$)+F[1]+2763975236&4294967295,k=j+(U<<4&4294967295|U>>>28),U=$+(k^j^q)+F[4]+1272893353&4294967295,$=k+(U<<11&4294967295|U>>>21),U=q+($^k^j)+F[7]+4139469664&4294967295,q=$+(U<<16&4294967295|U>>>16),U=j+(q^$^k)+F[10]+3200236656&4294967295,j=q+(U<<23&4294967295|U>>>9),U=k+(j^q^$)+F[13]+681279174&4294967295,k=j+(U<<4&4294967295|U>>>28),U=$+(k^j^q)+F[0]+3936430074&4294967295,$=k+(U<<11&4294967295|U>>>21),U=q+($^k^j)+F[3]+3572445317&4294967295,q=$+(U<<16&4294967295|U>>>16),U=j+(q^$^k)+F[6]+76029189&4294967295,j=q+(U<<23&4294967295|U>>>9),U=k+(j^q^$)+F[9]+3654602809&4294967295,k=j+(U<<4&4294967295|U>>>28),U=$+(k^j^q)+F[12]+3873151461&4294967295,$=k+(U<<11&4294967295|U>>>21),U=q+($^k^j)+F[15]+530742520&4294967295,q=$+(U<<16&4294967295|U>>>16),U=j+(q^$^k)+F[2]+3299628645&4294967295,j=q+(U<<23&4294967295|U>>>9),U=k+(q^(j|~$))+F[0]+4096336452&4294967295,k=j+(U<<6&4294967295|U>>>26),U=$+(j^(k|~q))+F[7]+1126891415&4294967295,$=k+(U<<10&4294967295|U>>>22),U=q+(k^($|~j))+F[14]+2878612391&4294967295,q=$+(U<<15&4294967295|U>>>17),U=j+($^(q|~k))+F[5]+4237533241&4294967295,j=q+(U<<21&4294967295|U>>>11),U=k+(q^(j|~$))+F[12]+1700485571&4294967295,k=j+(U<<6&4294967295|U>>>26),U=$+(j^(k|~q))+F[3]+2399980690&4294967295,$=k+(U<<10&4294967295|U>>>22),U=q+(k^($|~j))+F[10]+4293915773&4294967295,q=$+(U<<15&4294967295|U>>>17),U=j+($^(q|~k))+F[1]+2240044497&4294967295,j=q+(U<<21&4294967295|U>>>11),U=k+(q^(j|~$))+F[8]+1873313359&4294967295,k=j+(U<<6&4294967295|U>>>26),U=$+(j^(k|~q))+F[15]+4264355552&4294967295,$=k+(U<<10&4294967295|U>>>22),U=q+(k^($|~j))+F[6]+2734768916&4294967295,q=$+(U<<15&4294967295|U>>>17),U=j+($^(q|~k))+F[13]+1309151649&4294967295,j=q+(U<<21&4294967295|U>>>11),U=k+(q^(j|~$))+F[4]+4149444226&4294967295,k=j+(U<<6&4294967295|U>>>26),U=$+(j^(k|~q))+F[11]+3174756917&4294967295,$=k+(U<<10&4294967295|U>>>22),U=q+(k^($|~j))+F[2]+718787259&4294967295,q=$+(U<<15&4294967295|U>>>17),U=j+($^(q|~k))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(q+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+q&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.v=function(D,k){k===void 0&&(k=D.length);const j=k-this.blockSize,F=this.C;let q=this.h,$=0;for(;$<k;){if(q==0)for(;$<=j;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<k;)if(F[q++]=D.charCodeAt($++),q==this.blockSize){i(this,F),q=0;break}}else for(;$<k;)if(F[q++]=D[$++],q==this.blockSize){i(this,F),q=0;break}}this.h=q,this.o+=k},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;k=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=k&255,k/=256;for(this.v(D),D=Array(16),k=0,j=0;j<4;++j)for(let F=0;F<32;F+=8)D[k++]=this.g[j]>>>F&255;return D};function a(D,k){var j=u;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=k(D)}function s(D,k){this.h=k;const j=[];let F=!0;for(let q=D.length-1;q>=0;q--){const $=D[q]|0;F&&$==k||(j[q]=$,F=!1)}this.g=j}var u={};function c(D){return-128<=D&&D<128?a(D,function(k){return new s([k|0],k<0?-1:0)}):new s([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return w(f(-D));const k=[];let j=1;for(let F=0;D>=j;F++)k[F]=D/j|0,j*=4294967296;return new s(k,0)}function h(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return w(h(D.substring(1),k));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(k,8));let F=p;for(let $=0;$<D.length;$+=8){var q=Math.min(8,D.length-$);const U=parseInt(D.substring($,$+q),k);q<8?(q=f(Math.pow(k,q)),F=F.j(q).add(f(U))):(F=F.j(j),F=F.add(f(U)))}return F}var p=c(0),g=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-w(this).m();let D=0,k=1;for(let j=0;j<this.g.length;j++){const F=this.i(j);D+=(F>=0?F:4294967296+F)*k,k*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(S(this))return"-"+w(this).toString(D);const k=f(Math.pow(D,6));var j=this;let F="";for(;;){const q=B(j,k).g;j=I(j,q.j(k));let $=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=q,A(j))return $+F;for(;$.length<6;)$="0"+$;F=$+F}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=I(this,D),S(D)?-1:A(D)?0:1};function w(D){const k=D.g.length,j=[];for(let F=0;F<k;F++)j[F]=~D.g[F];return new s(j,~D.h).add(g)}t.abs=function(){return S(this)?w(this):this},t.add=function(D){const k=Math.max(this.g.length,D.g.length),j=[];let F=0;for(let q=0;q<=k;q++){let $=F+(this.i(q)&65535)+(D.i(q)&65535),U=($>>>16)+(this.i(q)>>>16)+(D.i(q)>>>16);F=U>>>16,$&=65535,U&=65535,j[q]=U<<16|$}return new s(j,j[j.length-1]&-2147483648?-1:0)};function I(D,k){return D.add(w(k))}t.j=function(D){if(A(this)||A(D))return p;if(S(this))return S(D)?w(this).j(w(D)):w(w(this).j(D));if(S(D))return w(this.j(w(D)));if(this.l(_)<0&&D.l(_)<0)return f(this.m()*D.m());const k=this.g.length+D.g.length,j=[];for(var F=0;F<2*k;F++)j[F]=0;for(F=0;F<this.g.length;F++)for(let q=0;q<D.g.length;q++){const $=this.i(F)>>>16,U=this.i(F)&65535,de=D.i(q)>>>16,me=D.i(q)&65535;j[2*F+2*q]+=U*me,O(j,2*F+2*q),j[2*F+2*q+1]+=$*me,O(j,2*F+2*q+1),j[2*F+2*q+1]+=U*de,O(j,2*F+2*q+1),j[2*F+2*q+2]+=$*de,O(j,2*F+2*q+2)}for(D=0;D<k;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=k;D<2*k;D++)j[D]=0;return new s(j,0)};function O(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function P(D,k){this.g=D,this.h=k}function B(D,k){if(A(k))throw Error("division by zero");if(A(D))return new P(p,p);if(S(D))return k=B(w(D),k),new P(w(k.g),w(k.h));if(S(k))return k=B(D,w(k)),new P(w(k.g),k.h);if(D.g.length>30){if(S(D)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var j=g,F=k;F.l(D)<=0;)j=L(j),F=L(F);var q=z(j,1),$=z(F,1);for(F=z(F,2),j=z(j,2);!A(F);){var U=$.add(F);U.l(D)<=0&&(q=q.add(j),$=U),F=z(F,1),j=z(j,1)}return k=I(D,q.j(k)),new P(q,k)}for(q=p;D.l(k)>=0;){for(j=Math.max(1,Math.floor(D.m()/k.m())),F=Math.ceil(Math.log(j)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),$=f(j),U=$.j(k);S(U)||U.l(D)>0;)j-=F,$=f(j),U=$.j(k);A($)&&($=g),q=q.add($),D=I(D,U)}return new P(q,D)}t.B=function(D){return B(this,D).h},t.and=function(D){const k=Math.max(this.g.length,D.g.length),j=[];for(let F=0;F<k;F++)j[F]=this.i(F)&D.i(F);return new s(j,this.h&D.h)},t.or=function(D){const k=Math.max(this.g.length,D.g.length),j=[];for(let F=0;F<k;F++)j[F]=this.i(F)|D.i(F);return new s(j,this.h|D.h)},t.xor=function(D){const k=Math.max(this.g.length,D.g.length),j=[];for(let F=0;F<k;F++)j[F]=this.i(F)^D.i(F);return new s(j,this.h^D.h)};function L(D){const k=D.g.length+1,j=[];for(let F=0;F<k;F++)j[F]=D.i(F)<<1|D.i(F-1)>>>31;return new s(j,D.h)}function z(D,k){const j=k>>5;k%=32;const F=D.g.length-j,q=[];for(let $=0;$<F;$++)q[$]=k>0?D.i($+j)>>>k|D.i($+j+1)<<32-k:D.i($+j);return new s(q,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FV=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Cs=s}).apply(typeof XO<"u"?XO:typeof self<"u"?self:typeof window<"u"?window:{});var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qV,fd,$V,Fm,hT,HV,GV,KV;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof wm=="object"&&wm];for(var N=0;N<b.length;++N){var M=b[N];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(b,N){if(N)e:{var M=r;b=b.split(".");for(var H=0;H<b.length-1;H++){var X=b[H];if(!(X in M))break e;M=M[X]}b=b[b.length-1],H=M[b],N=N(H),N!=H&&N!=null&&e(M,b,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(N){var M=[],H;for(H in N)Object.prototype.hasOwnProperty.call(N,H)&&M.push([H,N[H]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(b){var N=typeof b;return N=="object"&&b!=null||N=="function"}function c(b,N,M){return b.call.apply(b.bind,arguments)}function f(b,N,M){return f=c,f.apply(null,arguments)}function h(b,N){var M=Array.prototype.slice.call(arguments,1);return function(){var H=M.slice();return H.push.apply(H,arguments),b.apply(this,H)}}function p(b,N){function M(){}M.prototype=N.prototype,b.Z=N.prototype,b.prototype=new M,b.prototype.constructor=b,b.Ob=function(H,X,re){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return N.prototype[X].apply(H,ye)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function _(b){const N=b.length;if(N>0){const M=Array(N);for(let H=0;H<N;H++)M[H]=b[H];return M}return[]}function A(b,N){for(let H=1;H<arguments.length;H++){const X=arguments[H];var M=typeof X;if(M=M!="object"?M:X?Array.isArray(X)?"array":M:"null",M=="array"||M=="object"&&typeof X.length=="number"){M=b.length||0;const re=X.length||0;b.length=M+re;for(let ye=0;ye<re;ye++)b[M+ye]=X[ye]}else b.push(X)}}class S{constructor(N,M){this.i=N,this.j=M,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function w(b){s.setTimeout(()=>{throw b},0)}function I(){var b=D;let N=null;return b.g&&(N=b.g,b.g=b.g.next,b.g||(b.h=null),N.next=null),N}class O{constructor(){this.h=this.g=null}add(N,M){const H=P.get();H.set(N,M),this.h?this.h.next=H:this.g=H,this.h=H}}var P=new S(()=>new B,b=>b.reset());class B{constructor(){this.next=this.g=this.h=null}set(N,M){this.h=N,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,D=new O,k=()=>{const b=Promise.resolve(void 0);L=()=>{b.then(j)}};function j(){for(var b;b=I();){try{b.h.call(b.g)}catch(M){w(M)}var N=P;N.j(b),N.h<100&&(N.h++,b.next=N.g,N.g=b)}z=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(b,N){this.type=b,this.g=this.target=N,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var b=!1,N=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const M=()=>{};s.addEventListener("test",M,N),s.removeEventListener("test",M,N)}catch{}return b})();function U(b){return/^[\s\xa0]*$/.test(b)}function de(b,N){q.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,N)}p(de,q),de.prototype.init=function(b,N){const M=this.type=b.type,H=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=N,N=b.relatedTarget,N||(M=="mouseover"?N=b.fromElement:M=="mouseout"&&(N=b.toElement)),this.relatedTarget=N,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(b,N,M,H,X){this.listener=b,this.proxy=null,this.src=N,this.type=M,this.capture=!!H,this.ha=X,this.key=++W,this.da=this.fa=!1}function ge(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Te(b,N,M){for(const H in b)N.call(M,b[H],H,b)}function De(b,N){for(const M in b)N.call(void 0,b[M],M,b)}function K(b){const N={};for(const M in b)N[M]=b[M];return N}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(b,N){let M,H;for(let X=1;X<arguments.length;X++){H=arguments[X];for(M in H)b[M]=H[M];for(let re=0;re<ae.length;re++)M=ae[re],Object.prototype.hasOwnProperty.call(H,M)&&(b[M]=H[M])}}function xe(b){this.src=b,this.g={},this.h=0}xe.prototype.add=function(b,N,M,H,X){const re=b.toString();b=this.g[re],b||(b=this.g[re]=[],this.h++);const ye=Ve(b,N,H,X);return ye>-1?(N=b[ye],M||(N.fa=!1)):(N=new oe(N,this.src,re,!!H,X),N.fa=M,b.push(N)),N};function Oe(b,N){const M=N.type;if(M in b.g){var H=b.g[M],X=Array.prototype.indexOf.call(H,N,void 0),re;(re=X>=0)&&Array.prototype.splice.call(H,X,1),re&&(ge(N),b.g[M].length==0&&(delete b.g[M],b.h--))}}function Ve(b,N,M,H){for(let X=0;X<b.length;++X){const re=b[X];if(!re.da&&re.listener==N&&re.capture==!!M&&re.ha==H)return X}return-1}var je="closure_lm_"+(Math.random()*1e6|0),It={};function le(b,N,M,H,X){if(Array.isArray(N)){for(let re=0;re<N.length;re++)le(b,N[re],M,H,X);return null}return M=fr(M),b&&b[me]?b.J(N,M,u(H)?!!H.capture:!1,X):ze(b,N,M,!1,H,X)}function ze(b,N,M,H,X,re){if(!N)throw Error("Invalid event type");const ye=u(X)?!!X.capture:!!X;let Ge=We(b);if(Ge||(b[je]=Ge=new xe(b)),M=Ge.add(N,M,H,ye,re),M.proxy)return M;if(H=ue(),M.proxy=H,H.src=b,H.listener=M,b.addEventListener)$||(X=ye),X===void 0&&(X=!1),b.addEventListener(N.toString(),H,X);else if(b.attachEvent)b.attachEvent(be(N.toString()),H);else if(b.addListener&&b.removeListener)b.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return M}function ue(){function b(M){return N.call(b.src,b.listener,M)}const N=Se;return b}function Z(b,N,M,H,X){if(Array.isArray(N))for(var re=0;re<N.length;re++)Z(b,N[re],M,H,X);else H=u(H)?!!H.capture:!!H,M=fr(M),b&&b[me]?(b=b.i,re=String(N).toString(),re in b.g&&(N=b.g[re],M=Ve(N,M,H,X),M>-1&&(ge(N[M]),Array.prototype.splice.call(N,M,1),N.length==0&&(delete b.g[re],b.h--)))):b&&(b=We(b))&&(N=b.g[N.toString()],b=-1,N&&(b=Ve(N,M,H,X)),(M=b>-1?N[b]:null)&&_e(M))}function _e(b){if(typeof b!="number"&&b&&!b.da){var N=b.src;if(N&&N[me])Oe(N.i,b);else{var M=b.type,H=b.proxy;N.removeEventListener?N.removeEventListener(M,H,b.capture):N.detachEvent?N.detachEvent(be(M),H):N.addListener&&N.removeListener&&N.removeListener(H),(M=We(N))?(Oe(M,b),M.h==0&&(M.src=null,N[je]=null)):ge(b)}}}function be(b){return b in It?It[b]:It[b]="on"+b}function Se(b,N){if(b.da)b=!0;else{N=new de(N,this);const M=b.listener,H=b.ha||b.src;b.fa&&_e(b),b=M.call(H,N)}return b}function We(b){return b=b[je],b instanceof xe?b:null}var $t="__closure_events_fn_"+(Math.random()*1e9>>>0);function fr(b){return typeof b=="function"?b:(b[$t]||(b[$t]=function(N){return b.handleEvent(N)}),b[$t])}function Yt(){F.call(this),this.i=new xe(this),this.M=this,this.G=null}p(Yt,F),Yt.prototype[me]=!0,Yt.prototype.removeEventListener=function(b,N,M,H){Z(this,b,N,M,H)};function tn(b,N){var M,H=b.G;if(H)for(M=[];H;H=H.G)M.push(H);if(b=b.M,H=N.type||N,typeof N=="string")N=new q(N,b);else if(N instanceof q)N.target=N.target||b;else{var X=N;N=new q(H,b),ve(N,X)}X=!0;let re,ye;if(M)for(ye=M.length-1;ye>=0;ye--)re=N.g=M[ye],X=Qi(re,H,!0,N)&&X;if(re=N.g=b,X=Qi(re,H,!0,N)&&X,X=Qi(re,H,!1,N)&&X,M)for(ye=0;ye<M.length;ye++)re=N.g=M[ye],X=Qi(re,H,!1,N)&&X}Yt.prototype.N=function(){if(Yt.Z.N.call(this),this.i){var b=this.i;for(const N in b.g){const M=b.g[N];for(let H=0;H<M.length;H++)ge(M[H]);delete b.g[N],b.h--}}this.G=null},Yt.prototype.J=function(b,N,M,H){return this.i.add(String(b),N,!1,M,H)},Yt.prototype.K=function(b,N,M,H){return this.i.add(String(b),N,!0,M,H)};function Qi(b,N,M,H){if(N=b.i.g[String(N)],!N)return!0;N=N.concat();let X=!0;for(let re=0;re<N.length;++re){const ye=N[re];if(ye&&!ye.da&&ye.capture==M){const Ge=ye.listener,rn=ye.ha||ye.src;ye.fa&&Oe(b.i,ye),X=Ge.call(rn,H)!==!1&&X}}return X&&!H.defaultPrevented}function $c(b,N){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:s.setTimeout(b,N||0)}function ja(b){b.g=$c(()=>{b.g=null,b.i&&(b.i=!1,ja(b))},b.l);const N=b.h;b.h=null,b.m.apply(null,N)}class Mn extends F{constructor(N,M){super(),this.m=N,this.l=M,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(b){F.call(this),this.h=b,this.g={}}p(Zi,F);var nt=[];function Hc(b){Te(b.g,function(N,M){this.g.hasOwnProperty(M)&&_e(N)},b),b.g={}}Zi.prototype.N=function(){Zi.Z.N.call(this),Hc(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=s.JSON.stringify,Vy=s.JSON.parse,Nh=class{stringify(b){return s.JSON.stringify(b,void 0)}parse(b){return s.JSON.parse(b,void 0)}};function Ih(){}function Rh(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){q.call(this,"d")}p($n,q);function ei(){q.call(this,"c")}p(ei,q);var nn={},Ph=null;function nu(){return Ph=Ph||new Yt}nn.Ia="serverreachability";function Mh(b){q.call(this,nn.Ia,b)}p(Mh,q);function ea(b){const N=nu();tn(N,new Mh(N))}nn.STAT_EVENT="statevent";function Fs(b,N){q.call(this,nn.STAT_EVENT,b),this.stat=N}p(Fs,q);function un(b){const N=nu();tn(N,new Fs(N,b))}nn.Ja="timingevent";function ta(b,N){q.call(this,nn.Ja,b),this.size=N}p(ta,q);function na(b,N){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){b()},N)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function By(b,N,M,H,X,re){b.info(function(){if(b.g)if(re){var ye="",Ge=re.split("&");for(let dt=0;dt<Ge.length;dt++){var rn=Ge[dt].split("=");if(rn.length>1){const Lt=rn[0];rn=rn[1];const ii=Lt.split("_");ye=ii.length>=2&&ii[1]=="type"?ye+(Lt+"="+rn+"&"):ye+(Lt+"=redacted&")}}}else ye=null;else ye=re;return"XMLHTTP REQ ("+H+") [attempt "+X+"]: "+N+`
`+M+`
`+ye})}function Dh(b,N,M,H,X,re,ye){b.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+X+"]: "+N+`
`+M+`
`+re+" "+ye})}function ra(b,N,M,H){b.info(function(){return"XMLHTTP TEXT ("+N+"): "+zy(b,M)+(H?" "+H:"")})}function qs(b,N){b.info(function(){return"TIMEOUT: "+N})}Ci.prototype.info=function(){};function zy(b,N){if(!b.g)return N;if(!N)return null;try{const re=JSON.parse(N);if(re){for(b=0;b<re.length;b++)if(Array.isArray(re[b])){var M=re[b];if(!(M.length<2)){var H=M[1];if(Array.isArray(H)&&!(H.length<1)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ye=1;ye<H.length;ye++)H[ye]=""}}}}return Lo(re)}catch{return N}}var $s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kc;function Hs(){}p(Hs,Ih),Hs.prototype.g=function(){return new XMLHttpRequest},Kc=new Hs;function Ua(b){return encodeURIComponent(String(b))}function Oh(b){var N=1;b=b.split(":");const M=[];for(;N>0&&b.length;)M.push(b.shift()),N--;return b.length&&M.push(b.join(":")),M}function Ni(b,N,M,H){this.j=b,this.i=N,this.l=M,this.S=H||1,this.V=new Zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var cn={},Dn={};function ia(b,N,M){b.M=1,b.A=Gs(dn(N)),b.u=M,b.R=!0,ru(b,null)}function ru(b,N){b.F=Date.now(),aa(b),b.B=dn(b.A);var M=b.B,H=b.S;Array.isArray(H)||(H=[String(H)]),su(M.i,"t",H),b.C=0,M=b.j.L,b.h=new Ii,b.g=Wh(b.j,M?N:null,!b.u),b.P>0&&(b.O=new Mn(f(b.Y,b,b.g),b.P)),N=b.V,M=b.g,H=b.ba;var X="readystatechange";Array.isArray(X)||(X&&(nt[0]=X.toString()),X=nt);for(let re=0;re<X.length;re++){const ye=le(M,X[re],H||N.handleEvent,!1,N.h||N);if(!ye)break;N.g[ye.key]=ye}N=b.J?K(b.J):{},b.u?(b.v||(b.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,N)):(b.v="GET",b.g.ea(b.B,b.v,null,N)),ea(),By(b.i,b.v,b.B,b.l,b.S,b.u)}Ni.prototype.ba=function(b){b=b.target;const N=this.O;N&&Mi(b)==3?N.j():this.Y(b)},Ni.prototype.Y=function(b){try{if(b==this.g)e:{const Ge=Mi(this.g),rn=this.g.ya(),dt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||Ge!=4||rn==7||(rn==8||dt<=0?ea(3):ea(2)),oa(this);var N=this.g.ca();this.X=N;var M=Fy(this);if(this.o=N==200,Dh(this.i,this.v,this.B,this.l,this.S,Ge,N),this.o){if(this.U&&!this.L){t:{if(this.g){var H,X=this.g;if((H=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(H)){var re=H;break t}}re=null}if(b=re)ra(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sa(this,b);else{this.o=!1,this.m=3,un(12),Or(this),ti(this);break e}}if(this.R){b=!0;let Lt;for(;!this.K&&this.C<M.length;)if(Lt=Lh(this,M),Lt==Dn){Ge==4&&(this.m=4,un(14),b=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==cn){this.m=4,un(15),ra(this.i,this.l,M,"[Invalid Chunk]"),b=!1;break}else ra(this.i,this.l,Lt,null),sa(this,Lt);if(kh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||M.length!=0||this.h.h||(this.m=1,un(16),b=!1),this.o=this.o&&b,!b)ra(this.i,this.l,M,"[Invalid Chunked Response]"),Or(this),ti(this);else if(M.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),uf(ye),ye.P=!0,un(11))}}else ra(this.i,this.l,M,null),sa(this,M);Ge==4&&Or(this),this.o&&!this.K&&(Ge==4?Hh(this.j,this):(this.o=!1,aa(this)))}else Ba(this.g),N==400&&M.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),Or(this),ti(this)}}}catch{}finally{}};function Fy(b){if(!kh(b))return b.g.la();const N=Hn(b.g);if(N==="")return"";let M="";const H=N.length,X=Mi(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Or(b),ti(b),"";b.h.i=new s.TextDecoder}for(let re=0;re<H;re++)b.h.h=!0,M+=b.h.i.decode(N[re],{stream:!(X&&re==H-1)});return N.length=0,b.h.g+=M,b.C=0,b.h.g}function kh(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Lh(b,N){var M=b.C,H=N.indexOf(`
`,M);return H==-1?Dn:(M=Number(N.substring(M,H)),isNaN(M)?cn:(H+=1,H+M>N.length?Dn:(N=N.slice(H,H+M),b.C=H+M,N)))}Ni.prototype.cancel=function(){this.K=!0,Or(this)};function aa(b){b.T=Date.now()+b.H,iu(b,b.H)}function iu(b,N){if(b.D!=null)throw Error("WatchDog timer not null");b.D=na(f(b.aa,b),N)}function oa(b){b.D&&(s.clearTimeout(b.D),b.D=null)}Ni.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(qs(this.i,this.B),this.M!=2&&(ea(),un(17)),Or(this),this.m=2,ti(this)):iu(this,this.T-b)};function ti(b){b.j.I==0||b.K||Hh(b.j,b)}function Or(b){oa(b);var N=b.O;N&&typeof N.dispose=="function"&&N.dispose(),b.O=null,Hc(b.V),b.g&&(N=b.g,b.g=null,N.abort(),N.dispose())}function sa(b,N){try{var M=b.j;if(M.I!=0&&(M.g==b||ua(M.h,b))){if(!b.L&&ua(M.h,b)&&M.I==3){try{var H=M.Ba.g.parse(N)}catch{H=null}if(Array.isArray(H)&&H.length==3){var X=H;if(X[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<b.F)du(M),$o(M);else break e;Zs(M),un(18)}}else M.xa=X[1],0<M.xa-M.K&&X[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=na(f(M.Va,M),6e3));la(M.h)<=1&&M.ta&&(M.ta=void 0)}else ma(M,11)}else if((b.L||M.g==b)&&du(M),!U(N))for(X=M.Ba.g.parse(N),N=0;N<X.length;N++){let dt=X[N];const Lt=dt[0];if(!(Lt<=M.K))if(M.K=Lt,dt=dt[1],M.I==2)if(dt[0]=="c"){M.M=dt[1],M.ba=dt[2];const ii=dt[3];ii!=null&&(M.ka=ii,M.j.info("VER="+M.ka));const ga=dt[4];ga!=null&&(M.za=ga,M.j.info("SVER="+M.za));const Di=dt[5];Di!=null&&typeof Di=="number"&&Di>0&&(H=1.5*Di,M.O=H,M.j.info("backChannelRequestTimeoutMs_="+H)),H=M;const Oi=b.g;if(Oi){const el=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var re=H.h;re.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Jc(re,re.h),re.h=null))}if(H.G){const hu=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;hu&&(H.wa=hu,mt(H.J,H.G,hu))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-b.F,M.j.info("Handshake RTT: "+M.T+"ms")),H=M;var ye=b;if(H.na=Yh(H,H.L?H.ba:null,H.W),ye.L){Xc(H.h,ye);var Ge=ye,rn=H.O;rn&&(Ge.H=rn),Ge.D&&(oa(Ge),aa(Ge)),H.g=ye}else qh(H);M.i.length>0&&pa(M)}else dt[0]!="stop"&&dt[0]!="close"||ma(M,7);else M.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?ma(M,7):sf(M):dt[0]!="noop"&&M.l&&M.l.qa(dt),M.A=0)}}ea(4)}catch{}}var fn=class{constructor(b,N){this.g=b,this.map=N}};function Yc(b){this.l=b||10,s.PerformanceNavigationTiming?(b=s.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wc(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function la(b){return b.h?1:b.g?b.g.size:0}function ua(b,N){return b.h?b.h==N:b.g?b.g.has(N):!1}function Jc(b,N){b.g?b.g.add(N):b.h=N}function Xc(b,N){b.h&&b.h==N?b.h=null:b.g&&b.g.has(N)&&b.g.delete(N)}Yc.prototype.cancel=function(){if(this.i=Qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Qc(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let N=b.i;for(const M of b.g.values())N=N.concat(M.G);return N}return _(b.i)}var jh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function au(b,N){if(b){b=b.split("&");for(let M=0;M<b.length;M++){const H=b[M].indexOf("=");let X,re=null;H>=0?(X=b[M].substring(0,H),re=b[M].substring(H+1)):X=b[M],N(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function kr(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;b instanceof kr?(this.l=b.l,On(this,b.j),this.o=b.o,this.g=b.g,jo(this,b.u),this.h=b.h,Zc(this,zh(b.i)),this.m=b.m):b&&(N=String(b).match(jh))?(this.l=!1,On(this,N[1]||"",!0),this.o=ca(N[2]||""),this.g=ca(N[3]||"",!0),jo(this,N[4]),this.h=ca(N[5]||"",!0),Zc(this,N[6]||"",!0),this.m=ca(N[7]||"")):(this.l=!1,this.i=new Vo(null,this.l))}kr.prototype.toString=function(){const b=[];var N=this.j;N&&b.push(Ks(N,ou,!0),":");var M=this.g;return(M||N=="file")&&(b.push("//"),(N=this.o)&&b.push(Ks(N,ou,!0),"@"),b.push(Ua(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&b.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&b.push("/"),b.push(Ks(M,M.charAt(0)=="/"?ef:Uh,!0))),(M=this.i.toString())&&b.push("?",M),(M=this.m)&&b.push("#",Ks(M,Vh)),b.join("")},kr.prototype.resolve=function(b){const N=dn(this);let M=!!b.j;M?On(N,b.j):M=!!b.o,M?N.o=b.o:M=!!b.g,M?N.g=b.g:M=b.u!=null;var H=b.h;if(M)jo(N,b.u);else if(M=!!b.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var X=N.h.lastIndexOf("/");X!=-1&&(H=N.h.slice(0,X+1)+H)}if(X=H,X==".."||X==".")H="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){H=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ye=0;ye<X.length;){const Ge=X[ye++];Ge=="."?H&&ye==X.length&&re.push(""):Ge==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),H&&ye==X.length&&re.push("")):(re.push(Ge),H=!0)}H=re.join("/")}else H=X}return M?N.h=H:M=b.i.toString()!=="",M?Zc(N,zh(b.i)):M=!!b.m,M&&(N.m=b.m),N};function dn(b){return new kr(b)}function On(b,N,M){b.j=M?ca(N,!0):N,b.j&&(b.j=b.j.replace(/:$/,""))}function jo(b,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);b.u=N}else b.u=null}function Zc(b,N,M){N instanceof Vo?(b.i=N,lu(b.i,b.l)):(M||(N=Ks(N,Uo)),b.i=new Vo(N,b.l))}function mt(b,N,M){b.i.set(N,M)}function Gs(b){return mt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function ca(b,N){return b?N?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Ks(b,N,M){return typeof b=="string"?(b=encodeURI(b).replace(N,_r),M&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function _r(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var ou=/[#\/\?@]/g,Uh=/[#\?:]/g,ef=/[#\?]/g,Uo=/[#\?@]/g,Vh=/#/g;function Vo(b,N){this.h=this.g=null,this.i=b||null,this.j=!!N}function Er(b){b.g||(b.g=new Map,b.h=0,b.i&&au(b.i,function(N,M){b.add(decodeURIComponent(N.replace(/\+/g," ")),M)}))}t=Vo.prototype,t.add=function(b,N){Er(this),this.i=null,b=Bo(this,b);let M=this.g.get(b);return M||this.g.set(b,M=[]),M.push(N),this.h+=1,this};function Bh(b,N){Er(b),N=Bo(b,N),b.g.has(N)&&(b.i=null,b.h-=b.g.get(N).length,b.g.delete(N))}function tf(b,N){return Er(b),N=Bo(b,N),b.g.has(N)}t.forEach=function(b,N){Er(this),this.g.forEach(function(M,H){M.forEach(function(X){b.call(N,X,H,this)},this)},this)};function nf(b,N){Er(b);let M=[];if(typeof N=="string")tf(b,N)&&(M=M.concat(b.g.get(Bo(b,N))));else for(b=Array.from(b.g.values()),N=0;N<b.length;N++)M=M.concat(b[N]);return M}t.set=function(b,N){return Er(this),this.i=null,b=Bo(this,b),tf(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[N]),this.h+=1,this},t.get=function(b,N){return b?(b=nf(this,b),b.length>0?String(b[0]):N):N};function su(b,N,M){Bh(b,N),M.length>0&&(b.i=null,b.g.set(Bo(b,N),_(M)),b.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],N=Array.from(this.g.keys());for(let H=0;H<N.length;H++){var M=N[H];const X=Ua(M);M=nf(this,M);for(let re=0;re<M.length;re++){let ye=X;M[re]!==""&&(ye+="="+Ua(M[re])),b.push(ye)}}return this.i=b.join("&")};function zh(b){const N=new Vo;return N.i=b.i,b.g&&(N.g=new Map(b.g),N.h=b.h),N}function Bo(b,N){return N=String(N),b.j&&(N=N.toLowerCase()),N}function lu(b,N){N&&!b.j&&(Er(b),b.i=null,b.g.forEach(function(M,H){const X=H.toLowerCase();H!=X&&(Bh(this,H),su(this,X,M))},b)),b.j=N}function Ri(b,N){const M=new Ci;if(s.Image){const H=new Image;H.onload=h(ni,M,"TestLoadImage: loaded",!0,N,H),H.onerror=h(ni,M,"TestLoadImage: error",!1,N,H),H.onabort=h(ni,M,"TestLoadImage: abort",!1,N,H),H.ontimeout=h(ni,M,"TestLoadImage: timeout",!1,N,H),s.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=b}else N(!1)}function rf(b,N){const M=new Ci,H=new AbortController,X=setTimeout(()=>{H.abort(),ni(M,"TestPingServer: timeout",!1,N)},1e4);fetch(b,{signal:H.signal}).then(re=>{clearTimeout(X),re.ok?ni(M,"TestPingServer: ok",!0,N):ni(M,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(X),ni(M,"TestPingServer: error",!1,N)})}function ni(b,N,M,H,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),H(M)}catch{}}function zo(){this.g=new Nh}function fa(b){this.i=b.Sb||null,this.h=b.ab||!1}p(fa,Ih),fa.prototype.g=function(){return new Ys(this.i,this.h)};function Ys(b,N){Yt.call(this),this.H=b,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ys,Yt),t=Ys.prototype,t.open=function(b,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=N,this.readyState=1,Pi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(N.body=b),(this.H||s).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uu(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function uu(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var N=b.value?b.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!b.done}))&&(this.response=this.responseText+=N)}b.done?Fo(this):Pi(this),this.readyState==3&&uu(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Fo(this))},t.Na=function(b){this.g&&(this.response=b,Fo(this))},t.ga=function(){this.g&&Fo(this)};function Fo(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Pi(b)}t.setRequestHeader=function(b,N){this.A.append(b,N)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],N=this.h.entries();for(var M=N.next();!M.done;)M=M.value,b.push(M[0]+": "+M[1]),M=N.next();return b.join(`\r
`)};function Pi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ri(b){let N="";return Te(b,function(M,H){N+=H,N+=":",N+=M,N+=`\r
`}),N}function Ws(b,N,M){e:{for(H in M){var H=!1;break e}H=!0}H||(M=ri(M),typeof b=="string"?M!=null&&Ua(M):mt(b,N,M))}function xt(b){Yt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(xt,Yt);var da=/^https?$/i,af=["POST","PUT"];t=xt.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,N,M,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);N=N?N.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kc.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(N,String(b),!0),this.B=!1}catch(re){Js(this,re);return}if(b=M||"",M=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var X in H)M.set(X,H[X]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const re of H.keys())M.set(re,H.get(re));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(M.keys()).find(re=>re.toLowerCase()=="content-type"),X=s.FormData&&b instanceof s.FormData,!(Array.prototype.indexOf.call(af,N,void 0)>=0)||H||X||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of M)this.g.setRequestHeader(re,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(re){Js(this,re)}};function Js(b,N){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=N,b.o=5,of(b),Va(b)}function of(b){b.A||(b.A=!0,tn(b,"complete"),tn(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,tn(this,"complete"),tn(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),xt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},t.Xa=function(){Xs(this)};function Xs(b){if(b.h&&typeof a<"u"){if(b.v&&Mi(b)==4)setTimeout(b.Ca.bind(b),0);else if(tn(b,"readystatechange"),Mi(b)==4){b.h=!1;try{const re=b.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var M;if(!(M=N)){var H;if(H=re===0){let ye=String(b.D).match(jh)[1]||null;!ye&&s.self&&s.self.location&&(ye=s.self.location.protocol.slice(0,-1)),H=!da.test(ye?ye.toLowerCase():"")}M=H}if(M)tn(b,"complete"),tn(b,"success");else{b.o=6;try{var X=Mi(b)>2?b.g.statusText:""}catch{X=""}b.l=X+" ["+b.ca()+"]",of(b)}}finally{Va(b)}}}}function Va(b,N){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const M=b.g;b.g=null,N||tn(b,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Mi(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var N=this.g.responseText;return b&&N.indexOf(b)==0&&(N=N.substring(b.length)),Vy(N)}};function Hn(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Ba(b){const N={};b=(b.g&&Mi(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<b.length;H++){if(U(b[H]))continue;var M=Oh(b[H]);const X=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const re=N[X]||[];N[X]=re,re.push(M)}De(N,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(b,N,M){return M&&M.internalChannelParams&&M.internalChannelParams[b]||N}function qo(b){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ha("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ha("baseRetryDelayMs",5e3,b),this.Za=ha("retryDelaySeedMs",1e4,b),this.Ta=ha("forwardChannelMaxRetries",2,b),this.va=ha("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Yc(b&&b.concurrentRequestLimit),this.Ba=new zo,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qo.prototype,t.ka=8,t.I=1,t.connect=function(b,N,M,H){un(0),this.W=b,this.H=N||{},M&&H!==void 0&&(this.H.OSID=M,this.H.OAID=H),this.F=this.X,this.J=Yh(this,null,this.W),pa(this)};function sf(b){if(cu(b),b.I==3){var N=b.V++,M=dn(b.J);if(mt(M,"SID",b.M),mt(M,"RID",N),mt(M,"TYPE","terminate"),Qs(b,M),N=new Ni(b,b.j,N),N.M=2,N.A=Gs(dn(M)),M=!1,s.navigator&&s.navigator.sendBeacon)try{M=s.navigator.sendBeacon(N.A.toString(),"")}catch{}!M&&s.Image&&(new Image().src=N.A,M=!0),M||(N.g=Wh(N.j,null),N.g.ea(N.A)),N.F=Date.now(),aa(N)}Kh(b)}function $o(b){b.g&&(uf(b),b.g.cancel(),b.g=null)}function cu(b){$o(b),b.v&&(s.clearTimeout(b.v),b.v=null),du(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&s.clearTimeout(b.m),b.m=null)}function pa(b){if(!Wc(b.h)&&!b.m){b.m=!0;var N=b.Ea;L||k(),z||(L(),z=!0),D.add(N,b),b.D=0}}function fu(b,N){return la(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=N.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=na(f(b.Ea,b,N),Gh(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const X=new Ni(this,this.j,b);let re=this.o;if(this.U&&(re?(re=K(re),ve(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var N=0,M=0;M<this.i.length;M++){t:{var H=this.i[M];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(N+=H,N>4096){N=M;break e}if(N===4096||M===this.i.length-1){N=M+1;break e}}N=1e3}else N=1e3;N=Fh(this,X,N),M=dn(this.J),mt(M,"RID",b),mt(M,"CVER",22),this.G&&mt(M,"X-HTTP-Session-Id",this.G),Qs(this,M),re&&(this.R?N="headers="+Ua(ri(re))+"&"+N:this.u&&Ws(M,this.u,re)),Jc(this.h,X),this.Ra&&mt(M,"TYPE","init"),this.S?(mt(M,"$req",N),mt(M,"SID","null"),X.U=!0,ia(X,M,null)):ia(X,M,N),this.I=2}}else this.I==3&&(b?lf(this,b):this.i.length==0||Wc(this.h)||lf(this))};function lf(b,N){var M;N?M=N.l:M=b.V++;const H=dn(b.J);mt(H,"SID",b.M),mt(H,"RID",M),mt(H,"AID",b.K),Qs(b,H),b.u&&b.o&&Ws(H,b.u,b.o),M=new Ni(b,b.j,M,b.D+1),b.u===null&&(M.J=b.o),N&&(b.i=N.G.concat(b.i)),N=Fh(b,M,1e3),M.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Jc(b.h,M),ia(M,H,N)}function Qs(b,N){b.H&&Te(b.H,function(M,H){mt(N,H,M)}),b.l&&Te({},function(M,H){mt(N,H,M)})}function Fh(b,N,M){M=Math.min(b.i.length,M);const H=b.l?f(b.l.Ka,b.l,b):null;e:{var X=b.i;let Ge=-1;for(;;){const rn=["count="+M];Ge==-1?M>0?(Ge=X[0].g,rn.push("ofs="+Ge)):Ge=0:rn.push("ofs="+Ge);let dt=!0;for(let Lt=0;Lt<M;Lt++){var re=X[Lt].g;const ii=X[Lt].map;if(re-=Ge,re<0)Ge=Math.max(0,X[Lt].g-100),dt=!1;else try{re="req"+re+"_"||"";try{var ye=ii instanceof Map?ii:Object.entries(ii);for(const[ga,Di]of ye){let Oi=Di;u(Di)&&(Oi=Lo(Di)),rn.push(re+ga+"="+encodeURIComponent(Oi))}}catch(ga){throw rn.push(re+"type="+encodeURIComponent("_badmap")),ga}}catch{H&&H(ii)}}if(dt){ye=rn.join("&");break e}}ye=void 0}return b=b.i.splice(0,M),N.G=b,ye}function qh(b){if(!b.g&&!b.v){b.Y=1;var N=b.Da;L||k(),z||(L(),z=!0),D.add(N,b),b.A=0}}function Zs(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=na(f(b.Da,b),Gh(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,$h(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=na(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),$o(this),$h(this))};function uf(b){b.B!=null&&(s.clearTimeout(b.B),b.B=null)}function $h(b){b.g=new Ni(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var N=dn(b.na);mt(N,"RID","rpc"),mt(N,"SID",b.M),mt(N,"AID",b.K),mt(N,"CI",b.F?"0":"1"),!b.F&&b.ia&&mt(N,"TO",b.ia),mt(N,"TYPE","xmlhttp"),Qs(b,N),b.u&&b.o&&Ws(N,b.u,b.o),b.O&&(b.g.H=b.O);var M=b.g;b=b.ba,M.M=1,M.A=Gs(dn(N)),M.u=null,M.R=!0,ru(M,b)}t.Va=function(){this.C!=null&&(this.C=null,$o(this),Zs(this),un(19))};function du(b){b.C!=null&&(s.clearTimeout(b.C),b.C=null)}function Hh(b,N){var M=null;if(b.g==N){du(b),uf(b),b.g=null;var H=2}else if(ua(b.h,N))M=N.G,Xc(b.h,N),H=1;else return;if(b.I!=0){if(N.o)if(H==1){M=N.u?N.u.length:0,N=Date.now()-N.F;var X=b.D;H=nu(),tn(H,new ta(H,M)),pa(b)}else qh(b);else if(X=N.m,X==3||X==0&&N.X>0||!(H==1&&fu(b,N)||H==2&&Zs(b)))switch(M&&M.length>0&&(N=b.h,N.i=N.i.concat(M)),X){case 1:ma(b,5);break;case 4:ma(b,10);break;case 3:ma(b,6);break;default:ma(b,2)}}}function Gh(b,N){let M=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(M*=2),M*N}function ma(b,N){if(b.j.info("Error code "+N),N==2){var M=f(b.bb,b),H=b.Ua;const X=!H;H=new kr(H||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||On(H,"https"),Gs(H),X?Ri(H.toString(),M):rf(H.toString(),M)}else un(2);b.I=0,b.l&&b.l.pa(N),Kh(b),cu(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function Kh(b){if(b.I=0,b.ja=[],b.l){const N=Qc(b.h);(N.length!=0||b.i.length!=0)&&(A(b.ja,N),A(b.ja,b.i),b.h.i.length=0,_(b.i),b.i.length=0),b.l.oa()}}function Yh(b,N,M){var H=M instanceof kr?dn(M):new kr(M);if(H.g!="")N&&(H.g=N+"."+H.g),jo(H,H.u);else{var X=s.location;H=X.protocol,N=N?N+"."+X.hostname:X.hostname,X=+X.port;const re=new kr(null);H&&On(re,H),N&&(re.g=N),X&&jo(re,X),M&&(re.h=M),H=re}return M=b.G,N=b.wa,M&&N&&mt(H,M,N),mt(H,"VER",b.ka),Qs(b,H),H}function Wh(b,N,M){if(N&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=b.Aa&&!b.ma?new xt(new fa({ab:M})):new xt(b.ma),N.Fa(b.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jh(){}t=Jh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ho(){}Ho.prototype.g=function(b,N){return new dr(b,N)};function dr(b,N){Yt.call(this),this.g=new qo(N),this.l=b,this.h=N&&N.messageUrlParams||null,b=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(b?b["X-WebChannel-Content-Type"]=N.messageContentType:b={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(b?b["X-WebChannel-Client-Profile"]=N.sa:b={"X-WebChannel-Client-Profile":N.sa}),this.g.U=b,(b=N&&N.Qb)&&!U(b)&&(this.g.u=b),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!U(N)&&(this.g.G=N,b=this.h,b!==null&&N in b&&(b=this.h,N in b&&delete b[N])),this.j=new za(this)}p(dr,Yt),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){sf(this.g)},dr.prototype.o=function(b){var N=this.g;if(typeof b=="string"){var M={};M.__data__=b,b=M}else this.v&&(M={},M.__data__=Lo(b),b=M);N.i.push(new fn(N.Ya++,b)),N.I==3&&pa(N)},dr.prototype.N=function(){this.g.l=null,delete this.j,sf(this.g),delete this.g,dr.Z.N.call(this)};function Xh(b){$n.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var N=b.__sm__;if(N){e:{for(const M in N){b=M;break e}b=void 0}(this.i=b)&&(b=this.i,N=N!==null&&b in N?N[b]:void 0),this.data=N}else this.data=b}p(Xh,$n);function Qh(){ei.call(this),this.status=1}p(Qh,ei);function za(b){this.g=b}p(za,Jh),za.prototype.ra=function(){tn(this.g,"a")},za.prototype.qa=function(b){tn(this.g,new Xh(b))},za.prototype.pa=function(b){tn(this.g,new Qh)},za.prototype.oa=function(){tn(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,KV=function(){return new Ho},GV=function(){return nu()},HV=nn,hT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,Fm=$s,Gc.COMPLETE="complete",$V=Gc,Rh.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Yt.prototype.listen=Yt.prototype.J,fd=Rh,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,qV=xt}).apply(typeof wm<"u"?wm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc="12.8.0";function ege(t){Vc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new MV("@firebase/firestore");function Yu(){return Fl.logLevel}function we(t,...e){if(Fl.logLevel<=at.DEBUG){const n=e.map(Yw);Fl.debug(`Firestore (${Vc}): ${t}`,...n)}}function So(t,...e){if(Fl.logLevel<=at.ERROR){const n=e.map(Yw);Fl.error(`Firestore (${Vc}): ${t}`,...n)}}function yc(t,...e){if(Fl.logLevel<=at.WARN){const n=e.map(Yw);Fl.warn(`Firestore (${Vc}): ${t}`,...n)}}function Yw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YV(t,r,n)}function YV(t,e,n){let r=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw So(r),new Error(r)}function pt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||YV(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Zl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ar.UNAUTHENTICATED)))}shutdown(){}}class nge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rge{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new WV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class ige{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class age{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ige(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oge{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=sge(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function pT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return D_(i)===D_(a)?et(i,a):D_(i)?1:-1}return et(t.length,e.length)}const lge=55296,uge=57343;function D_(t){const e=t.charCodeAt(0);return e>=lge&&e<=uge}function xc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="__name__";class Ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ea.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return et(e.length,n.length)}static compareSegments(e,n){const r=Ea.isNumericId(e),i=Ea.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ea.extractNumericId(e).compare(Ea.extractNumericId(n)):pT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class Dt extends Ea{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const cge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Ea{construct(e,n,r){return new Zn(e,n,r)}static isValidIdentifier(e){return cge.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZO}static keyField(){return new Zn([ZO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Dt.fromString(e))}static fromName(e){return new Le(Dt.fromString(e).popFirst(5))}static empty(){return new Le(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e,n){if(!n)throw new Ne(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fge(t,e,n,r){if(e===!0&&r===!0)throw new Ne(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ek(t){if(!Le.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tk(t){if(Le.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jw(t);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Th(t,e){if(!XV(t))throw new Ne(pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ne(pe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=-62135596800,rk=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rk);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nk)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rk}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Th(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:bn("string",Ot._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ot(0,0))}static max(){return new qe(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=-1;function dge(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Ps(i,Le.empty(),e)}function hge(t){return new Ps(t.readTime,t.key,qd)}class Ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ps(qe.min(),Le.empty(),qd)}static max(){return new Ps(qe.max(),Le.empty(),qd)}}function pge(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==mge)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,a=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++u,u===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new he(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function vge(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ey.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=-1;function Ty(t){return t==null}function tv(t){return t===0&&1/t==-1/0}function yge(t){return typeof t=="number"&&Number.isInteger(t)&&!tv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="";function xge(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ik(e)),e=bge(t.get(n),e);return ik(e)}function bge(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case QV:n+="";break;default:n+=a}}return n}function ik(t){return t+QV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Am(this.root,e,this.comparator,!1)}getReverseIterator(){return new Am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Am(this.root,e,this.comparator,!0)}}class Am{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=a??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ok(this.data.getIterator())}getIteratorFrom(e){return new ok(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class ok{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new Cn(Zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new e5("Invalid base64 string: "+a):a}})(e);return new tr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const _ge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=_ge.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="server_timestamp",n5="__type__",r5="__previous_value__",i5="__local_write_time__";function Qw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[n5])==null?void 0:r.stringValue)===t5}function Sy(t){const e=t.mapValue.fields[r5];return Qw(e)?Sy(e):e}function $d(t){const e=Ms(t.mapValue.fields[i5].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ege{constructor(e,n,r,i,a,s,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const nv="(default)";class Hd{constructor(e,n){this.projectId=e,this.database=n||nv}static empty(){return new Hd("","")}get isDefaultDatabase(){return this.database===nv}isEqual(e){return e instanceof Hd&&e.projectId===this.projectId&&e.database===this.database}}function Tge(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="__type__",Sge="__max__",Cm={mapValue:{}},o5="__vector__",rv="value";function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qw(t)?4:Age(t)?9007199254740991:wge(t)?10:11:Be(28295,{value:t})}function Da(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $d(t).isEqual($d(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ms(i.timestampValue),u=Ms(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ds(i.bytesValue).isEqual(Ds(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return ln(i.geoPointValue.latitude)===ln(a.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return ln(i.integerValue)===ln(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ln(i.doubleValue),u=ln(a.doubleValue);return s===u?tv(s)===tv(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(ak(s)!==ak(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Da(s[c],u[c])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Gd(t,e){return(t.values||[]).find((n=>Da(n,e)))!==void 0}function bc(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const u=ln(a.integerValue||a.doubleValue),c=ln(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return sk(t.timestampValue,e.timestampValue);case 4:return sk($d(t),$d(e));case 5:return pT(t.stringValue,e.stringValue);case 6:return(function(a,s){const u=Ds(a),c=Ds(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=et(u[f],c[f]);if(h!==0)return h}return et(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const u=et(ln(a.latitude),ln(s.latitude));return u!==0?u:et(ln(a.longitude),ln(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lk(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var g,_,A,S;const u=a.fields||{},c=s.fields||{},f=(g=u[rv])==null?void 0:g.arrayValue,h=(_=c[rv])==null?void 0:_.arrayValue,p=et(((A=f==null?void 0:f.values)==null?void 0:A.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return p!==0?p:lk(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Cm.mapValue&&s===Cm.mapValue)return 0;if(a===Cm.mapValue)return 1;if(s===Cm.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=pT(c[p],h[p]);if(g!==0)return g;const _=bc(u[c[p]],f[h[p]]);if(_!==0)return _}return et(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function sk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ms(t),r=Ms(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function lk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=bc(n[i],r[i]);if(a)return a}return et(n.length,r.length)}function _c(t){return mT(t)}function mT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ds(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=mT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${mT(n.fields[s])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function qm(t){switch(Os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sy(t);return e?16+qm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+qm(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bs(r.fields,((a,s)=>{i+=a.length+qm(s)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function gT(t){return!!t&&"integerValue"in t}function Zw(t){return!!t&&"arrayValue"in t}function uk(t){return!!t&&"nullValue"in t}function ck(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $m(t){return!!t&&"mapValue"in t}function wge(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[a5])==null?void 0:r.stringValue)===o5}function yd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=yd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yd(t.arrayValue.values[n]);return e}return{...t}}function Age(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Sge}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$m(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(n)}setAll(e){let n=Zn.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=yd(s):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());$m(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Rr(yd(this.value))}}function s5(t){const e=[];return Bs(t.fields,((n,r)=>{const i=new Zn([n]);if($m(r)){const a=s5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,i,a,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new sr(e,0,qe.min(),qe.min(),qe.min(),Rr.empty(),0)}static newFoundDocument(e,n,r,i){return new sr(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new sr(e,2,n,qe.min(),qe.min(),Rr.empty(),0)}static newUnknownDocument(e,n){return new sr(e,3,n,qe.min(),qe.min(),Rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.position=e,this.inclusive=n}}function fk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Le.comparator(Le.fromName(s.referenceValue),n.key):r=bc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function dk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Da(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{}class An extends l5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ige(e,n,r):n==="array-contains"?new Mge(e,r):n==="in"?new Dge(e,r):n==="not-in"?new Oge(e,r):n==="array-contains-any"?new kge(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Rge(e,r):new Pge(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bc(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(bc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oa extends l5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oa(e,n)}matches(e){return u5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u5(t){return t.op==="and"}function c5(t){return Nge(t)&&u5(t)}function Nge(t){for(const e of t.filters)if(e instanceof Oa)return!1;return!0}function vT(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(c5(t))return t.filters.map((e=>vT(e))).join(",");{const e=t.filters.map((n=>vT(n))).join(",");return`${t.op}(${e})`}}function f5(t,e){return t instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&Da(r.value,i.value)})(t,e):t instanceof Oa?(function(r,i){return i instanceof Oa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,u)=>a&&f5(s,i.filters[u])),!0):!1})(t,e):void Be(19439)}function d5(t){return t instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${_c(n.value)}`})(t):t instanceof Oa?(function(n){return n.op.toString()+" {"+n.getFilters().map(d5).join(" ,")+"}"})(t):"Filter"}class Ige extends An{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rge extends An{constructor(e,n){super(e,"in",n),this.keys=h5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Pge extends An{constructor(e,n){super(e,"not-in",n),this.keys=h5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Le.fromName(r.referenceValue)))}class Mge extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zw(n)&&Gd(n.arrayValue,this.value)}}class Dge extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class Oge extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gd(this.value.arrayValue,n)}}class kge extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lge{constructor(e,n=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Te=null}}function hk(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Lge(t,e,n,r,i,a,s)}function e1(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ty(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_c(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_c(r))).join(",")),e.Te=n}return e.Te}function t1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cge(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dk(t.startAt,e.startAt)&&dk(t.endAt,e.endAt)}function yT(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jge(t,e,n,r,i,a,s,u){return new wy(t,e,n,r,i,a,s,u)}function n1(t){return new wy(t)}function pk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uge(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Vge(t){return t.collectionGroup!==null}function xd(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Cn(Zn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new av(a,r))})),n.has(Zn.keyField().canonicalString())||e.Ie.push(new av(Zn.keyField(),r))}return e.Ie}function Aa(t){const e=He(t);return e.Ee||(e.Ee=Bge(e,xd(t))),e.Ee}function Bge(t,e){if(t.limitType==="F")return hk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new av(i.field,a)}));const n=t.endAt?new iv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new iv(t.startAt.position,t.startAt.inclusive):null;return hk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xT(t,e,n){return new wy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ay(t,e){return t1(Aa(t),Aa(e))&&t.limitType===e.limitType}function p5(t){return`${e1(Aa(t))}|lt:${t.limitType}`}function Wu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>d5(i))).join(", ")}]`),Ty(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>_c(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>_c(i))).join(",")),`Target(${r})`})(Aa(t))}; limitType=${t.limitType})`}function Cy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Le.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of xd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const f=fk(s,u,c);return s.inclusive?f<=0:f<0})(r.startAt,xd(r),i)||r.endAt&&!(function(s,u,c){const f=fk(s,u,c);return s.inclusive?f>=0:f>0})(r.endAt,xd(r),i))})(t,e)}function zge(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m5(t){return(e,n)=>{let r=!1;for(const i of xd(t)){const a=Fge(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Fge(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):(function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?bc(c,f):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return ZV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qge=new Gt(Le.comparator);function wo(){return qge}const g5=new Gt(Le.comparator);function dd(...t){let e=g5;for(const n of t)e=e.insert(n.key,n);return e}function v5(t){let e=g5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Al(){return bd()}function y5(){return bd()}function bd(){return new eu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $ge=new Gt(Le.comparator),Hge=new Cn(Le.comparator);function tt(...t){let e=Hge;for(const n of t)e=e.add(n);return e}const Gge=new Cn(et);function Kge(){return Gge}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tv(e)?"-0":e}}function x5(t){return{integerValue:""+t}}function Yge(t,e){return yge(e)?x5(e):r1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this._=void 0}}function Wge(t,e,n){return t instanceof ov?(function(i,a){const s={fields:{[n5]:{stringValue:t5},[i5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Qw(a)&&(a=Sy(a)),a&&(s.fields[r5]=a),{mapValue:s}})(n,e):t instanceof Kd?_5(t,e):t instanceof Yd?E5(t,e):(function(i,a){const s=b5(i,a),u=mk(s)+mk(i.Ae);return gT(s)&&gT(i.Ae)?x5(u):r1(i.serializer,u)})(t,e)}function Jge(t,e,n){return t instanceof Kd?_5(t,e):t instanceof Yd?E5(t,e):n}function b5(t,e){return t instanceof sv?(function(r){return gT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ov extends Ny{}class Kd extends Ny{constructor(e){super(),this.elements=e}}function _5(t,e){const n=T5(e);for(const r of t.elements)n.some((i=>Da(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Yd extends Ny{constructor(e){super(),this.elements=e}}function E5(t,e){let n=T5(e);for(const r of t.elements)n=n.filter((i=>!Da(i,r)));return{arrayValue:{values:n}}}class sv extends Ny{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mk(t){return ln(t.integerValue||t.doubleValue)}function T5(t){return Zw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Xge(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Kd&&i instanceof Kd||r instanceof Yd&&i instanceof Yd?xc(r.elements,i.elements,Da):r instanceof sv&&i instanceof sv?Da(r.Ae,i.Ae):r instanceof ov&&i instanceof ov})(t.transform,e.transform)}class Qge{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iy{}function S5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i1(t.key,$i.none()):new Sh(t.key,t.data,$i.none());{const n=t.data,r=Rr.empty();let i=new Cn(Zn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new zs(t.key,r,new Kr(i.toArray()),$i.none())}}function Zge(t,e,n){t instanceof Sh?(function(i,a,s){const u=i.value.clone(),c=vk(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof zs?(function(i,a,s){if(!Hm(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=vk(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(w5(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function _d(t,e,n,r){return t instanceof Sh?(function(a,s,u,c){if(!Hm(a.precondition,s))return u;const f=a.value.clone(),h=yk(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof zs?(function(a,s,u,c){if(!Hm(a.precondition,s))return u;const f=yk(a.fieldTransforms,c,s),h=s.data;return h.setAll(w5(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,u){return Hm(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function eve(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=b5(r.transform,i||null);a!=null&&(n===null&&(n=Rr.empty()),n.set(r.field,a))}return n||null}function gk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xc(r,i,((a,s)=>Xge(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sh extends Iy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends Iy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function w5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vk(t,e,n){const r=new Map;pt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,Jge(s,u,n[i]))}return r}function yk(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Wge(a,s,e))}return r}class i1 extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tve extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nve{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Zge(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_d(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_d(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=y5();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=n.has(i.key)?null:u;const c=S5(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,((n,r)=>gk(n,r)))&&xc(this.baseMutations,e.baseMutations,((n,r)=>gk(n,r)))}}class a1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return $ge})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new a1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rve{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ive{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,it;function ave(t){switch(t){case pe.OK:return Be(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function A5(t){if(t===void 0)return So("GRPC error has no .code"),pe.UNKNOWN;switch(t){case vn.OK:return pe.OK;case vn.CANCELLED:return pe.CANCELLED;case vn.UNKNOWN:return pe.UNKNOWN;case vn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case vn.INTERNAL:return pe.INTERNAL;case vn.UNAVAILABLE:return pe.UNAVAILABLE;case vn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case vn.NOT_FOUND:return pe.NOT_FOUND;case vn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case vn.ABORTED:return pe.ABORTED;case vn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case vn.DATA_LOSS:return pe.DATA_LOSS;default:return Be(39323,{code:t})}}(it=vn||(vn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ove(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sve=new Cs([4294967295,4294967295],0);function xk(t){const e=ove().encode(t),n=new FV;return n.update(e),new Uint8Array(n.digest())}function bk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([i,a],0)]}class o1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hd(`Invalid padding: ${n}`);if(r<0)throw new hd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Cs.fromNumber(r)));return i.compare(sve)===1&&(i=new Cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xk(e),[r,i]=bk(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new o1(a,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=xk(e),[r,i]=bk(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ry(qe.min(),i,new Gt(et),wo(),tt())}}class wh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wh(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class C5{constructor(e,n){this.targetId=e,this.Ce=n}}class N5{constructor(e,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _k{constructor(){this.ve=0,this.Fe=Ek(),this.Me=tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}})),new wh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Ek()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lve{constructor(e){this.Ge=e,this.ze=new Map,this.je=wo(),this.He=Nm(),this.Je=Nm(),this.Ze=new Gt(et)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(yT(a))if(r===0){const s=new Le(a.path);this.et(n,s,sr.newNoDocument(s,qe.min()))}else pt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,u;try{s=Ds(r).toUint8Array()}catch(c){if(c instanceof e5)return yc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new o1(s,i,a)}catch(c){return yc(c instanceof hd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const u=this.ot(s);if(u){if(a.current&&yT(u.target)){const c=new Le(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,sr.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}}));let r=tt();this.Je.forEach(((a,s)=>{let u=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new Ry(e,n,this.Ze,this.je,r);return this.je=wo(),this.He=Nm(),this.Je=Nm(),this.Ze=new Gt(et),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new _k,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Cn(et),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Cn(et),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _k),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nm(){return new Gt(Le.comparator)}function Ek(){return new Gt(Le.comparator)}const uve={asc:"ASCENDING",desc:"DESCENDING"},cve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fve={and:"AND",or:"OR"};class dve{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bT(t,e){return t.useProto3Json||Ty(e)?e:{value:e}}function lv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hve(t,e){return lv(t,e.toTimestamp())}function Ca(t){return pt(!!t,49232),qe.fromTimestamp((function(n){const r=Ms(n);return new Ot(r.seconds,r.nanos)})(t))}function s1(t,e){return _T(t,e).canonicalString()}function _T(t,e){const n=(function(i){return new Dt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function R5(t){const e=Dt.fromString(t);return pt(k5(e),10190,{key:e.toString()}),e}function ET(t,e){return s1(t.databaseId,e.path)}function O_(t,e){const n=R5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(M5(n))}function P5(t,e){return s1(t.databaseId,e)}function pve(t){const e=R5(t);return e.length===4?Dt.emptyPath():M5(e)}function TT(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M5(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tk(t,e,n){return{name:ET(t,e),fields:n.value.mapValue.fields}}function mve(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(pt(h===void 0||typeof h=="string",58123),tr.fromBase64String(h||"")):(pt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),tr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(f){const h=f.code===void 0?pe.UNKNOWN:A5(f.code);return new Ne(h,f.message||"")})(s);n=new N5(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=O_(t,r.document.name),a=Ca(r.document.updateTime),s=r.document.createTime?Ca(r.document.createTime):qe.min(),u=new Rr({mapValue:{fields:r.document.fields}}),c=sr.newFoundDocument(i,a,s,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Gm(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=O_(t,r.document),a=r.readTime?Ca(r.readTime):qe.min(),s=sr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Gm([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=O_(t,r.document),a=r.removedTargetIds||[];n=new Gm([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new ive(i,a),u=r.targetId;n=new C5(u,s)}}return n}function gve(t,e){let n;if(e instanceof Sh)n={update:Tk(t,e.key,e.value)};else if(e instanceof i1)n={delete:ET(t,e.key)};else if(e instanceof zs)n={update:Tk(t,e.key,e.data),updateMask:wve(e.fieldMask)};else{if(!(e instanceof tve))return Be(16599,{dt:e.type});n={verify:ET(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const u=s.transform;if(u instanceof ov)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sv)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:hve(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),n}function vve(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Ca(i.updateTime):Ca(a);return s.isEqual(qe.min())&&(s=Ca(a)),new Qge(s,i.transformResults||[])})(n,e)))):[]}function yve(t,e){return{documents:[P5(t,e.path)]}}function xve(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P5(t,i);const a=(function(f){if(f.length!==0)return O5(Oa.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:Ju(g.field),direction:Eve(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=bT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function bve(t){let e=pve(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const g=D5(p);return g instanceof Oa&&c5(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(A){return new av(Xu(A.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,Ty(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,_=p.values||[];return new iv(_,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,_=p.values||[];return new iv(_,g)})(n.endAt)),jge(e,i,s,a,u,"F",c,f)}function _ve(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xu(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xu(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xu(n.unaryFilter.field);return An.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xu(n.unaryFilter.field);return An.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return An.create(Xu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Oa.create(n.compositeFilter.filters.map((r=>D5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function Eve(t){return uve[t]}function Tve(t){return cve[t]}function Sve(t){return fve[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function Xu(t){return Zn.fromServerFormat(t.fieldPath)}function O5(t){return t instanceof An?(function(n){if(n.op==="=="){if(ck(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NAN"}};if(uk(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ck(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NAN"}};if(uk(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(n.field),op:Tve(n.op),value:n.value}}})(t):t instanceof Oa?(function(n){const r=n.getFilters().map((i=>O5(i)));return r.length===1?r[0]:{compositeFilter:{op:Sve(n.op),filters:r}}})(t):Be(54877,{filter:t})}function wve(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function k5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function L5(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,a=qe.min(),s=qe.min(),u=tr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ave{constructor(e){this.yt=e}}function Cve(t){const e=bve({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nve{constructor(){this.Sn=new Ive}addToCollectionParentIndex(e,n){return this.Sn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ps.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class Ive{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Cn(Dt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j5=41943040;class Ir{static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(j5,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ec(0)}static ar(){return new Ec(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="LruGarbageCollector",Rve=1048576;function Ak([t,e],[n,r]){const i=et(t,n);return i===0?et(e,r):i}class Pve{constructor(e){this.Pr=e,this.buffer=new Cn(Ak),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ak(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mve{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(wk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zc(n)?we(wk,"Ignoring IndexedDB error during garbage collection: ",n):await Bc(n)}await this.Ar(3e5)}))}}class Dve{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Ey.ce);const r=new Pve(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Sk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sk):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Yu()<=at.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Ove(t,e){return new Dve(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{constructor(){this.changes=new eu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jve{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&_d(r.mutation,i,Kr.empty(),Ot.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const i=Al();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=dd();return a.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Al();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let a=wo();const s=bd(),u=(function(){return bd()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof zs)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),_d(h.mutation,f,h.mutation.getFieldMask(),Ot.now())):s.set(f.key,Kr.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>u.set(f,new Lve(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=bd();let i=new Gt(((s,u)=>s-u)),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Kr.empty();h=u.applyToLocalView(f,h),r.set(c,h);const p=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=y5();h.forEach((g=>{if(!a.has(g)){const _=S5(n.get(g),r.get(g));_!==null&&p.set(g,_),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return he.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return Uge(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vge(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):he.resolve(Al());let u=qd,c=a;return s.next((f=>he.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,tt()))).next((h=>({batchId:u,changes:v5(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let i=dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=dd();return this.indexManager.getCollectionParents(e,a).next((u=>he.forEach(u,(c=>{const f=(function(p,g){return new wy(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,sr.newInvalidDocument(h)))}));let u=dd();return s.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&_d(h.mutation,f,Kr.empty(),Ot.now()),Cy(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uve{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return he.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ca(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:Cve(i.bundledQuery),readTime:Ca(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vve{constructor(){this.overlays=new Gt(Le.comparator),this.Lr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Al();return he.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Al(),a=n.length+1,s=new Le(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Gt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Al(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Al(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return he.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new rve(n,r));let a=this.Lr.get(n);a===void 0&&(a=tt(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bve{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.kr=new Cn(Vn.Kr),this.qr=new Cn(Vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Vn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Vn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Le(new Dt([])),r=new Vn(n,e),i=new Vn(n,e+1),a=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Le(new Dt([])),r=new Vn(n,e),i=new Vn(n,e+1);let a=tt();return this.qr.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new Vn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Le.comparator(e.key,n.key)||et(e.Hr,n.Hr)}static Ur(e,n){return et(e.Hr,n.Hr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zve{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Cn(Vn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nve(a,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Jr=this.Jr.add(new Vn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(s)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Xw:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vn(n,0),i=new Vn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(s=>{const u=this.Zr(s.Hr);a.push(u)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(et);return n.forEach((i=>{const a=new Vn(i,0),s=new Vn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(u=>{r=r.add(u.Hr)}))})),he.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Le.isDocumentKey(a)||(a=a.child(""));const s=new Vn(new Le(a),0);let u=new Cn(et);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),s),he.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){pt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return he.forEach(n.mutations,(i=>{const a=new Vn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Vn(n,0),i=this.Jr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fve{constructor(e){this.ti=e,this.docs=(function(){return new Gt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(n))}getEntries(e,n){let r=wo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():sr.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=wo();const s=n.path,u=new Le(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||pge(hge(h),r)<=0||(i.has(h.key)||Cy(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ni(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qve(this)}getSize(e){return he.resolve(this.size)}}class qve extends kve{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ve{constructor(e){this.persistence=e,this.ri=new eu((n=>e1(n)),t1),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ii=0,this.si=new l1,this.targetCount=0,this.oi=Ec._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),he.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.lr(n),he.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this._i={},this.overlays={},this.ai=new Ey(0),this.ui=!1,this.ui=!0,this.ci=new Bve,this.referenceDelegate=e(this),this.li=new $ve(this),this.indexManager=new Nve,this.remoteDocumentCache=(function(i){return new Fve(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Ave(n),this.Pi=new Uve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vve,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new zve(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new Hve(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return he.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Hve extends gge{constructor(e){super(),this.currentSequenceNumber=e}}class u1{constructor(e){this.persistence=e,this.Ri=new l1,this.Ai=null}static Vi(e){return new u1(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(r=>{const i=Le.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class uv{constructor(e,n){this.persistence=e,this.fi=new eu((r=>xge(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Ove(this,n)}static Vi(e,n){return new uv(e,n)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return he.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((u=>{u||(r++,a.removeEntry(s,qe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qm(e.data.value)),n}wr(e,n,r){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=tt(),i=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new c1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kve{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Upe()?8:vge(Lpe())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new Gve;return this.ys(e,n,s).next((u=>{if(a.result=u,this.As)return this.ws(e,n,s,u.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Yu()<=at.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(Yu()<=at.DEBUG&&we("QueryEngine","Query:",Wu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Yu()<=at.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Aa(n))):he.resolve())}gs(e,n){if(pk(n))return he.resolve(null);let r=Aa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=xT(n,null,"F"),r=Aa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=tt(...a);return this.fs.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,s,c.readTime)?this.gs(e,xT(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return pk(n)||i.isEqual(qe.min())?he.resolve(null):this.fs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?he.resolve(null):(Yu()<=at.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wu(n)),this.Ds(e,s,n,dge(i,qd)).next((u=>u)))}))}bs(e,n){let r=new Cn(m5(e));return n.forEach(((i,a)=>{Cy(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Yu()<=at.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Wu(n)),this.fs.getDocumentsMatchingQuery(e,n,Ps.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="LocalStore",Yve=3e8;class Wve{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Gt(et),this.Fs=new eu((a=>e1(a)),t1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jve(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Jve(t,e,n,r){return new Wve(t,e,n,r)}async function V5(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],u=[];let c=tt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function Xve(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,g=p.keys();let _=he.resolve();return g.forEach((A=>{_=_.next((()=>h.getEntry(c,A))).next((S=>{const w=f.docVersions.get(A);pt(w!==null,48541),S.version.compareTo(w)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),h.addEntry(S)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=tt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function B5(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Qve(t,e){const n=He(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;u.push(n.li.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(a,h.addedDocuments,p))));let _=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(tr.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),(function(S,w,I){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Yve?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(g,_,h)&&u.push(n.li.updateTargetData(a,_))}));let c=wo(),f=tt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(Zve(a,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(qe.min())){const h=n.li.getLastRemoteSnapshotVersion(a).next((p=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return he.waitFor(u).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.vs=i,a)))}function Zve(t,e,n){let r=tt(),i=tt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=wo();return n.forEach(((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(qe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):we(f1,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function eye(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tye(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,he.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new _s(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function ST(t,e,n){const r=He(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!zc(s))throw s;we(f1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Ck(t,e,n){const r=He(t);let i=qe.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const p=He(c),g=p.Fs.get(h);return g!==void 0?he.resolve(p.vs.get(g)):p.li.getTargetData(f,h)})(r,s,Aa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,u.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:qe.min(),n?a:tt()))).next((u=>(nye(r,zge(e),u),{documents:u,ks:a})))))}function nye(t,e,n){let r=t.Ms.get(e)||qe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class Nk{constructor(){this.activeTargetIds=Kge()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rye{constructor(){this.vo=new Nk,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Nk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iye{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="ConnectivityMonitor";class Rk{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(Ik,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(Ik,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=null;function wT(){return Im===null?Im=(function(){return 268435456+Math.round(2147483648*Math.random())})():Im++,"0x"+Im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="RestConnection",aye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class oye{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===nv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=wT(),u=this.Qo(e,n.toUriEncodedString());we(k_,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:f}=new URL(u),h=Eh(f);return this.zo(e,u,c,r,h).then((p=>(we(k_,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw yc(k_,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=aye[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sye{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection",ad=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class oc extends oye{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!oc.c_){const e=GV();ad(e,HV.STAT_EVENT,(n=>{n.stat===hT.PROXY?we(rr,"STAT_EVENT: detected buffering proxy"):n.stat===hT.NOPROXY&&we(rr,"STAT_EVENT: detected no buffering proxy")})),oc.c_=!0}}zo(e,n,r,i,a){const s=wT();return new Promise(((u,c)=>{const f=new qV;f.setWithCredentials(!0),f.listenOnce($V.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Fm.NO_ERROR:const p=f.getResponseJson();we(rr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Fm.TIMEOUT:we(rr,`RPC '${e}' ${s} timed out`),c(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Fm.HTTP_ERROR:const g=f.getStatus();if(we(rr,`RPC '${e}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_==null?void 0:_.error;if(A&&A.status&&A.message){const S=(function(I){const O=I.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(O)>=0?O:pe.UNKNOWN})(A.status);c(new Ne(S,A.message))}else c(new Ne(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(rr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(rr,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=wT(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");we(rr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=s.createWebChannel(f,u);this.I_(h);let p=!1,g=!1;const _=new sye({Ho:A=>{g?we(rr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(we(rr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),we(rr,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},Jo:()=>h.close()});return ad(h,fd.EventType.OPEN,(()=>{g||(we(rr,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),ad(h,fd.EventType.CLOSE,(()=>{g||(g=!0,we(rr,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(h))})),ad(h,fd.EventType.ERROR,(A=>{g||(g=!0,yc(rr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),_.o_(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))})),ad(h,fd.EventType.MESSAGE,(A=>{var S;if(!g){const w=A.data[0];pt(!!w,16349);const I=w,O=(I==null?void 0:I.error)||((S=I[0])==null?void 0:S.error);if(O){we(rr,`RPC '${e}' stream ${i} received error:`,O);const P=O.status;let B=(function(D){const k=vn[D];if(k!==void 0)return A5(k)})(P),L=O.message;B===void 0&&(B=pe.INTERNAL,L="Unknown error status: "+P+" with message "+O.message),g=!0,_.o_(new Ne(B,L)),h.close()}else we(rr,`RPC '${e}' stream ${i} received:`,w),_.__(w)}})),oc.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KV()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lye(t){return new oc(t)}function L_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){return new dve(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oc.c_=!1;class z5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="PersistentStream";class F5{constructor(e,n,r,i,a,s,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(So(n.toString()),So("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(Pk,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(Pk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uye extends F5{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mve(this.serializer,e),r=(function(a){if(!("targetChange"in a))return qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?qe.min():s.readTime?Ca(s.readTime):qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=TT(this.serializer),n.addTarget=(function(a,s){let u;const c=s.target;if(u=yT(c)?{documents:yve(a,c)}:{query:xve(a,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=I5(a,s.resumeToken);const f=bT(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(qe.min())>0){u.readTime=lv(a,s.snapshotVersion.toTimestamp());const f=bT(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=_ve(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=TT(this.serializer),n.removeTarget=e,this.K_(n)}}class cye extends F5{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vve(e.writeResults,e.commitTime),r=Ca(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=TT(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gve(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fye{}class dye extends fye{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,_T(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(pe.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.jo(e,_T(n,r),i,s,u,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(pe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hye(t,e,n,r){return new dye(t,e,n,r)}class pye{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(So(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="RemoteStore";class mye{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{tu(this)&&(we(ql,"Restarting streams for network reachability change."),await(async function(c){const f=He(c);f.Ea.add(4),await Ah(f),f.Va.set("Unknown"),f.Ea.delete(4),await My(f)})(this))}))})),this.Va=new pye(r,i)}}async function My(t){if(tu(t))for(const e of t.Ra)await e(!0)}async function Ah(t){for(const e of t.Ra)await e(!1)}function q5(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),m1(n)?p1(n):Fc(n).O_()&&h1(n,e))}function d1(t,e){const n=He(t),r=Fc(n);n.Ia.delete(e),r.O_()&&$5(n,e),n.Ia.size===0&&(r.O_()?r.L_():tu(n)&&n.Va.set("Unknown"))}function h1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).Z_(e)}function $5(t,e){t.da.$e(e),Fc(t).X_(e)}function p1(t){t.da=new lve({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.Va.ua()}function m1(t){return tu(t)&&!Fc(t).x_()&&t.Ia.size>0}function tu(t){return He(t).Ea.size===0}function H5(t){t.da=void 0}async function gye(t){t.Va.set("Online")}async function vye(t){t.Ia.forEach(((e,n)=>{h1(t,e)}))}async function yye(t,e){H5(t),m1(t)?(t.Va.ha(e),p1(t)):t.Va.set("Unknown")}async function xye(t,e,n){if(t.Va.set("Online"),e instanceof N5&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){we(ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cv(t,r)}else if(e instanceof Gm?t.da.Xe(e):e instanceof C5?t.da.st(e):t.da.tt(e),!n.isEqual(qe.min()))try{const r=await B5(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const u=a.da.Tt(s);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(tr.EMPTY_BYTE_STRING,h.snapshotVersion)),$5(a,c);const p=new _s(h.target,c,f,h.sequenceNumber);h1(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){we(ql,"Failed to raise snapshot:",r),await cv(t,r)}}async function cv(t,e,n){if(!zc(e))throw e;t.Ea.add(1),await Ah(t),t.Va.set("Offline"),n||(n=()=>B5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(ql,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await My(t)}))}function G5(t,e){return e().catch((n=>cv(t,n,e)))}async function Dy(t){const e=He(t),n=ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xw;for(;bye(e);)try{const i=await eye(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_ye(e,i)}catch(i){await cv(e,i)}K5(e)&&Y5(e)}function bye(t){return tu(t)&&t.Ta.length<10}function _ye(t,e){t.Ta.push(e);const n=ks(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function K5(t){return tu(t)&&!ks(t).x_()&&t.Ta.length>0}function Y5(t){ks(t).start()}async function Eye(t){ks(t).ra()}async function Tye(t){const e=ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function Sye(t,e,n){const r=t.Ta.shift(),i=a1.from(r,e,n);await G5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Dy(t)}async function wye(t,e){e&&ks(t).Y_&&await(async function(r,i){if((function(s){return ave(s)&&s!==pe.ABORTED})(i.code)){const a=r.Ta.shift();ks(r).B_(),await G5(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Dy(r)}})(t,e),K5(t)&&Y5(t)}async function Mk(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),we(ql,"RemoteStore received new credentials");const r=tu(n);n.Ea.add(3),await Ah(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await My(n)}async function Aye(t,e){const n=He(t);e?(n.Ea.delete(2),await My(n)):e||(n.Ea.add(2),await Ah(n),n.Va.set("Unknown"))}function Fc(t){return t.ma||(t.ma=(function(n,r,i){const a=He(n);return a.sa(),new uye(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:gye.bind(null,t),Yo:vye.bind(null,t),t_:yye.bind(null,t),J_:xye.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),m1(t)?p1(t):t.Va.set("Unknown")):(await t.ma.stop(),H5(t))}))),t.ma}function ks(t){return t.fa||(t.fa=(function(n,r,i){const a=He(n);return a.sa(),new cye(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Eye.bind(null,t),t_:wye.bind(null,t),ta:Tye.bind(null,t),na:Sye.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Dy(t)):(await t.fa.stop(),t.Ta.length>0&&(we(ql,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,u=new g1(e,n,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v1(t,e){if(So("AsyncQueue",`${e}: ${t}`),zc(t))return new Ne(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{static emptySet(e){return new sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=dd(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.ga=new Gt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Tc{constructor(e,n,r,i,a,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new Tc(e,n,sc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ay(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cye{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Nye{constructor(){this.queries=Ok(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),a=i.queries;i.queries=Ok(),a.forEach(((s,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new Ne(pe.ABORTED,"Firestore shutting down"))}}function Ok(){return new eu((t=>p5(t)),Ay)}async function W5(t,e){const n=He(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new Cye,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=v1(s,`Initialization of query '${Wu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&y1(n)}async function J5(t,e){const n=He(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iye(t,e){const n=He(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const u of s.ba)u.Fa(i)&&(r=!0);s.wa=i}}r&&y1(n)}function Rye(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function y1(t){t.Ca.forEach((e=>{e.next()}))}var AT,kk;(kk=AT||(AT={})).Ma="default",kk.Cache="cache";class X5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==AT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.key=e}}class Z5{constructor(e){this.key=e}}class Pye{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.eu=m5(e),this.tu=new sc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Dk,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),_=Cy(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;g&&_?g.data.isEqual(_.data)?A!==S&&(r.track({type:3,doc:_}),w=!0):this.su(g,_)||(r.track({type:2,doc:_}),w=!0,(c&&this.eu(_,c)>0||f&&this.eu(_,f)<0)&&(u=!0)):!g&&_?(r.track({type:0,doc:_}),w=!0):g&&!_&&(r.track({type:1,doc:g}),w=!0,(c||f)&&(u=!0)),w&&(_?(s=s.add(_),a=S?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(_,A){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:w})}};return S(_)-S(A)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Tc(this.query,e.tu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dk,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Z5(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Q5(r))})),n}cu(e){this.Za=e.ks,this.Ya=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const x1="SyncEngine";class Mye{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dye{constructor(e){this.key=e,this.hu=!1}}class Oye{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new eu((u=>p5(u)),Ay),this.Iu=new Map,this.Eu=new Set,this.Ru=new Gt(Le.comparator),this.Au=new Map,this.Vu=new l1,this.du={},this.mu=new Map,this.fu=Ec.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kye(t,e,n=!0){const r=aB(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await eB(r,e,n,!0),i}async function Lye(t,e){const n=aB(t);await eB(n,e,!0,!1)}async function eB(t,e,n,r){const i=await tye(t.localStore,Aa(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await jye(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&q5(t.remoteStore,i),u}async function jye(t,e,n,r,i){t.pu=(p,g,_)=>(async function(S,w,I,O){let P=w.view.ru(I);P.Ss&&(P=await Ck(S.localStore,w.query,!1).then((({documents:D})=>w.view.ru(D,P))));const B=O&&O.targetChanges.get(w.targetId),L=O&&O.targetMismatches.get(w.targetId)!=null,z=w.view.applyChanges(P,S.isPrimaryClient,B,L);return jk(S,w.targetId,z.au),z.snapshot})(t,p,g,_);const a=await Ck(t.localStore,e,!0),s=new Pye(e,a.ks),u=s.ru(a.documents),c=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);jk(t,n,f.au);const h=new Mye(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function Uye(t,e,n){const r=He(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!Ay(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ST(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&d1(r.remoteStore,i.targetId),CT(r,i.targetId)})).catch(Bc)):(CT(r,i.targetId),await ST(r.localStore,i.targetId,!0))}async function Vye(t,e){const n=He(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d1(n.remoteStore,r.targetId))}async function Bye(t,e,n){const r=Kye(t);try{const i=await(function(s,u){const c=He(s),f=Ot.now(),h=u.reduce(((_,A)=>_.add(A.key)),tt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=wo(),S=tt();return c.xs.getEntries(_,h).next((w=>{A=w,A.forEach(((I,O)=>{O.isValidDocument()||(S=S.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(_,A))).next((w=>{p=w;const I=[];for(const O of u){const P=eve(O,p.get(O.key).overlayedDocument);P!=null&&I.push(new zs(O.key,P,s5(P.value.mapValue),$i.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,I,u)})).next((w=>{g=w;const I=w.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(_,w.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:v5(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.du[s.currentUser.toKey()];f||(f=new Gt(et)),f=f.insert(u,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await Ch(r,i.changes),await Dy(r.remoteStore)}catch(i){const a=v1(i,"Failed to persist write");n.reject(a)}}async function tB(t,e){const n=He(t);try{const r=await Qve(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?pt(s.hu,14607):i.removedDocuments.size>0&&(pt(s.hu,42227),s.hu=!1))})),await Ch(n,r,e)}catch(r){await Bc(r)}}function Lk(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=He(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(u)&&(f=!0)})),f&&y1(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zye(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new Gt(Le.comparator);s=s.insert(a,sr.newNoDocument(a,qe.min()));const u=tt().add(a),c=new Ry(qe.min(),new Map,new Gt(et),s,u);await tB(r,c),r.Ru=r.Ru.remove(a),r.Au.delete(e),b1(r)}else await ST(r.localStore,e,!1).then((()=>CT(r,e,n))).catch(Bc)}async function Fye(t,e){const n=He(t),r=e.batch.batchId;try{const i=await Xve(n.localStore,e);rB(n,r,null),nB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ch(n,i)}catch(i){await Bc(i)}}async function qye(t,e,n){const r=He(t);try{const i=await(function(s,u){const c=He(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(pt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);rB(r,e,n),nB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ch(r,i)}catch(i){await Bc(i)}}function nB(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rB(t,e,n){const r=He(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function CT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||iB(t,r)}))}function iB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(d1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),b1(t))}function jk(t,e,n){for(const r of n)r instanceof Q5?(t.Vu.addReference(r.key,e),$ye(t,r)):r instanceof Z5?(we(x1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||iB(t,r.key)):Be(19791,{wu:r})}function $ye(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(x1,"New document in limbo: "+n),t.Eu.add(r),b1(t))}function b1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le(Dt.fromString(e)),r=t.fu.next();t.Au.set(r,new Dye(n)),t.Ru=t.Ru.insert(n,r),q5(t.remoteStore,new _s(Aa(n1(n.path)),r,"TargetPurposeLimboResolution",Ey.ce))}}async function Ch(t,e,n){const r=He(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=c1.Es(c.targetId,f);a.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=He(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(f,(g=>he.forEach(g.Ts,(_=>h.persistence.referenceDelegate.addReference(p,g.targetId,_))).next((()=>he.forEach(g.Is,(_=>h.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))))))}catch(p){if(!zc(p))throw p;we(f1,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const _=h.vs.get(g),A=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(A);h.vs=h.vs.insert(g,S)}}})(r.localStore,a))}async function Hye(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){we(x1,"User change. New user:",e.toKey());const r=await V5(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((u=>{u.forEach((c=>{c.reject(new Ne(pe.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ch(n,r.Ns)}}function Gye(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let i=tt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function aB(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zye.bind(null,e),e.Pu.J_=Iye.bind(null,e.eventManager),e.Pu.yu=Rye.bind(null,e.eventManager),e}function Kye(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fye.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qye.bind(null,e),e}class fv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Jve(this.persistence,new Kve,e.initialUser,this.serializer)}Cu(e){return new U5(u1.Vi,this.serializer)}Du(e){return new rye}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fv.provider={build:()=>new fv};class Yye extends fv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pt(this.persistence.referenceDelegate instanceof uv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Mve(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new U5((r=>uv.Vi(r,n)),this.serializer)}}class NT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hye.bind(null,this.syncEngine),await Aye(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Nye})()}createDatastore(e){const n=Py(e.databaseInfo.databaseId),r=lye(e.databaseInfo);return hye(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,u){return new mye(r,i,a,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Lk(this.syncEngine,n,0)),(function(){return Rk.v()?new Rk:new iye})())}createSyncEngine(e,n){return(function(i,a,s,u,c,f,h){const p=new Oye(i,a,s,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=He(i);we(ql,"RemoteStore shutting down."),a.Ea.add(5),await Ah(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}NT.provider={build:()=>new NT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):So("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class Wye{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=Ww.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{we(Ls,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(we(Ls,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function j_(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await V5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Uk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jye(t);we(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Mk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Mk(e.remoteStore,i))),t._onlineComponents=e}async function Jye(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ls,"Using user provided OfflineComponentProvider");try{await j_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;yc("Error using user provided cache. Falling back to memory cache: "+n),await j_(t,new fv)}}else we(Ls,"Using default OfflineComponentProvider"),await j_(t,new Yye(void 0));return t._offlineComponents}async function sB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ls,"Using user provided OnlineComponentProvider"),await Uk(t,t._uninitializedComponentsProvider._online)):(we(Ls,"Using default OnlineComponentProvider"),await Uk(t,new NT))),t._onlineComponents}function Xye(t){return sB(t).then((e=>e.syncEngine))}async function lB(t){const e=await sB(t),n=e.eventManager;return n.onListen=kye.bind(null,e.syncEngine),n.onUnlisten=Uye.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lye.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vye.bind(null,e.syncEngine),n}function Qye(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,f){const h=new oB({next:g=>{h.Nu(),s.enqueueAndForget((()=>J5(a,p)));const _=g.docs.has(u);!_&&g.fromCache?f.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?f.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new X5(n1(u.path),h,{includeMetadataChanges:!0,Ka:!0});return W5(a,p)})(await lB(t),t.asyncQueue,e,n,r))),r.promise}function Zye(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,f){const h=new oB({next:g=>{h.Nu(),s.enqueueAndForget((()=>J5(a,p))),g.fromCache&&c.source==="server"?f.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new X5(u,h,{includeMetadataChanges:!0,Ka:!0});return W5(a,p)})(await lB(t),t.asyncQueue,e,n,r))),r.promise}function e0e(t,e){const n=new fo;return t.asyncQueue.enqueueAndForget((async()=>Bye(await Xye(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0e="ComponentProvider",Vk=new Map;function n0e(t,e,n,r,i){return new Ege(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,uB(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="firestore.googleapis.com",Bk=!0;class zk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cB,this.ssl=Bk}else this.host=e.host,this.ssl=e.ssl??Bk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rve)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uB(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tge;switch(r.type){case"firstParty":return new age(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Vk.get(n);r&&(we(t0e,"Removing Datastore"),Vk.delete(n),r.terminate())})(this),Promise.resolve()}}function r0e(t,e,n,r={}){var f;t=Ma(t,Oy);const i=Eh(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(NV(`https://${u}`),RV("Firestore",!0)),a.host!==cB&&a.host!==u&&yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:u,ssl:i,emulatorOptions:r};if(!Zg(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ar.MOCK_USER;else{h=IV(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ar(g)}t._authCredentials=new nge(new WV(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ky(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}toJSON(){return{type:_n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Th(n,_n._jsonSchema))return new _n(e,r||null,new Le(Dt.fromString(n.referencePath)))}}_n._jsonSchemaVersion="firestore/documentReference/1.0",_n._jsonSchema={type:bn("string",_n._jsonSchemaVersion),referencePath:bn("string")};class Ns extends ky{constructor(e,n,r){super(e,n,n1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Le(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Nr(t,e,...n){if(t=Qr(t),JV("collection","path",e),t instanceof Oy){const r=Dt.fromString(e,...n);return tk(r),new Ns(t,null,r)}{if(!(t instanceof _n||t instanceof Ns))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return tk(r),new Ns(t.firestore,null,r)}}function Ct(t,e,...n){if(t=Qr(t),arguments.length===1&&(e=Ww.newId()),JV("doc","path",e),t instanceof Oy){const r=Dt.fromString(e,...n);return ek(r),new _n(t,null,new Le(r))}{if(!(t instanceof _n||t instanceof Ns))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return ek(r),new _n(t.firestore,t instanceof Ns?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="AsyncQueue";class qk{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z5(this,"async_queue_retry"),this._c=()=>{const r=L_();r&&we(Fk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=L_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=L_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zc(e))throw e;we(Fk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,So("INTERNAL UNHANDLED ERROR: ",$k(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=g1.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:$k(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $k(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qc extends Oy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qk(e),this._firestoreClient=void 0,await e}}}function i0e(t,e){const n=typeof t=="object"?t:VV(),r=typeof t=="string"?t:nv,i=kV(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=AV("firestore");a&&r0e(i,...a)}return i}function _1(t){if(t._terminated)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a0e(t),t._firestoreClient}function a0e(t){var r,i,a,s;const e=t._freezeSettings(),n=n0e(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Wye(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(tr.fromBase64String(e))}catch(n){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Th(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:bn("string",vi._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Na._jsonSchemaVersion}}static fromJSON(e){if(Th(e,Na._jsonSchema))return new Na(e.latitude,e.longitude)}}Na._jsonSchemaVersion="firestore/geoPoint/1.0",Na._jsonSchema={type:bn("string",Na._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Th(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hi(e.vectorValues);throw new Ne(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:bn("string",Hi._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0e=/^__.*__$/;class s0e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sh(e,this.data,n,this.fieldTransforms)}}class fB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:t})}}class S1{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new S1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return dv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dB(this.dataSource)&&o0e.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class l0e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Py(e)}createContext(e,n,r,i=!1){return new S1({dataSource:e,methodName:n,targetDoc:r,path:Zn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hB(t){const e=t._freezeSettings(),n=Py(t._databaseId);return new l0e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u0e(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);w1("Data must be an object, but it was:",s,r);const u=pB(r,s);let c,f;if(a.merge)c=new Kr(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const g=Wd(e,p,n);if(!s.contains(g))throw new Ne(pe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);vB(h,g)||h.push(g)}c=new Kr(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new s0e(new Rr(u),c,f)}class Ly extends T1{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ly}}function c0e(t,e,n,r){const i=t.createContext(1,e,n);w1("Data must be an object, but it was:",i,r);const a=[],s=Rr.empty();Bs(r,((c,f)=>{const h=gB(e,c,n);f=Qr(f);const p=i.childContextForFieldPath(h);if(f instanceof Ly)a.push(h);else{const g=jy(f,p);g!=null&&(a.push(h),s.set(h,g))}}));const u=new Kr(a);return new fB(s,u,i.fieldTransforms)}function f0e(t,e,n,r,i,a){const s=t.createContext(1,e,n),u=[Wd(e,r,n)],c=[i];if(a.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)u.push(Wd(e,a[g])),c.push(a[g+1]);const f=[],h=Rr.empty();for(let g=u.length-1;g>=0;--g)if(!vB(f,u[g])){const _=u[g];let A=c[g];A=Qr(A);const S=s.childContextForFieldPath(_);if(A instanceof Ly)f.push(_);else{const w=jy(A,S);w!=null&&(f.push(_),h.set(_,w))}}const p=new Kr(f);return new fB(h,p,s.fieldTransforms)}function jy(t,e){if(mB(t=Qr(t)))return w1("Unsupported field value:",e,t),pB(t,e);if(t instanceof T1)return(function(r,i){if(!dB(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const u of r){let c=jy(u,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Qr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yge(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ot.fromDate(r);return{timestampValue:lv(i.serializer,a)}}if(r instanceof Ot){const a=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lv(i.serializer,a)}}if(r instanceof Na)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:I5(i.serializer,r._byteString)};if(r instanceof _n){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:s1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hi)return(function(s,u){const c=s instanceof Hi?s.toArray():s;return{mapValue:{fields:{[a5]:{stringValue:o5},[rv]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return r1(u.serializer,h)}))}}}}}})(r,i);if(L5(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Jw(r)}`)})(t,e)}function pB(t,e){const n={};return ZV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,((r,i)=>{const a=jy(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function mB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Na||t instanceof vi||t instanceof _n||t instanceof T1||t instanceof Hi||L5(t))}function w1(t,e,n){if(!mB(n)||!XV(n)){const r=Jw(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Wd(t,e,n){if((e=Qr(e))instanceof E1)return e._internalPath;if(typeof e=="string")return gB(t,e);throw dv("Field path arguments must be of type string or ",t,!1,void 0,n)}const d0e=new RegExp("[~\\*/\\[\\]]");function gB(t,e,n){if(e.search(d0e)>=0)throw dv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new E1(...e.split("."))._internalPath}catch{throw dv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ne(pe.INVALID_ARGUMENT,u+t+c)}function vB(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0e{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[rv].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>ln(s.doubleValue)));return new Hi(n)}convertGeoPoint(e){return new Na(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);pt(k5(r),9688,{name:e});const i=new Hd(r.get(1),r.get(3)),a=new Le(r.popFirst(5));return i.isEqual(n)||So(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB extends h0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}const Hk="@firebase/firestore",Gk="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Wd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p0e extends xB{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function g0e(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class pd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rl extends xB{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rl._jsonSchema={type:bn("string",Rl._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class Km extends Rl{data(e={}){return super.data(e)}}class lc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Km(this._firestore,this._userDataWriter,r.key,r,new pd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new Km(i._firestore,i._userDataWriter,u.doc.key,u.doc,new pd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const c=new Km(i._firestore,i._userDataWriter,u.doc.key,u.doc,new pd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:v0e(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ww.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:bn("string",lc._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){t=Ma(t,_n);const e=Ma(t.firestore,qc),n=_1(e);return Qye(n,t._key).then((r=>y0e(e,t,r)))}function gl(t){t=Ma(t,ky);const e=Ma(t.firestore,qc),n=_1(e),r=new yB(e);return m0e(t._query),Zye(n,t._query).then((i=>new lc(e,r,t,i)))}function mi(t,e,n){t=Ma(t,_n);const r=Ma(t.firestore,qc),i=g0e(t.converter,e),a=hB(r);return A1(r,[u0e(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$i.none())])}function ps(t,e,n,...r){t=Ma(t,_n);const i=Ma(t.firestore,qc),a=hB(i);let s;return s=typeof(e=Qr(e))=="string"||e instanceof E1?f0e(a,"updateDoc",t._key,e,n,r):c0e(a,"updateDoc",t._key,e),A1(i,[s.toMutation(t._key,$i.exists(!0))])}function od(t){return A1(Ma(t.firestore,qc),[new i1(t._key,$i.none())])}function A1(t,e){const n=_1(t);return e0e(n,e)}function y0e(t,e,n){const r=n.docs.get(e._key),i=new yB(t);return new Rl(t,i,e._key,r,new pd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ege(jV),zd(new vc("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new qc(new rge(r.getProvider("auth-internal")),new oge(s,r.getProvider("app-check-internal")),Tge(s,i),s);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),As(Hk,Gk,e),As(Hk,Gk,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="firebasestorage.googleapis.com",_B="storageBucket",x0e=120*1e3,b0e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends Zl{constructor(e,n,r=0){super(U_(e),`Firebase Storage: ${n} (${U_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,en.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return U_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function U_(t){return"storage/"+t}function C1(){const t="An unknown error occurred, please check the error payload for server response.";return new en(Zt.UNKNOWN,t)}function _0e(t){return new en(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function E0e(t){return new en(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function T0e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(Zt.UNAUTHENTICATED,t)}function S0e(){return new en(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function w0e(t){return new en(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A0e(){return new en(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C0e(){return new en(Zt.CANCELED,"User canceled the upload/download.")}function N0e(t){return new en(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function I0e(t){return new en(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R0e(){return new en(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_B+"' property when initializing the app?")}function P0e(){return new en(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M0e(){return new en(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function D0e(t){return new en(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function IT(t){return new en(Zt.INVALID_ARGUMENT,t)}function EB(){return new en(Zt.APP_DELETED,"The Firebase app was deleted.")}function O0e(t){return new en(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ed(t,e){return new en(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function sd(t){throw new en(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw I0e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),A={bucket:1,path:3},S=n===bB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",I=new RegExp(`^https?://${S}/${i}/${w}`,"i"),P=[{regex:u,indices:c,postModify:a},{regex:_,indices:A,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<P.length;B++){const L=P[B],z=L.regex.exec(e);if(z){const D=z[L.indices.bucket];let k=z[L.indices.path];k||(k=""),r=new Yr(D,k),L.postModify(r);break}}if(r==null)throw N0e(e);return r}}class k0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(t,e,n){let r=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...w){f||(f=!0,e.apply(null,w))}function p(w){i=setTimeout(()=>{i=null,t(_,c())},w)}function g(){a&&clearTimeout(a)}function _(w,...I){if(f){g();return}if(w){g(),h.call(null,w,...I);return}if(c()||s){g(),h.call(null,w,...I);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,p(P)}let A=!1;function S(w){A||(A=!0,g(),!f&&(i!==null?(w||(u=2),clearTimeout(i),p(0)):w||(u=1)))}return p(0),a=setTimeout(()=>{s=!0,S(!0)},n),S}function j0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0e(t){return t!==void 0}function V0e(t){return typeof t=="object"&&!Array.isArray(t)}function N1(t){return typeof t=="string"||t instanceof String}function Yk(t){return I1()&&t instanceof Blob}function I1(){return typeof Blob<"u"}function Wk(t,e,n,r){if(r<e)throw IT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw IT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Pl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pl||(Pl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0e{constructor(e,n,r,i,a,s,u,c,f,h,p,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Pl.NO_ERROR,c=a.getStatus();if(!u||B0e(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Pl.ABORT;r(!1,new Rm(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Rm(f,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());U0e(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=C1();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?EB():C0e();s(c)}else{const c=A0e();s(c)}};this.canceled_?n(!1,new Rm(!1,null,!0)):this.backoffId_=L0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function G0e(t,e,n,r,i,a,s=!0,u=!1){const c=TB(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return $0e(h,e),F0e(h,n),q0e(h,a),H0e(h,r),new z0e(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Y0e(...t){const e=K0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(I1())return new Blob(t);throw new en(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function W0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0e(t){if(typeof atob>"u")throw D0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V_{constructor(e,n){this.data=e,this.contentType=n||null}}function X0e(t,e){switch(t){case Sa.RAW:return new V_(SB(e));case Sa.BASE64:case Sa.BASE64URL:return new V_(wB(t,e));case Sa.DATA_URL:return new V_(Z0e(e),exe(e))}throw C1()}function SB(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Q0e(t){let e;try{e=decodeURIComponent(t)}catch{throw Ed(Sa.DATA_URL,"Malformed data URL.")}return SB(e)}function wB(t,e){switch(t){case Sa.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Ed(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sa.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Ed(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=J0e(e)}catch(i){throw i.message.includes("polyfill")?i:Ed(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class AB{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ed(Sa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=txe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z0e(t){const e=new AB(t);return e.base64?wB(Sa.BASE64,e.rest):Q0e(e.rest)}function exe(t){return new AB(t).contentType}function txe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let r=0,i="";Yk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Yk(this.data_)){const r=this.data_,i=W0e(r,e,n);return i===null?null:new ys(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ys(r,!0)}}static getBlob(...e){if(I1()){const n=e.map(r=>r instanceof ys?r.data_:r);return new ys(Y0e.apply(null,n))}else{const n=e.map(s=>N1(s)?X0e(Sa.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new ys(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){let e;try{e=JSON.parse(t)}catch{return null}return V0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nxe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rxe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function NB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ixe(t,e){return e}class pr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ixe}}let Pm=null;function axe(t){return!N1(t)||t.length<2?t:NB(t)}function IB(){if(Pm)return Pm;const t=[];t.push(new pr("bucket")),t.push(new pr("generation")),t.push(new pr("metageneration")),t.push(new pr("name","fullPath",!0));function e(a,s){return axe(s)}const n=new pr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new pr("size");return i.xform=r,t.push(i),t.push(new pr("timeCreated")),t.push(new pr("updated")),t.push(new pr("md5Hash",null,!0)),t.push(new pr("cacheControl",null,!0)),t.push(new pr("contentDisposition",null,!0)),t.push(new pr("contentEncoding",null,!0)),t.push(new pr("contentLanguage",null,!0)),t.push(new pr("contentType",null,!0)),t.push(new pr("metadata","customMetadata",!0)),Pm=t,Pm}function oxe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Yr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function sxe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return oxe(r,t),r}function RB(t,e,n){const r=CB(e);return r===null?null:sxe(t,r,n)}function lxe(t,e,n,r){const i=CB(e);if(i===null||!N1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),_=Uy(g,n,r),A=TB({alt:"media",token:f});return _+A})[0]}function uxe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class R1{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){if(!t)throw C1()}function cxe(t,e){function n(r,i){const a=RB(t,i,e);return PB(a!==null),a}return n}function fxe(t,e){function n(r,i){const a=RB(t,i,e);return PB(a!==null),lxe(a,i,t.host,t._protocol)}return n}function MB(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=S0e():i=T0e():n.getStatus()===402?i=E0e(t.bucket):n.getStatus()===403?i=w0e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function DB(t){const e=MB(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=_0e(t.path)),a.serverResponse=i.serverResponse,a}return n}function dxe(t,e,n){const r=e.fullServerUrl(),i=Uy(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new R1(i,a,fxe(t,n),s);return u.errorHandler=DB(e),u}function hxe(t,e){const n=e.fullServerUrl(),r=Uy(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(c,f){}const u=new R1(r,i,s,a);return u.successCodes=[200,204],u.errorHandler=DB(e),u}function pxe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mxe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pxe(null,e)),r}function gxe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let B=0;B<2;B++)P=P+Math.random().toString().slice(2);return P}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=mxe(e,r,i),h=uxe(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",_=ys.getBlob(p,r,g);if(_===null)throw P0e();const A={name:f.fullPath},S=Uy(a,t.host,t._protocol),w="POST",I=t.maxUploadRetryTime,O=new R1(S,w,cxe(t,n),I);return O.urlParams=A,O.headers=s,O.body=_.uploadData(),O.errorHandler=MB(e),O}class vxe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw sd("cannot .send() more than once");if(Eh(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yxe extends vxe{initXhr(){this.xhr_.responseType="text"}}function P1(){return new yxe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $l(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NB(this._location.path)}get storage(){return this._service}get parent(){const e=nxe(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new $l(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O0e(e)}}function xxe(t,e,n){t._throwIfRoot("uploadBytes");const r=gxe(t.storage,t._location,IB(),new ys(e,!0),n);return t.storage.makeRequestWithTokens(r,P1).then(i=>({metadata:i,ref:t}))}function bxe(t){t._throwIfRoot("getDownloadURL");const e=dxe(t.storage,t._location,IB());return t.storage.makeRequestWithTokens(e,P1).then(n=>{if(n===null)throw M0e();return n})}function _xe(t){t._throwIfRoot("deleteObject");const e=hxe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,P1)}function Exe(t,e){const n=rxe(t._location.path,e),r=new Yr(t._location.bucket,n);return new $l(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Txe(t){return/^[A-Za-z]+:\/\//.test(t)}function Sxe(t,e){return new $l(t,e)}function OB(t,e){if(t instanceof M1){const n=t;if(n._bucket==null)throw R0e();const r=new $l(n,n._bucket);return e!=null?OB(r,e):r}else return e!==void 0?Exe(t,e):t}function wxe(t,e){if(e&&Txe(e)){if(t instanceof M1)return Sxe(t,e);throw IT("To use ref(service, url), the first argument must be a Storage instance.")}else return OB(t,e)}function Jk(t,e){const n=e==null?void 0:e[_B];return n==null?null:Yr.makeFromBucketSpec(n,t)}function Axe(t,e,n,r={}){t.host=`${e}:${n}`;const i=Eh(e);i&&(NV(`https://${t.host}/b`),RV("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:IV(a,t.app.options.projectId))}class M1{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=bB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x0e,this._maxUploadRetryTime=b0e,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=Jk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=Jk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Wk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Wk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(LV(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $l(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new k0e(EB());{const s=G0e(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Xk="@firebase/storage",Qk="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="storage";function Cxe(t,e,n){return t=Qr(t),xxe(t,e,n)}function Nxe(t){return t=Qr(t),bxe(t)}function LB(t){return t=Qr(t),_xe(t)}function RT(t,e){return t=Qr(t),wxe(t,e)}function Ixe(t=VV(),e){t=Qr(t);const r=kV(t,kB).getImmediate({identifier:e}),i=AV("storage");return i&&Rxe(r,...i),r}function Rxe(t,e,n,r={}){Axe(t,e,n,r)}function Pxe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new M1(n,r,i,e,jV)}function Mxe(){zd(new vc(kB,Pxe,"PUBLIC").setMultipleInstances(!0)),As(Xk,Qk,""),As(Xk,Qk,"esm2020")}Mxe();const Dxe={apiKey:"AIzaSyBBGBT7qd6EdqakF3U8KbdENMwEgj_9SBw",authDomain:"inmobiliarialye-e07bb.firebaseapp.com",projectId:"inmobiliarialye-e07bb",storageBucket:"inmobiliarialye-e07bb.firebasestorage.app",messagingSenderId:"196238400621",appId:"1:196238400621:web:35237d16f2c91ae00c3364"},jB=UV(Dxe),ot=i0e(jB),PT=Ixe(jB),Oxe=["Piscina","SUM","Gimnasio","Parrilla","Seguridad 24hs","Cochera","Balcn","Terraza","Jardn","Laundry","Calefaccin Central","Aire Acondicionado","Ascensor"],kxe=({onSave:t,owners:e,tenants:n})=>{var B;const r=pv(),[i,a]=C.useState(!1),[s,u]=C.useState(!1),[c,f]=C.useState("profesional y persuasivo"),h=C.useRef(null),[p,g]=C.useState({title:"",description:"",price:0,expenses:0,type:yI.APARTMENT,status:yi.AVAILABLE,address:"",neighborhood:"",city:"Buenos Aires",ownerId:((B=e[0])==null?void 0:B.id)||"",bedrooms:1,bathrooms:1,area:50,coveredArea:45,yearBuilt:new Date().getFullYear(),orientation:"Norte",condition:"Excelente",amenities:[],imageUrl:"",imagePaths:[],electricityContract:"",gasContract:"",waterContract:"",taxContract:""}),[_,A]=C.useState([]),S=async()=>{if(!p.title||!p.address||!p.price){alert("Completa Ttulo, Direccin y Precio para generar el texto.");return}a(!0);const L=await bpe(p,c);g(z=>({...z,description:L})),a(!1)},w=async L=>{const z=L.target.files;if(z){u(!0);const k=Array.from(z).map(async F=>{const q=`properties/${Date.now()}-${F.name}`,$=RT(PT,q);await Cxe($,F);const U=await Nxe($);return{file:F,previewUrl:U,path:q}}),j=await Promise.all(k);A(F=>[...F,...j]),!p.imageUrl&&j.length>0?g(F=>({...F,imageUrl:j[0].previewUrl,imagePaths:j.map(q=>q.path)})):g(F=>({...F,imagePaths:[...F.imagePaths||[],...j.map(q=>q.path)]})),u(!1)}},I=async L=>{const z=_[L];if(z.path){const D=RT(PT,z.path);try{await LB(D),console.log("Image deleted from storage:",z.path)}catch(k){console.error("Error deleting image from storage:",k)}}A(D=>D.filter((k,j)=>j!==L)),g(D=>{var F,q;const k=((F=D.imagePaths)==null?void 0:F.filter(($,U)=>U!==L))||[],j=D.imageUrl===z.previewUrl&&k.length>0?((q=_.find($=>$.path===k[0]))==null?void 0:q.previewUrl)||"":D.imageUrl===z.previewUrl?"":D.imageUrl;return{...D,imageUrl:j,imagePaths:k}})},O=L=>{g(z=>{const D=z.amenities||[];return{...z,amenities:D.includes(L)?D.filter(k=>k!==L):[...D,L]}})},P=L=>{L.preventDefault();const z={...p,id:Date.now().toString(),createdAt:new Date().toISOString(),imagePaths:_.map(D=>D.path).filter(Boolean),imageUrl:_.length>0?_[0].previewUrl:""};t(z),r("/properties")};return y.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20 animate-in fade-in slide-in-from-bottom-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Nueva Propiedad"}),y.jsx("p",{className:"text-slate-500",children:"Carga detallada con inteligencia artificial y gestin multimedia."})]}),y.jsx("button",{onClick:()=>r("/properties"),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:y.jsx(po,{size:28,className:"text-slate-400"})})]}),y.jsxs("form",{onSubmit:P,className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[y.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[y.jsxs("section",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm p-8 space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-50 pb-4",children:[y.jsx("div",{className:"p-2 bg-[var(--primary-color-50)] text-[var(--primary-color-600)] rounded-xl",children:y.jsx(Z9,{size:20})}),y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Informacin de Venta / Alquiler"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Ttulo del Anuncio"}),y.jsx("input",{required:!0,type:"text",placeholder:"Ej: Espectacular Penthouse con Vista al Ro",className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)] font-medium",value:p.title,onChange:L=>g({...p,title:L.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide text-xs",children:"Precio (ARS $)"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none",value:p.price||"",onChange:L=>g({...p,price:Number(L.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide text-xs",children:"Expensas (ARS $)"}),y.jsx("input",{type:"number",className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none",value:p.expenses||"",onChange:L=>g({...p,expenses:Number(L.target.value)})})]})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide text-xs",children:"Direccin y Barrio"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("input",{required:!0,type:"text",placeholder:"Direccin exacta",className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none",value:p.address,onChange:L=>g({...p,address:L.target.value})}),y.jsx("input",{type:"text",placeholder:"Barrio / Localidad",className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none",value:p.neighborhood,onChange:L=>g({...p,neighborhood:L.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide text-xs",children:"Tipo de Propiedad"}),y.jsx("select",{className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none",value:p.type,onChange:L=>g({...p,type:L.target.value}),children:Object.values(yI).map(L=>y.jsx("option",{value:L,children:L},L))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide text-xs",children:"Dueo Legal"}),y.jsx("select",{className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none",value:p.ownerId,onChange:L=>g({...p,ownerId:L.target.value}),children:e.map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))})]})]})]}),y.jsxs("section",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm p-8 space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-50 pb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-xl",children:y.jsx(M4,{size:20})}),y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Ficha Tcnica"})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"Habitaciones"}),y.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.bedrooms,onChange:L=>g({...p,bedrooms:Number(L.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"Baos"}),y.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.bathrooms,onChange:L=>g({...p,bathrooms:Number(L.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"m Totales"}),y.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.area,onChange:L=>g({...p,area:Number(L.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"m Cubiertos"}),y.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.coveredArea,onChange:L=>g({...p,coveredArea:Number(L.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"Estado"}),y.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.condition,onChange:L=>g({...p,condition:L.target.value}),children:[y.jsx("option",{value:"A Estrenar",children:"A Estrenar"}),y.jsx("option",{value:"Excelente",children:"Excelente"}),y.jsx("option",{value:"Muy Bueno",children:"Muy Bueno"}),y.jsx("option",{value:"Bueno",children:"Bueno"}),y.jsx("option",{value:"A Refaccionar",children:"A Refaccionar"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"Orientacin"}),y.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.orientation,onChange:L=>g({...p,orientation:L.target.value}),children:[y.jsx("option",{value:"Norte",children:"Norte"}),y.jsx("option",{value:"Sur",children:"Sur"}),y.jsx("option",{value:"Este",children:"Este"}),y.jsx("option",{value:"Oeste",children:"Oeste"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase mb-2",children:"Ao Const."}),y.jsx("input",{type:"number",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl",value:p.yearBuilt,onChange:L=>g({...p,yearBuilt:Number(L.target.value)})})]})]})]}),y.jsxs("section",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm p-8 space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-50 pb-4",children:[y.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-xl",children:y.jsx(D4,{size:20})}),y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Amenities & Servicios del Edificio"})]}),y.jsx("div",{className:"flex flex-wrap gap-3",children:Oxe.map(L=>{var z,D;return y.jsxs("button",{type:"button",onClick:()=>O(L),className:`px-4 py-2 rounded-full text-sm font-bold transition-all border ${(z=p.amenities)!=null&&z.includes(L)?"bg-emerald-600 border-emerald-600 text-white shadow-lg shadow-emerald-600/20":"bg-white border-slate-200 text-slate-500 hover:border-emerald-300"}`,children:[((D=p.amenities)==null?void 0:D.includes(L))&&y.jsx(Ml,{size:14,className:"inline mr-2 rotate-45"}),L]},L)})})]})]}),y.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[y.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm p-6 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(T9,{size:18,className:"text-[var(--primary-color-600)]"}),"Galera de Fotos"]}),y.jsxs("span",{className:"text-[10px] font-black text-[var(--primary-color-400)]",children:[_.length||0," ARCHIVOS"]})]}),y.jsxs("div",{onClick:()=>{var L;return(L=h.current)==null?void 0:L.click()},className:"w-full aspect-square border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center gap-2 cursor-pointer hover:border-[var(--primary-color-600)] hover:bg-[var(--primary-color-50)]/50 transition-all group",children:[s?y.jsx(Xm,{className:"animate-spin text-[var(--primary-color-600)]",size:32}):y.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl text-slate-300 group-hover:text-[var(--primary-color-600)] group-hover:bg-white transition-all",children:y.jsx(Ml,{size:32})}),y.jsx("span",{className:"text-xs font-bold text-slate-400",children:s?"Subiendo...":"Subir Imgenes"}),y.jsx("input",{type:"file",multiple:!0,ref:h,className:"hidden",accept:"image/*",onChange:w})]}),y.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[400px] overflow-y-auto pr-1 no-scrollbar",children:_.map((L,z)=>y.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden group border border-slate-100 shadow-sm",children:[y.jsx("img",{src:L.previewUrl,className:"w-full h-full object-cover"}),y.jsx("button",{type:"button",onClick:D=>{D.stopPropagation(),I(z)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(xv,{size:14})}),p.imageUrl===L.previewUrl&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-[var(--primary-color-600)]/90 text-white text-[8px] font-black py-1 text-center uppercase tracking-widest",children:"Principal"})]},z))})]}),y.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-6 text-white shadow-xl space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(z8,{size:20,className:"text-[var(--primary-color-400)]"}),y.jsx("span",{className:"font-bold",children:"Generador IA"})]}),y.jsxs("select",{className:"bg-white/10 border-none text-[10px] rounded-lg px-2 py-1 outline-none",value:c,onChange:L=>f(L.target.value),children:[y.jsx("option",{value:"profesional",children:"Profesional"}),y.jsx("option",{value:"persuasivo",children:"Persuasivo"}),y.jsx("option",{value:"emocional",children:"Emocional"})]})]}),y.jsxs("button",{type:"button",onClick:S,disabled:i,className:"w-full py-4 bg-[var(--primary-color-600)] hover:bg-[var(--primary-color-700)] rounded-2xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-[var(--primary-color-shadow)]",children:[i?y.jsx(Xm,{className:"animate-spin",size:18}):y.jsx(Qm,{size:18}),"Escribir Anuncio en ARS"]}),y.jsx("textarea",{rows:10,className:"w-full bg-slate-800 border border-slate-700 rounded-2xl px-4 py-4 text-xs text-slate-300 focus:ring-2 focus:ring-[var(--primary-color-600)] outline-none resize-none leading-relaxed",placeholder:"La IA analizar todos los amenities y datos tcnicos para crear el mejor anuncio posible...",value:p.description,onChange:L=>g({...p,description:L.target.value})})]}),y.jsxs("button",{type:"submit",className:"w-full py-5 bg-[var(--primary-color-600)] text-white font-black text-lg rounded-[2rem] hover:bg-[var(--primary-color-700)] transition-all shadow-xl shadow-[var(--primary-color-shadow)] flex items-center justify-center gap-3",children:[y.jsx(yv,{size:24}),"GUARDAR PROPIEDAD"]})]})]})]})},Lxe=({properties:t,leads:e})=>{const[n,r]=C.useState([{role:"ai",text:"Hola! Soy tu asistente de InmoAI. En qu puedo ayudarte hoy? Puedo analizar tu inventario, redactar correos para leads o darte insights de mercado."}]),[i,a]=C.useState(""),[s,u]=C.useState(!1),c=C.useRef(null);C.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[n]);const f=async()=>{if(!i.trim()||s)return;const p=i;a(""),r(A=>[...A,{role:"user",text:p}]),u(!0);const g=`Inventario total: ${t.length} propiedades. Valor total: $${t.reduce((A,S)=>A+S.price,0)}. Leads activos: ${e.length}.`,_=await Epe(p,g);r(A=>[...A,{role:"ai",text:_}]),u(!1)},h=[{label:"Analizar inventario",icon:w9},{label:"Redactar mail a Lead",icon:Gl},{label:"Ideas de marketing",icon:gI}];return y.jsxs("div",{className:"h-[calc(100vh-12rem)] flex flex-col gap-6 animate-in slide-in-from-bottom-4 duration-500",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Qm,{className:"text-[var(--primary-color-600)]"}),"AI Marketing Lab"]}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Potencia tu agencia con inteligencia artificial generativa."})]})}),y.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6 overflow-hidden",children:[y.jsxs("div",{className:"flex-1 bg-white rounded-3xl border border-slate-100 shadow-sm flex flex-col overflow-hidden",children:[y.jsxs("div",{ref:c,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.map((p,g)=>y.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`flex gap-3 max-w-[80%] ${p.role==="user"?"flex-row-reverse":""}`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full shrink-0 flex items-center justify-center ${p.role==="ai"?"bg-[var(--primary-color-100)] text-[var(--primary-color-600)]":"bg-slate-800 text-white"}`,children:p.role==="ai"?y.jsx(y9,{size:18}):y.jsx(Y_,{size:18})}),y.jsx("div",{className:`p-4 rounded-2xl text-sm leading-relaxed ${p.role==="ai"?"bg-slate-50 text-slate-700":"bg-[var(--primary-color-600)] text-white shadow-lg shadow-[var(--primary-color-shadow)]"}`,children:p.text})]})},g)),s&&y.jsx("div",{className:"flex justify-start",children:y.jsxs("div",{className:"flex gap-3 items-center text-slate-400 bg-slate-50 px-4 py-2 rounded-full",children:[y.jsx(Xm,{size:16,className:"animate-spin text-[var(--primary-color-600)]"}),y.jsx("span",{className:"text-xs font-medium",children:"InmoAI est pensando..."})]})})]}),y.jsxs("div",{className:"p-4 border-t border-slate-50 bg-slate-50/30",children:[y.jsx("div",{className:"flex items-center gap-2 mb-3 overflow-x-auto pb-1 no-scrollbar",children:h.map((p,g)=>y.jsxs("button",{onClick:()=>a(p.label),className:"flex items-center gap-1.5 px-3 py-1.5 bg-white border border-slate-200 rounded-full text-xs font-bold text-slate-600 hover:border-[var(--primary-color-300)] hover:text-[var(--primary-color-600)] transition-all whitespace-nowrap shadow-sm",children:[y.jsx(p.icon,{size:14}),p.label]},g))}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",placeholder:"Escribe tu consulta o pide una tarea...",className:"w-full pl-4 pr-12 py-3 bg-white border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)] shadow-inner",value:i,onChange:p=>a(p.target.value),onKeyDown:p=>p.key==="Enter"&&f()}),y.jsx("button",{onClick:f,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-[var(--primary-color-600)] text-white rounded-xl hover:bg-[var(--primary-color-700)] transition-colors shadow-sm",children:y.jsx(v8,{size:18})})]})]})]}),y.jsxs("div",{className:"w-full lg:w-80 space-y-6 overflow-y-auto hidden lg:block",children:[y.jsxs("div",{className:"bg-gradient-to-br from-[var(--primary-color-gradient-from)] to-[var(--primary-color-gradient-to)] p-6 rounded-3xl text-white shadow-xl",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-80",children:[y.jsx(gI,{size:20}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"AI Insights"})]}),y.jsx("h4",{className:"text-lg font-bold mb-2",children:"Resumen Inteligente"}),y.jsx("p",{className:"text-[var(--primary-color-100)] text-sm leading-relaxed",children:"Tu inventario ha crecido un 15% este mes. El tipo de propiedad ms demandado por tus leads son los Apartamentos de 2 hab."}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-3",children:[y.jsxs("div",{className:"flex justify-between text-xs",children:[y.jsx("span",{children:"Eficiencia de Cierre"}),y.jsx("span",{className:"font-bold",children:"78%"})]}),y.jsx("div",{className:"w-full bg-white/20 h-1.5 rounded-full overflow-hidden",children:y.jsx("div",{className:"bg-white h-full",style:{width:"78%"}})})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[y.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Qm,{size:18,className:"text-amber-500"}),"Prximas Sugerencias"]}),y.jsxs("ul",{className:"space-y-4",children:[y.jsxs("li",{className:"flex gap-3 group cursor-pointer",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center shrink-0",children:y.jsx(Y_,{size:16})}),y.jsxs("div",{className:"text-xs",children:[y.jsx("p",{className:"font-bold text-slate-700 group-hover:text-[var(--primary-color-600)] transition-colors",children:"Contactar a Elena Gmez"}),y.jsx("p",{className:"text-slate-500",children:"Su inters en Alquiler encaja con el nuevo Penthouse."})]})]}),y.jsxs("li",{className:"flex gap-3 group cursor-pointer",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:y.jsx(jxe,{size:16})}),y.jsxs("div",{className:"text-xs",children:[y.jsx("p",{className:"font-bold text-slate-700 group-hover:text-[var(--primary-color-600)] transition-colors",children:"Ajuste de Precio"}),y.jsx("p",{className:"text-slate-500",children:"La Casa Colonial est un 5% por encima del mercado local."})]})]})]})]})]})]})]})},jxe=({size:t,className:e})=>y.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[y.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),y.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Uxe=({properties:t,onAddBill:e,bills:n})=>{var I;const[r,i]=C.useState("upload"),[a,s]=C.useState(!1),[u,c]=C.useState(null),[f,h]=C.useState([]),p=C.useRef(null),g=C.useRef(null),_=async O=>{var L;const P=(L=O.target.files)==null?void 0:L[0];if(!P)return;s(!0);const B=new FileReader;B.onloadend=async()=>{var F;const z=B.result,D=await _pe(z),k=(F=D==null?void 0:D.numeroContrato)==null?void 0:F.trim(),j=t.find(q=>q.electricityContract===k||q.gasContract===k||q.waterContract===k||q.taxContract===k);c({...D,matchedPropertyId:j==null?void 0:j.id,matchedPropertyName:(j==null?void 0:j.title)||"CONTRATO NO ENCONTRADO"}),s(!1)},B.readAsDataURL(P)},A=O=>{var L;const P=(L=O.target.files)==null?void 0:L[0];if(!P)return;s(!0);const B=new FileReader;B.onload=z=>{var q;const k=((q=z.target)==null?void 0:q.result).split(`
`),j=k[0].split(";"),F=k.slice(1).filter($=>$.trim()!=="").map($=>{const U=$.split(";"),de={};j.forEach((W,oe)=>{var ge;de[W.trim()]=(ge=U[oe])==null?void 0:ge.trim()});const me=t.find(W=>{var oe;return W.title.toLowerCase().includes((oe=de.administracion)==null?void 0:oe.toLowerCase())});return{...de,propertyId:me==null?void 0:me.id,propertyName:me==null?void 0:me.title}});h(F),s(!1)},B.readAsText(P)},S=()=>{let O=0;f.forEach(P=>{if(!P.propertyId)return;const B=Date.now()+Math.random();P.IMPORTE&&(e({id:`rent-${B}`,propertyId:P.propertyId,type:Ut.RENT,amount:parseFloat(P.IMPORTE.replace(",",".")),date:P.VENCIMIENTO||new Date().toISOString(),contractNumber:P.NUM||"N/A",status:"PENDING"}),O++),P.LUZ&&P.LUZ!=="0"&&(e({id:`luz-${B}`,propertyId:P.propertyId,type:Ut.ELECTRICITY,amount:parseFloat(P.LUZ.replace(",",".")),date:P.VENCIMIENTO||new Date().toISOString(),contractNumber:P.NUM||"N/A",status:"PENDING"}),O++),P.AGUA&&P.AGUA!=="0"&&(e({id:`agua-${B}`,propertyId:P.propertyId,type:Ut.WATER,amount:parseFloat(P.AGUA.replace(",",".")),date:P.VENCIMIENTO||new Date().toISOString(),contractNumber:P.NUM||"N/A",status:"PENDING"}),O++),P.GAS&&P.GAS!=="0"&&(e({id:`gas-${B}`,propertyId:P.propertyId,type:Ut.GAS,amount:parseFloat(P.GAS.replace(",",".")),date:P.VENCIMIENTO||new Date().toISOString(),contractNumber:P.NUM||"N/A",status:"PENDING"}),O++),P["MUN EXP EMOS"]&&P["MUN EXP EMOS"]!=="0"&&(e({id:`tax-${B}`,propertyId:P.propertyId,type:Ut.TAXES,amount:parseFloat(P["MUN EXP EMOS"].replace(",",".")),date:P.VENCIMIENTO||new Date().toISOString(),contractNumber:P.NUM||"N/A",status:"PENDING"}),O++)}),alert(`Se han procesado ${O} registros de cobros.`),h([]),i("history")},w=()=>{!u||!u.matchedPropertyId||(e({id:Date.now().toString(),propertyId:u.matchedPropertyId,type:u.tipoServicio,amount:u.montoTotal,usage:u.consumo,date:u.fechaFactura||new Date().toISOString(),contractNumber:u.numeroContrato,status:"PENDING"}),c(null))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Servicios y Suministros"}),y.jsx("p",{className:"text-slate-500",children:"Carga facturas individuales o planillas de administracin masiva."})]}),y.jsxs("div",{className:"flex gap-2 bg-slate-100 p-1 rounded-xl",children:[y.jsxs("button",{onClick:()=>i("upload"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${r==="upload"?"bg-white text-[var(--primary-color-600)] shadow-sm":"text-slate-500"}`,children:[y.jsx(vI,{size:16})," Carga IA"]}),y.jsxs("button",{onClick:()=>i("bulk"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${r==="bulk"?"bg-white text-[var(--primary-color-600)] shadow-sm":"text-slate-500"}`,children:[y.jsx(N8,{size:16})," Importar Excel"]}),y.jsxs("button",{onClick:()=>i("history"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${r==="history"?"bg-white text-[var(--primary-color-600)] shadow-sm":"text-slate-500"}`,children:[y.jsx(W9,{size:16})," Historial"]})]})]}),r==="upload"&&y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-8 flex flex-col items-center justify-center text-center",children:[y.jsxs("div",{onClick:()=>{var O;return(O=p.current)==null?void 0:O.click()},className:"w-full max-w-sm aspect-video border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center gap-4 cursor-pointer hover:border-[var(--primary-color-600)] hover:bg-[var(--primary-color-50)]/30 transition-all group",children:[y.jsx("div",{className:"p-4 bg-[var(--primary-color-50)] text-[var(--primary-color-600)] rounded-2xl group-hover:scale-110 transition-transform",children:y.jsx(H9,{size:48})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-700",children:"Subir Factura Individual"}),y.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mt-1",children:"IA procesar los datos"})]}),y.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:_})]}),a&&y.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[var(--primary-color-600)] animate-pulse font-bold",children:[y.jsx(Xm,{className:"animate-spin"})," Analizando..."]})]}),y.jsx("div",{className:"bg-slate-900 rounded-3xl p-8 text-white shadow-xl min-h-[400px] border border-slate-800",children:u?y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[y.jsx(md,{className:"text-emerald-400"})," Datos de Factura"]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[y.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Servicio"}),y.jsx("p",{className:"text-lg font-bold",children:u.tipoServicio})]}),y.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[y.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Monto"}),y.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["$",(I=u.montoTotal)==null?void 0:I.toLocaleString()]})]})]}),y.jsxs("div",{className:"p-4 rounded-2xl bg-[var(--primary-color-600)]/30 border border-[var(--primary-color-600)]/50",children:[y.jsx("p",{className:"text-[10px] text-[var(--primary-color-300)] uppercase font-bold",children:"Propiedad Detectada"}),y.jsx("p",{className:"font-bold",children:u.matchedPropertyName})]}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{onClick:()=>c(null),className:"flex-1 py-3 bg-white/5 rounded-xl font-bold",children:"Descartar"}),y.jsx("button",{onClick:w,disabled:!u.matchedPropertyId,className:"flex-1 py-3 bg-[var(--primary-color-600)] rounded-xl font-bold disabled:opacity-50",children:"Vincular Pago"})]})]}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-30",children:[y.jsx(Es,{size:64,className:"mb-4"}),y.jsx("p",{children:"Sube una imagen para vinculacin automtica va OCR."})]})})]}),r==="bulk"&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm",children:y.jsxs("div",{className:"flex flex-col items-center justify-center text-center max-w-2xl mx-auto py-10",children:[y.jsx("div",{className:"p-5 bg-emerald-50 text-emerald-600 rounded-[2rem] mb-6",children:y.jsx(V9,{size:48})}),y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Importacin Masiva de Planilla"}),y.jsxs("p",{className:"text-slate-500 mb-8",children:["Selecciona tu archivo CSV (delimitado por ;) con los encabezados: ",y.jsx("br",{}),y.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded text-[10px] font-mono mt-2 inline-block",children:"administracion;NUM;PROPIETARIO;INQUILINO;PERIODO ALQUILADO;IMPORTE;VENCIMIENTO;LUZ;AGUA;GAS;MUN EXP EMOS"})]}),y.jsxs("button",{onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},className:"px-10 py-4 bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-600/20 hover:bg-emerald-700 transition-all flex items-center gap-2",children:[y.jsx(vI,{size:20})," Seleccionar Archivo CSV"]}),y.jsx("input",{type:"file",ref:g,className:"hidden",accept:".csv,.txt",onChange:A})]})}),f.length>0&&y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:[y.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[y.jsxs("h4",{className:"font-bold text-slate-800",children:["Vista previa de Importacin (",f.length," filas)"]}),y.jsx("button",{onClick:S,className:"px-6 py-2 bg-[var(--primary-color-600)] text-white font-bold rounded-xl hover:bg-[var(--primary-color-700)] transition-all",children:"Confirmar y Procesar Todo"})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3",children:"Administracin"}),y.jsx("th",{className:"px-4 py-3",children:"Vnculo Sistema"}),y.jsx("th",{className:"px-4 py-3",children:"Inquilino"}),y.jsx("th",{className:"px-4 py-3",children:"Importe"}),y.jsx("th",{className:"px-4 py-3",children:"Luz/Agua/Gas"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:f.map((O,P)=>y.jsxs("tr",{className:"text-xs hover:bg-slate-50 transition-colors",children:[y.jsx("td",{className:"px-4 py-3 font-medium",children:O.administracion}),y.jsx("td",{className:"px-4 py-3",children:O.propertyId?y.jsxs("span",{className:"text-emerald-600 font-bold flex items-center gap-1",children:[y.jsx(md,{size:12})," ",O.propertyName]}):y.jsxs("span",{className:"text-red-500 font-bold flex items-center gap-1",children:[y.jsx(Wm,{size:12})," No encontrada"]})}),y.jsx("td",{className:"px-4 py-3",children:O.INQUILINO}),y.jsxs("td",{className:"px-4 py-3 font-bold",children:["$",O.IMPORTE]}),y.jsxs("td",{className:"px-4 py-3 text-slate-500",children:["L:$",O.LUZ," A:$",O.AGUA," G:$",O.GAS]})]},P))})]})})]})]}),r==="history"&&y.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Fecha / Venc."}),y.jsx("th",{className:"px-6 py-4",children:"Servicio"}),y.jsx("th",{className:"px-6 py-4",children:"Propiedad"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Monto (ARS)"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length>0?[...n].sort((O,P)=>P.date.localeCompare(O.date)).map(O=>{var P;return y.jsxs("tr",{className:"hover:bg-slate-50 transition-colors text-sm",children:[y.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(O.date).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("span",{className:"font-bold flex items-center gap-1.5",children:[O.type===Ut.ELECTRICITY&&y.jsx(bv,{size:14,className:"text-yellow-500"}),O.type===Ut.WATER&&y.jsx(A4,{size:14,className:"text-blue-500"}),O.type===Ut.GAS&&y.jsx(C4,{size:14,className:"text-orange-500"}),O.type===Ut.TAXES&&y.jsx(Es,{size:14}),O.type===Ut.RENT&&y.jsx(Home,{size:14}),O.type===Ut.MANAGEMENT_FEE&&y.jsx(Briefcase,{size:14}),O.type]})}),y.jsx("td",{className:"px-6 py-4 text-slate-800",children:(P=t.find(B=>B.id===O.propertyId))==null?void 0:P.title}),y.jsxs("td",{className:"px-6 py-4 text-right font-bold text-slate-900",children:["$",O.amount.toLocaleString()]})]},O.id)}):y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400",children:"Sin historial de facturas."})})})]})})]})},Vxe=({user:t,onBack:e,onUpdatePayroll:n,onUpdateUser:r})=>{const[i,a]=C.useState(!1),[s,u]=C.useState(!1),[c,f]=C.useState(t.name),[h,p]=C.useState({amount:0,type:"SALARY",description:"",date:new Date().toISOString().split("T")[0]}),g=w=>w.toLocaleString("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0}),_=t.payrollHistory.filter(w=>w.type==="SALARY"||w.type==="BONUS").reduce((w,I)=>w+I.amount,0),A=t.payrollHistory.filter(w=>w.type==="ADVANCE").reduce((w,I)=>w+I.amount,0),S=w=>{w.preventDefault(),n(t.id,{...h,id:Date.now().toString()}),a(!1),p({amount:0,type:"SALARY",description:"",date:new Date().toISOString().split("T")[0]})};return y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:y.jsx(BT,{size:24,className:"text-slate-400"})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Ficha de Empleado: ",t.name]}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Sueldos expresados en Pesos Argentinos (ARS)."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 p-6 shadow-sm",children:[y.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2 border-b border-slate-50 pb-4",children:[y.jsx(Qd,{size:18,className:"text-[var(--primary-color-600)]"}),"Datos Contractuales"]}),y.jsx("div",{className:"space-y-6",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Sueldo Base Mensual"}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"text-2xl font-bold text-slate-800",children:g(t.baseSalary||0)})})]})})]}),y.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white shadow-xl",children:[y.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[y.jsx(O4,{size:18,className:"text-[var(--primary-color-400)]"}),"Resumen Financiero (ARS)"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-2xl border border-white/10",children:[y.jsx("span",{className:"text-xs font-medium",children:"Total Pagado"}),y.jsx("span",{className:"font-bold",children:g(_)})]}),y.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-2xl border border-white/10",children:[y.jsx("span",{className:"text-xs font-medium",children:"Total Adelantos"}),y.jsx("span",{className:"font-bold",children:g(A)})]})]}),y.jsxs("button",{onClick:()=>a(!0),className:"w-full mt-6 py-3 bg-[var(--primary-color-600)] hover:bg-[var(--primary-color-700)] rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg",children:[y.jsx(R9,{size:18})," Nuevo Registro"]})]})]}),y.jsx("div",{className:"lg:col-span-2",children:y.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Fecha"}),y.jsx("th",{className:"px-6 py-4",children:"Tipo"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Monto (ARS)"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:t.payrollHistory.length>0?t.payrollHistory.map(w=>y.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-600",children:w.date}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${w.type==="SALARY"?"bg-[var(--primary-color-100)] text-[var(--primary-color-700)]":"bg-emerald-100 text-emerald-700"}`,children:w.type==="SALARY"?"Sueldo":"Bono"})}),y.jsx("td",{className:"px-6 py-4 text-right font-bold text-slate-800",children:g(w.amount)})]},w.id)):y.jsx("tr",{children:y.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-slate-300",children:"No hay movimientos."})})})]})})})]}),i&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 animate-in zoom-in",children:[y.jsx("h3",{className:"text-xl font-bold mb-6",children:"Nuevo Registro de Pago (ARS)"}),y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Monto ($ ARS)"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:h.amount,onChange:w=>p({...h,amount:Number(w.target.value)})})]}),y.jsx("button",{className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl shadow-lg",children:"Confirmar Registro"})]})]})})]})},Bxe=({users:t,onAdd:e,onDelete:n,onUpdatePayroll:r,onUpdateUser:i})=>{const[a,s]=C.useState(!1),[u,c]=C.useState(null),[f,h]=C.useState({name:"",email:"",role:"AGENT",baseSalary:1200,hireDate:new Date().toISOString().split("T")[0],dni:"",bankDetails:""}),p=_=>{_.preventDefault(),e({...f,id:Date.now().toString(),avatar:`https://ui-avatars.com/api/?name=${f.name}&background=random`,payrollHistory:[]}),s(!1),h({name:"",email:"",role:"AGENT",baseSalary:1200,hireDate:new Date().toISOString().split("T")[0]})},g=t.find(_=>_.id===u);return g?y.jsx(Vxe,{user:g,onBack:()=>c(null),onUpdatePayroll:r,onUpdateUser:i}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Usuarios"}),y.jsx("p",{className:"text-slate-500",children:"Administra los accesos, roles y sueldos de tu equipo."})]}),y.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-6 py-3 bg-[var(--primary-color-600)] text-white rounded-xl font-bold hover:bg-[var(--primary-color-700)] transition-all shadow-md",children:[y.jsx(Ml,{size:20})," Nuevo Usuario"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(_=>{var A;return y.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm group hover:border-[var(--primary-color-100)] transition-all",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("img",{src:_.avatar,alt:_.name,className:"w-12 h-12 rounded-full border-2 border-slate-50"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-slate-800",children:_.name}),y.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-bold uppercase ${_.role==="ADMIN"?"text-[var(--primary-color-600)]":"text-slate-400"}`,children:[y.jsx(S8,{size:10})," ",_.role]})]})]}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>c(_.id),className:"p-2 text-slate-300 hover:text-[var(--primary-color-600)] hover:bg-[var(--primary-color-50)] rounded-lg transition-all",children:y.jsx(vv,{size:18})}),y.jsx("button",{onClick:()=>n(_.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:y.jsx(xv,{size:18})})]})]}),y.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[y.jsx(Gl,{size:14,className:"opacity-50"})," ",_.email]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[y.jsx(O4,{size:14,className:"opacity-50"})," Sueldo: ",y.jsxs("span",{className:"font-bold text-slate-800",children:["$",(A=_.baseSalary)==null?void 0:A.toLocaleString()]})]}),y.jsx("button",{onClick:()=>c(_.id),className:"text-[10px] font-bold text-[var(--primary-color-600)] hover:underline",children:"Ver Ficha Laboral"})]})]})]},_.id)})}),a&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl p-8 animate-in zoom-in duration-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold",children:"Aadir Nuevo Usuario"}),y.jsx("button",{onClick:()=>s(!1),children:y.jsx(po,{size:24,className:"text-slate-400"})})]}),y.jsxs("form",{onSubmit:p,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest border-b pb-1",children:"Datos Personales"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Nombre Completo"}),y.jsx("input",{required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.name,onChange:_=>h({...f,name:_.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Email Corporativo"}),y.jsx("input",{required:!0,type:"email",className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.email,onChange:_=>h({...f,email:_.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"DNI / Documento"}),y.jsx("input",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.dni,onChange:_=>h({...f,dni:_.target.value})})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest border-b pb-1",children:"Datos Laborales"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Rol de Acceso"}),y.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.role,onChange:_=>h({...f,role:_.target.value}),children:[y.jsx("option",{value:"AGENT",children:"Agente (Acceso Limitado)"}),y.jsx("option",{value:"ADMIN",children:"Administrador (Acceso Total)"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Sueldo Base Mensual ($)"}),y.jsx("input",{type:"number",className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.baseSalary,onChange:_=>h({...f,baseSalary:Number(_.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Fecha de Ingreso"}),y.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.hireDate,onChange:_=>h({...f,hireDate:_.target.value})})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"CBU / Datos Bancarios"}),y.jsx("textarea",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl resize-none",rows:2,value:f.bankDetails,onChange:_=>h({...f,bankDetails:_.target.value})})]}),y.jsx("button",{className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl mt-4 shadow-lg shadow-[var(--primary-color-shadow)]",children:"Guardar Usuario y Ficha Laboral"})]})]})})]})},zxe=({tasks:t,users:e,currentUser:n,onAdd:r,onUpdateStatus:i,onDelete:a,onSendEmailReminder:s})=>{const[u,c]=C.useState(!1),[f,h]=C.useState({title:"",description:"",dueDate:new Date().toISOString().split("T")[0],priority:"MEDIUM",assignedTo:"ALL"}),p=S=>{S.preventDefault(),r({...f,id:Date.now().toString(),status:"TODO",createdBy:n.id,notified:!1}),c(!1)},g=n.role==="ADMIN"?t:t.filter(S=>S.assignedTo===n.id||S.assignedTo==="ALL"),_=S=>{switch(S){case"HIGH":return"bg-red-100 text-red-600";case"MEDIUM":return"bg-amber-100 text-amber-600";default:return"bg-blue-100 text-blue-600"}},A=S=>S==="ALL"?{name:"Todo el equipo",email:"all@inmoai.com",avatar:""}:e.find(w=>w.id===S)||{name:"Desconocido",email:"unknown@example.com",avatar:""};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Tareas y Seguimiento"}),y.jsx("p",{className:"text-slate-500",children:"Organiza las actividades pendientes de la agencia."})]}),y.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-[var(--primary-color-600)] text-white rounded-xl font-bold shadow-md hover:bg-[var(--primary-color-700)] transition-all",children:[y.jsx(Ml,{size:20})," Nueva Tarea"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:["TODO","IN_PROGRESS","DONE"].map(S=>y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${S==="TODO"?"bg-slate-300":S==="IN_PROGRESS"?"bg-[var(--primary-color-600)]":"bg-emerald-500"}`}),S==="TODO"?"Pendiente":S==="IN_PROGRESS"?"En Proceso":"Completado",y.jsx("span",{className:"ml-auto bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full text-[10px]",children:g.filter(w=>w.status===S).length})]}),y.jsx("div",{className:"space-y-3 min-h-[50vh]",children:g.filter(w=>w.status===S).map(w=>{const I=A(w.assignedTo);return y.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow group relative",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold ${_(w.priority)}`,children:w.priority}),y.jsx("button",{onClick:()=>a(w.id),className:"opacity-0 group-hover:opacity-100 transition-opacity text-slate-300 hover:text-red-500",children:y.jsx(xv,{size:14})})]}),y.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:w.title}),y.jsx("p",{className:"text-xs text-slate-500 mb-4 line-clamp-2",children:w.description}),y.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[y.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400 font-medium",children:[y.jsx(Zd,{size:12})," ",w.dueDate]}),y.jsx("div",{className:"flex -space-x-2",children:w.assignedTo==="ALL"?y.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center border border-white text-slate-400",title:"Todo el equipo",children:y.jsx(qT,{size:12})}):y.jsx("img",{src:I.avatar,className:"w-6 h-6 rounded-full border border-white",alt:"Asignado",title:I.name})})]}),y.jsx("div",{className:"mt-4 flex gap-2",children:S!=="DONE"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>i(w.id,S==="TODO"?"IN_PROGRESS":"DONE"),className:"flex-1 py-1.5 text-[10px] font-bold bg-slate-50 hover:bg-[var(--primary-color-50)] hover:text-[var(--primary-color-600)] rounded-lg transition-colors flex items-center justify-center gap-1",children:S==="TODO"?"Empezar":"Finalizar"}),y.jsx("button",{onClick:()=>s(w,I.name,I.email),className:"w-10 h-8 p-1.5 bg-slate-50 hover:bg-[var(--primary-color-50)] hover:text-[var(--primary-color-600)] text-slate-400 rounded-lg transition-colors flex items-center justify-center",title:"Enviar recordatorio por email",children:y.jsx(Gl,{size:16})})]})})]},w.id)})})]},S))}),u&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg p-8 animate-in zoom-in duration-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold",children:"Crear Nueva Tarea"}),y.jsx("button",{onClick:()=>c(!1),children:y.jsx(po,{size:24,className:"text-slate-400"})})]}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ttulo"}),y.jsx("input",{required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl",placeholder:"Ej. Contactar interesado por Penthouse",value:f.title,onChange:S=>h({...f,title:S.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Descripcin"}),y.jsx("textarea",{rows:3,className:"w-full px-4 py-3 border border-slate-200 rounded-xl resize-none",value:f.description,onChange:S=>h({...f,description:S.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Fecha Lmite"}),y.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.dueDate,onChange:S=>h({...f,dueDate:S.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Prioridad"}),y.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.priority,onChange:S=>h({...f,priority:S.target.value}),children:[y.jsx("option",{value:"LOW",children:"Baja"}),y.jsx("option",{value:"MEDIUM",children:"Media"}),y.jsx("option",{value:"HIGH",children:"Alta"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Asignar a:"}),y.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl",value:f.assignedTo,onChange:S=>h({...f,assignedTo:S.target.value}),children:[y.jsx("option",{value:"ALL",children:"Todo el equipo"}),e.map(S=>y.jsxs("option",{value:S.id,children:[S.name," (",S.role,")"]},S.id))]})]}),y.jsx("button",{className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl mt-4",children:"Asignar Tarea"})]})]})})]})},Fxe=({config:t,onSave:e})=>{const[n,r]=C.useState(t),[i,a]=C.useState(!1),s=u=>{u.preventDefault(),e(n),a(!0),setTimeout(()=>a(!1),3e3)};return y.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Configuracin del Sistema"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Personaliza la identidad y parmetros globales de tu agencia."})]}),i&&y.jsx("div",{className:"bg-emerald-50 text-emerald-600 px-4 py-2 rounded-xl text-sm font-bold animate-in fade-in zoom-in",children:"Configuracin guardada!"})]}),y.jsxs("form",{onSubmit:s,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-8 text-center",children:[y.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6",children:"Identidad Visual"}),y.jsx("div",{className:"relative group mx-auto w-32 h-32 mb-6",children:y.jsx("div",{className:"w-full h-full rounded-2xl bg-slate-50 border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:n.logoUrl?y.jsx("img",{src:n.logoUrl,alt:"Logo Preview",className:"w-full h-full object-contain p-2"}):y.jsx(N4,{size:48,className:"text-slate-200"})})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"URL del Logo"}),y.jsx("input",{type:"text",className:"w-full px-4 py-2 text-xs border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",placeholder:"https://tuempresa.com/logo.png",value:n.logoUrl,onChange:u=>r({...n,logoUrl:u.target.value})})]})]}),y.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx(u8,{size:20,className:"text-[var(--primary-color-400)]"}),y.jsx("h3",{className:"font-bold",children:"Colores de la Marca"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:"Color Principal"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"color",className:"w-10 h-10 rounded-lg border-none overflow-hidden cursor-pointer",value:n.primaryColor,onChange:u=>r({...n,primaryColor:u.target.value}),title:"Seleccionar color principal"}),y.jsx("input",{type:"text",className:"flex-1 bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-[var(--primary-color-600)] outline-none uppercase font-mono",value:n.primaryColor,onChange:u=>r({...n,primaryColor:u.target.value})})]}),y.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Este color se usar en toda la interfaz."})]})]}),y.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx(zT,{size:20,className:"text-[var(--primary-color-400)]"}),y.jsx("h3",{className:"font-bold",children:"Pagos Agencia"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:"Alias para Servicios"}),y.jsx("input",{type:"text",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-[var(--primary-color-600)] outline-none uppercase font-mono",placeholder:"EJ: MI.ALIA.PAGO",value:n.realEstateAlias,onChange:u=>r({...n,realEstateAlias:u.target.value.toUpperCase()})}),y.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Este alias se mostrar a los clientes para el pago de servicios/gastos."})]})]})]}),y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-8",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[y.jsx(Qd,{size:16}),"Informacin de la Empresa"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nombre Comercial"}),y.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:n.name,onChange:u=>r({...n,name:u.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:n.email,onChange:u=>r({...n,email:u.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"WhatsApp / Tel"}),y.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:n.phone,onChange:u=>r({...n,phone:u.target.value})})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Direccin"}),y.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:n.address,onChange:u=>r({...n,address:u.target.value})})]})]}),y.jsx("div",{className:"mt-10 pt-8 border-t border-slate-50",children:y.jsxs("button",{type:"submit",className:"w-full md:w-auto px-8 py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-2xl hover:bg-[var(--primary-color-700)] transition-all shadow-lg shadow-[var(--primary-color-shadow)] flex items-center justify-center gap-2",children:[y.jsx(yv,{size:20})," Guardar Cambios"]})})]})})]})]})},qxe=({users:t,owners:e,tenants:n,config:r,onLoginStaff:i,onLoginOwner:a,onLoginTenant:s})=>{const[u,c]=C.useState("SELECT"),[f,h]=C.useState(""),[p,g]=C.useState(""),_=w=>{w.preventDefault();const I=t.find(O=>O.name.toLowerCase()===f.toLowerCase());I?i(I):g("Usuario no encontrado.")},A=w=>{w.preventDefault();const I=e.find(O=>O.dni===f);I?a(I):g("DNI no registrado como propietario.")},S=w=>{w.preventDefault();const I=n.find(O=>O.dni===f);I?s(I):g("DNI no registrado como inquilino.")};return y.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-20 h-20 bg-[var(--primary-color-600)] rounded-3xl mx-auto flex items-center justify-center shadow-xl shadow-[var(--primary-color-shadow)] mb-4 overflow-hidden",children:r.logoUrl?y.jsx("img",{src:r.logoUrl,alt:"Logo",className:"w-full h-full object-contain p-2"}):y.jsx(Qd,{size:40,className:"text-white"})}),y.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:r.name})]}),y.jsx("div",{className:"bg-white rounded-[2rem] shadow-xl border border-slate-100 overflow-hidden",children:u==="SELECT"?y.jsxs("div",{className:"p-8 space-y-3",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800 text-center mb-6",children:"Identifcate para ingresar"}),y.jsxs("button",{onClick:()=>c("STAFF"),className:"w-full p-5 bg-slate-50 hover:bg-[var(--primary-color-50)] border border-slate-100 rounded-2xl flex items-center gap-4 transition-all",children:[y.jsx(E8,{className:"text-[var(--primary-color-600)]"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-slate-800",children:"Staff"}),y.jsx("p",{className:"text-[10px] text-slate-500",children:"Panel administrativo"})]})]}),y.jsxs("button",{onClick:()=>c("OWNER"),className:"w-full p-5 bg-slate-50 hover:bg-[var(--primary-color-50)] border border-slate-100 rounded-2xl flex items-center gap-4 transition-all",children:[y.jsx(Y_,{className:"text-[var(--primary-color-600)]"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-slate-800",children:"Propietario"}),y.jsx("p",{className:"text-[10px] text-slate-500",children:"Ver mis propiedades"})]})]}),y.jsxs("button",{onClick:()=>c("TENANT"),className:"w-full p-5 bg-slate-50 hover:bg-[var(--primary-color-50)] border border-slate-100 rounded-2xl flex items-center gap-4 transition-all",children:[y.jsx(Jm,{className:"text-[var(--primary-color-600)]"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-slate-800",children:"Inquilino / Cliente"}),y.jsx("p",{className:"text-[10px] text-slate-500",children:"Pagar alquiler y servicios"})]})]})]}):y.jsxs("div",{className:"p-8",children:[y.jsx("button",{onClick:()=>{c("SELECT"),g(""),h("")},className:"text-xs font-bold text-[var(--primary-color-600)] mb-4",children:" Volver"}),y.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:u==="STAFF"?"Ingreso Staff":u==="OWNER"?"Portal Propietario":"Portal Inquilino"}),y.jsxs("form",{onSubmit:u==="STAFF"?_:u==="OWNER"?A:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:u==="STAFF"?"Nombre":"DNI"}),y.jsx("input",{required:!0,type:u==="STAFF"?"text":"number",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none",value:f,onChange:w=>h(w.target.value)}),p&&y.jsx("p",{className:"text-red-500 text-[10px] mt-2 font-bold",children:p})]}),y.jsx("button",{type:"submit",className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl shadow-lg",children:"Ingresar"})]})]})})]})})},$xe=({client:t,isOwner:e,properties:n,bills:r,config:i,onLogout:a,onUpdateBillStatus:s,owners:u})=>{const[c,f]=C.useState(!1),[h,p]=C.useState([]),[g,_]=C.useState(!1),[A,S]=C.useState(!1),I=(e?n.filter(U=>U.ownerId===t.id):n.filter(U=>U.tenantId===t.id)).map(U=>U.id),O=r.filter(U=>I.includes(U.propertyId)),P=O.filter(U=>U.status==="PENDING"),B=P.reduce((U,de)=>U+de.amount,0),L=U=>U.toLocaleString("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0}),z=U=>{if(U.type===Ut.RENT){const de=n.find(me=>me.id===U.propertyId);if(de&&de.ownerId){const me=u.find(W=>W.id===de.ownerId);return(me==null?void 0:me.paymentAlias)||"ALIAS.PROPIETARIO.NO.CONFIG"}return"ALIAS.DUENO.DIRECTO"}return i.realEstateAlias||"INMO.AI.ELITE"},D=(U,de)=>{p(de?me=>[...me,U]:me=>me.filter(W=>W.id!==U.id))},k=U=>{S(U),p(U?P:[])},j=()=>{h.forEach(U=>{s(U.id,"PAID")}),_(!0)},F=()=>{f(!1),p([]),_(!1),S(!1)},q=()=>{const U=h.map(me=>{var oe;const W=((oe=n.find(ge=>ge.id===me.propertyId))==null?void 0:oe.title)||"tu propiedad";return`- *${me.type}* (${W}): ${L(me.amount)}`}).join(`
`),de=`Hola! Soy ${t.name}.

He realizado el pago de los siguientes conceptos:
${U}

*Monto Total Transferido:* ${L(h.reduce((me,W)=>me+W.amount,0))} ARS

Por favor, revisa el comprobante que adjunto a continuacin. Muchas gracias!`;window.open(`https://wa.me/${i.phone.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(de)}`,"_blank")},$=()=>{if(h.length===0){alert("Por favor, selecciona al menos una factura para pagar.");return}f(!0)};return y.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[y.jsxs("header",{className:"bg-white border-b px-6 h-16 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-[var(--primary-color-600)] rounded-lg flex items-center justify-center",children:y.jsx(uc,{size:18,className:"text-white"})}),y.jsxs("span",{className:"font-bold text-slate-800",children:[i.name," | Portal ARS"]})]}),y.jsxs("button",{onClick:a,className:"text-slate-400 hover:text-red-500 font-bold text-sm flex items-center gap-2",children:[y.jsx(I4,{size:18})," Salir"]})]}),y.jsxs("main",{className:"flex-1 p-4 md:p-8 max-w-6xl mx-auto w-full",children:[y.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-6 mb-8",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("div",{className:"w-20 h-20 rounded-full bg-[var(--primary-color-100)] text-[var(--primary-color-600)] flex items-center justify-center text-3xl font-bold",children:t.name.charAt(0)}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Hola, ",t.name]}),y.jsx("p",{className:"text-slate-500",children:"Valores expresados en Pesos Argentinos."})]})]}),y.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white text-center md:text-left min-w-[200px]",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Total Pendiente (ARS)"}),y.jsx("p",{className:"text-3xl font-bold text-[var(--primary-color-400)]",children:L(B)})]})]}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:y.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[" ",y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Es,{size:18,className:"text-[var(--primary-color-600)]"}),"Pagos y Facturas"]}),y.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 text-[10px] font-bold text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:y.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-[var(--primary-color-600)] focus:ring-[var(--primary-color-600)]",checked:A&&P.length>0,onChange:U=>k(U.target.checked),disabled:P.length===0})}),y.jsx("th",{className:"px-6 py-4",children:"Concepto"}),y.jsx("th",{className:"px-6 py-4",children:"Propiedad"}),y.jsx("th",{className:"px-6 py-4",children:"Vencimiento"}),y.jsx("th",{className:"px-6 py-4",children:"Monto (ARS)"}),y.jsx("th",{className:"px-6 py-4",children:"Estado"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-50",children:[O.map(U=>{var de;return y.jsxs("tr",{className:"hover:bg-slate-50",children:[y.jsx("td",{className:"px-6 py-4",children:U.status==="PENDING"&&y.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-[var(--primary-color-600)] focus:ring-[var(--primary-color-600)]",checked:h.some(me=>me.id===U.id),onChange:me=>D(U,me.target.checked)})}),y.jsx("td",{className:"px-6 py-4 font-bold text-slate-800 text-sm",children:U.type}),y.jsx("td",{className:"px-6 py-4 text-xs text-slate-600",children:((de=n.find(me=>me.id===U.propertyId))==null?void 0:de.title)||"N/A"}),y.jsx("td",{className:"px-6 py-4 text-xs text-slate-500",children:new Date(U.date).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:L(U.amount)}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${U.status==="PAID"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:U.status==="PAID"?"Abonado":"Pendiente"})})]},U.id)}),O.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"text-center py-10 text-slate-400",children:"No tienes facturas en este momento."})})]})]})}),h.length>0&&y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("button",{onClick:$,className:"px-8 py-3 bg-[var(--primary-color-600)] text-white font-bold rounded-xl shadow-lg hover:bg-[var(--primary-color-700)] transition-colors flex items-center gap-2",children:[y.jsx(md,{size:20})," Pagar Seleccionados (",h.length,")"]})})]})})]}),c&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg p-8 animate-in zoom-in",children:g?y.jsxs("div",{className:"text-center p-4",children:[y.jsx(md,{size:64,className:"text-emerald-500 mx-auto mb-4"}),y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Pago Registrado!"}),y.jsx("p",{className:"text-slate-600 mb-6",children:"Por favor, enva el comprobante de pago a la inmobiliaria va WhatsApp para que podamos verificarlo."}),y.jsxs("button",{onClick:q,className:"w-full py-4 bg-emerald-500 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg mb-3 hover:bg-emerald-600 transition-colors",children:[y.jsx(Om,{size:20})," Enviar Comprobante por WhatsApp"]}),y.jsx("button",{onClick:F,className:"w-full py-3 text-slate-400 font-bold text-sm hover:text-slate-600 transition-colors",children:"Cerrar"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Confirmar Pago"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Estas son las facturas que vas a marcar como pagadas:"})]}),y.jsx("div",{className:"max-h-60 overflow-y-auto pr-2 mb-6 space-y-3",children:h.map(U=>{var de;return y.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-800",children:U.type}),y.jsx("p",{className:"text-xs text-slate-500",children:(de=n.find(me=>me.id===U.propertyId))==null?void 0:de.title})]}),y.jsx("p",{className:"font-bold text-[var(--primary-color-600)]",children:L(U.amount)})]},U.id)})}),y.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl mb-6",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Monto Total a Transferir"}),y.jsx("p",{className:"text-3xl font-bold text-[var(--primary-color-600)]",children:L(h.reduce((U,de)=>U+de.amount,0))})]}),y.jsxs("div",{className:"p-4 bg-slate-900 text-white rounded-xl mb-6",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Alias de Transferencia"}),y.jsxs("div",{className:"flex items-center justify-between mt-1",children:[y.jsx("p",{className:"text-lg font-bold font-mono",children:z(h[0])}),y.jsx("button",{onClick:()=>{navigator.clipboard.writeText(z(h[0])),alert("Alias copiado!")},className:"p-1.5 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",title:"Copiar alias",children:y.jsx(L9,{size:16})})]})]}),y.jsxs("button",{onClick:j,className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg mb-3 hover:bg-[var(--primary-color-700)] transition-colors",children:[y.jsx(md,{size:20})," Ya Pagu / Marcar como Pagado"]}),y.jsx("button",{onClick:F,className:"w-full py-3 text-slate-400 font-bold text-sm hover:text-slate-600 transition-colors",children:"Cancelar"})]})})})]})},Hxe=({tenant:t,properties:e,owners:n,bills:r,onBack:i,onUpdateTenant:a})=>{var O;const[s,u]=C.useState(!1),[c,f]=C.useState(t),h=e.find(P=>P.tenantId===t.id),p=h?n.find(P=>P.id===h.ownerId):null,g=h?r.filter(P=>P.propertyId===h.id):[],_=g.filter(P=>P.status==="PENDING"),A=_.reduce((P,B)=>P+B.amount,0),S=P=>{f({...c,[P.target.name]:P.target.value})},w=()=>{if(!c.name||!c.email||!c.phone||!c.dni||!c.rentAmount||!c.contractStart||!c.contractEnd){alert("Por favor, completa todos los campos obligatorios.");return}a(t.id,{name:c.name,email:c.email,phone:c.phone,dni:c.dni,rentAmount:Number(c.rentAmount),contractStart:c.contractStart,contractEnd:c.contractEnd}),u(!1)},I=()=>{f(t),u(!1)};return y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-[var(--primary-color-600)] transition-colors",children:y.jsx(BT,{size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ficha del Inquilino"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Informacin contractual y estado de cuenta."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-8 text-center relative overflow-hidden",children:[y.jsx("button",{onClick:()=>u(!s),className:"absolute top-4 right-4 p-2 bg-slate-50 text-slate-400 rounded-full hover:bg-[var(--primary-color-50)] hover:text-[var(--primary-color-600)] transition-colors",title:s?"Cancelar edicin":"Editar informacin",children:s?y.jsx(po,{size:18}):y.jsx(P4,{size:18})}),y.jsx("div",{className:"absolute top-0 right-0 p-4",children:y.jsx("span",{className:"bg-[var(--primary-color-50)] text-[var(--primary-color-600)] text-[10px] font-bold px-2 py-1 rounded-md uppercase",children:"Activo"})}),y.jsx("div",{className:"w-24 h-24 rounded-3xl bg-[var(--primary-color-50)] text-[var(--primary-color-600)] flex items-center justify-center text-3xl font-bold mx-auto mb-4 border-2 border-white shadow-sm",children:(O=s?c.name:t.name)==null?void 0:O.charAt(0)}),s?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:S,className:"w-full text-xl font-bold text-slate-800 text-center mb-2 px-3 py-2 border border-slate-200 rounded-lg outline-none",required:!0}),y.jsxs("p",{className:"text-xs text-slate-400 font-mono mb-6",children:["DNI:",y.jsx("input",{type:"number",name:"dni",value:c.dni||"",onChange:S,className:"inline-block w-24 ml-2 px-2 py-1 border border-slate-200 rounded-lg text-sm text-center outline-none",required:!0})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:t.name}),y.jsxs("p",{className:"text-xs text-slate-400 font-mono mb-6",children:["DNI: ",t.dni]})]}),y.jsx("div",{className:"space-y-3 text-left",children:s?y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:S,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Telfono"}),y.jsx("input",{type:"text",name:"phone",value:c.phone||"",onChange:S,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",required:!0})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsxs("button",{type:"button",onClick:w,className:"flex-1 py-3 bg-[var(--primary-color-600)] text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-[var(--primary-color-700)] transition-colors shadow-lg",children:[y.jsx(yv,{size:18})," Guardar"]}),y.jsxs("button",{type:"button",onClick:I,className:"flex-1 py-3 bg-slate-200 text-slate-700 font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-slate-300 transition-colors",children:[y.jsx(po,{size:18})," Cancelar"]})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl text-slate-600 text-sm hover:bg-[var(--primary-color-50)] hover:text-[var(--primary-color-600)] transition-colors",children:[y.jsx(Gl,{size:18,className:"text-[var(--primary-color-400)]"}),y.jsx("span",{className:"truncate",children:t.email})]}),y.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl text-slate-600 text-sm hover:bg-[var(--primary-color-50)] hover:text-[var(--primary-color-600)] transition-colors",children:[y.jsx(Sd,{size:18,className:"text-[var(--primary-color-400)]"}),y.jsx("span",{children:t.phone})]})]})}),y.jsx("div",{className:"mt-8 pt-6 border-t border-slate-50",children:y.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 text-white",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Deuda Total"}),y.jsxs("p",{className:`text-2xl font-bold ${A>0?"text-rose-400":"text-emerald-400"}`,children:["$",A.toLocaleString()]})]})})]}),y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm p-6 space-y-4",children:[y.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2 border-b pb-3",children:[y.jsx(Jm,{size:18,className:"text-[var(--primary-color-600)]"}),"Datos del Alquiler"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"Propiedad"}),y.jsx("p",{className:"text-sm font-bold text-slate-700",children:h?h.title:"No asignada"}),y.jsx("p",{className:"text-xs text-slate-500",children:h==null?void 0:h.address})]}),p&&y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"Propietario / Dueo"}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold",children:p.name.charAt(0)}),y.jsx("p",{className:"text-xs font-medium text-slate-600",children:p.name})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"Inicio Contrato"}),s?y.jsx("input",{type:"date",name:"contractStart",value:c.contractStart||"",onChange:S,className:"w-full px-2 py-1 border border-slate-200 rounded-lg text-xs outline-none",required:!0}):y.jsx("p",{className:"text-xs font-bold text-slate-700",children:t.contractStart})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"Vencimiento Contrato"}),s?y.jsx("input",{type:"date",name:"contractEnd",value:c.contractEnd||"",onChange:S,className:"w-full px-2 py-1 border border-slate-200 rounded-lg text-xs outline-none",required:!0}):y.jsx("p",{className:"text-xs font-bold text-slate-700",children:t.contractEnd||"Indefinido"})]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"Monto Alquiler Mensual (ARS $)"}),s?y.jsx("input",{type:"number",name:"rentAmount",value:c.rentAmount||"",onChange:S,className:"w-full px-2 py-1 border border-slate-200 rounded-lg text-sm font-bold outline-none",required:!0}):y.jsxs("p",{className:"text-sm font-bold text-slate-700",children:["$",t.rentAmount.toLocaleString()]})]})]})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/30",children:[y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Es,{size:20,className:"text-[var(--primary-color-600)]"}),"Historial de Recibos y Servicios"]}),A>0&&y.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-rose-600 bg-rose-50 px-3 py-1.5 rounded-full",children:[y.jsx(Wm,{size:14})," ",_.length," Pagos Atrasados"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Concepto"}),y.jsx("th",{className:"px-6 py-4",children:"Vencimiento"}),y.jsx("th",{className:"px-6 py-4",children:"Importe"}),y.jsx("th",{className:"px-6 py-4",children:"Estado"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Accin"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:g.length>0?[...g].sort((P,B)=>B.date.localeCompare(P.date)).map(P=>y.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-xl ${P.type===Ut.RENT?"bg-[var(--primary-color-50)] text-[var(--primary-color-600)]":P.type===Ut.ELECTRICITY?"bg-yellow-50 text-yellow-600":"bg-slate-50 text-slate-600"}`,children:P.type===Ut.RENT?y.jsx(Jm,{size:16}):y.jsx(bv,{size:16})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-800",children:P.type}),y.jsxs("p",{className:"text-[10px] text-slate-400 font-mono",children:["Ref: ",P.contractNumber]})]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 font-medium",children:[y.jsx(Zd,{size:14,className:"text-slate-300"}),new Date(P.date).toLocaleDateString()]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("p",{className:"text-sm font-bold text-slate-800",children:["$",P.amount.toLocaleString()]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("div",{className:`flex items-center gap-1.5 text-[10px] font-bold px-2.5 py-1 rounded-full w-fit ${P.status==="PAID"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:P.status==="PAID"?"Abonado":"Pendiente"})}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsx("button",{className:"text-[var(--primary-color-600)] hover:text-[var(--primary-color-800)] font-bold text-[10px] bg-[var(--primary-color-50)] hover:bg-[var(--primary-color-100)] px-3 py-1.5 rounded-lg transition-all",children:"Ver Recibo"})})]},P.id)):y.jsx("tr",{children:y.jsx("td",{colSpan:5,className:"px-6 py-20 text-center",children:y.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[y.jsx(Es,{size:64}),y.jsx("p",{className:"text-sm font-medium",children:"Este inquilino no tiene facturas cargadas an."})]})})})})]})})]}),y.jsxs("div",{className:"bg-[var(--primary-color-600)] rounded-3xl p-6 text-white flex items-center justify-between shadow-xl shadow-[var(--primary-color-shadow)]",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:y.jsx(Wm,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold",children:"Notificar Deuda"}),y.jsx("p",{className:"text-xs text-[var(--primary-color-100)]",children:"Enva un recordatorio por WhatsApp con el saldo pendiente."})]})]}),y.jsx("button",{className:"px-6 py-3 bg-white text-[var(--primary-color-600)] font-bold rounded-xl text-sm hover:bg-[var(--primary-color-50)] transition-all",children:"Enviar Aviso"})]})]})]})]})},Gxe=({tenants:t,properties:e,owners:n,bills:r,onAdd:i,onDelete:a,onUpdateTenant:s})=>{const[u,c]=C.useState(!1),[f,h]=C.useState(""),[p,g]=C.useState(""),[_,A]=C.useState(null),[S,w]=C.useState({name:"",dni:"",email:"",phone:"",rentAmount:0,contractStart:new Date().toISOString().split("T")[0],contractEnd:""}),I=e.filter(k=>k.status===yi.AVAILABLE),O=k=>k.toLocaleString("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0}),P=t.filter(k=>k.name.toLowerCase().includes(f.toLowerCase())||k.dni.includes(f)),B=k=>{if(!k)return!1;const j=new Date,q=new Date(k).getTime()-j.getTime(),$=Math.ceil(q/(1e3*60*60*24));return $>=0&&$<=30},L=k=>{if(!k)return!1;const j=new Date;return new Date(k)<j},z=k=>{k.preventDefault(),i({...S,id:""},p),c(!1),w({name:"",dni:"",email:"",phone:"",rentAmount:0,contractStart:new Date().toISOString().split("T")[0],contractEnd:""}),g("")},D=t.find(k=>k.id===_);return D?y.jsx(Hxe,{tenant:D,properties:e,owners:n,bills:r,onBack:()=>A(null),onUpdateTenant:s}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Mdulo de Inquilinos"}),y.jsx("p",{className:"text-slate-500",children:"Gestin de alquileres en pesos argentinos."})]}),y.jsxs("button",{onClick:()=>c(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[var(--primary-color-600)] text-white rounded-xl hover:bg-[var(--primary-color-700)] transition-all shadow-md font-semibold",children:[y.jsx(Ml,{size:20})," Registrar Inquilino"]})]}),y.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),y.jsx("input",{type:"text",placeholder:"Buscar por nombre o DNI...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-[var(--primary-color-600)]",value:f,onChange:k=>h(k.target.value)})]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(k=>{const j=e.find($=>$.tenantId===k.id);j&&n.find($=>$.id===j.ownerId);const F=B(k.contractEnd),q=L(k.contractEnd);return y.jsxs("div",{onClick:()=>A(k.id),className:`bg-white p-6 rounded-3xl border shadow-sm hover:shadow-lg transition-all group cursor-pointer relative ${q?"border-red-200":F?"border-amber-200":"border-slate-100"}`,children:[q&&y.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[9px] font-black px-3 py-1 rounded-full flex items-center gap-1 shadow-lg z-10",children:[y.jsx(G_,{size:10})," CONTRATO VENCIDO"]}),F&&!q&&y.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-amber-500 text-white text-[9px] font-black px-3 py-1 rounded-full flex items-center gap-1 shadow-lg z-10",children:[y.jsx(G_,{size:10})," VENCE PRXIMAMENTE"]}),y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-xl group-hover:scale-110 transition-transform ${q?"bg-red-50 text-red-600":F?"bg-amber-50 text-amber-600":"bg-[var(--primary-color-50)] text-[var(--primary-color-600)]"}`,children:k.name.charAt(0)}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"DNI"}),y.jsx("span",{className:"text-sm font-bold text-slate-700",children:k.dni})]})]}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 group-hover:text-[var(--primary-color-600)] transition-colors",children:k.name}),y.jsx("div",{className:"space-y-3 mb-6",children:y.jsxs("div",{className:"pt-3 border-t border-slate-50 space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--primary-color-600)] font-bold",children:[y.jsx(uc,{size:14})," ",j?j.title:"Sin propiedad"]}),y.jsxs("div",{className:`flex items-center gap-2 text-[10px] font-bold ${q?"text-red-500":F?"text-amber-600":"text-slate-400"}`,children:[y.jsx(Zd,{size:12})," Vence: ",k.contractEnd||"Indefinido"]})]})}),y.jsxs("div",{className:"flex items-center justify-between pt-4 bg-slate-50 -mx-6 px-6 py-4 rounded-b-3xl",children:[y.jsxs("div",{className:"text-xs",children:[y.jsx("span",{className:"block text-slate-400 font-bold uppercase text-[9px]",children:"Mensualidad"}),y.jsx("span",{className:"text-slate-800 font-bold text-lg",children:O(k.rentAmount)})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx(vv,{size:18,className:"text-slate-300 group-hover:text-[var(--primary-color-600)] transition-colors"})})]})]},k.id)})}),u&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-xl p-8 animate-in zoom-in duration-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold",children:"Aadir Inquilino / Cliente"}),y.jsx("button",{onClick:()=>c(!1),children:y.jsx(po,{size:24,className:"text-slate-400"})})]}),y.jsxs("form",{onSubmit:z,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Monto Alquiler Mensual (ARS $)"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none",value:S.rentAmount,onChange:k=>w({...S,rentAmount:Number(k.target.value)})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Nombre Completo"}),y.jsx("input",{required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none",value:S.name,onChange:k=>w({...S,name:k.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"DNI (Para Acceso)"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none",value:S.dni,onChange:k=>w({...S,dni:k.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Asociar a Propiedad"}),y.jsxs("select",{required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none appearance-none bg-no-repeat bg-[right_1rem_center] text-sm",value:p,onChange:k=>g(k.target.value),children:[y.jsx("option",{value:"",children:"Seleccionar propiedad..."}),I.map(k=>y.jsx("option",{value:k.id,children:k.title},k.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Inicio Contrato"}),y.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none",value:S.contractStart,onChange:k=>w({...S,contractStart:k.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Vencimiento Contrato"}),y.jsx("input",{required:!0,type:"date",className:"w-full px-4 py-3 border border-slate-200 rounded-xl outline-none",value:S.contractEnd,onChange:k=>w({...S,contractEnd:k.target.value})})]})]}),y.jsx("button",{className:"w-full py-4 bg-[var(--primary-color-600)] text-white font-bold rounded-xl mt-4 shadow-lg",children:"Registrar Contrato en Pesos"})]})]})})]})};function UB(t){const e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,i=e&255;return{r:n,g:r,b:i}}function Kxe(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1).padStart(6,"0")}function VB(t,e){let{r:n,g:r,b:i}=UB(t);return n=Math.round(n*(100+e)/100),r=Math.round(r*(100+e)/100),i=Math.round(i*(100+e)/100),n=Math.min(255,Math.max(0,n)),r=Math.min(255,Math.max(0,r)),i=Math.min(255,Math.max(0,i)),Kxe(n,r,i)}const Zk=(t,e)=>VB(t,e),e4=(t,e)=>VB(t,-e);function Yxe(t,e){let{r:n,g:r,b:i}=UB(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const B_={name:"InmoAI Elite",logoUrl:"",address:"Av. Libertador 4500, Buenos Aires",email:"contacto@inmoai.com",phone:"+54 11 4444-5555",website:"www.inmoai.com",currency:"ARS",realEstateAlias:"INMO.AI.ELITE",primaryColor:"#4f46e5"},t4=[{id:"u1",name:"Admin Root",email:"admin@inmoai.com",role:"ADMIN",avatar:"https://ui-avatars.com/api/?name=Admin+Root&background=4f46e5&color=fff",baseSalary:85e4,hireDate:"2023-01-15",dni:"20-12345678-9",bankDetails:"CBU: 0000003100001234567890",payrollHistory:[]}],n4=[{id:"t1",dni:"99999999",name:"Julian Inquilino",email:"julian@email.com",phone:"+54 11 5555-1111",contractStart:"2024-01-01",contractEnd:"2024-05-15",rentAmount:45e4}],r4=[{id:"o1",dni:"12345678",name:"Carlos Rodrguez",email:"carlos@email.com",phone:"+54 11 0000-0001",paymentAlias:"CARLOS.RODRIGUEZ.X"},{id:"o2",dni:"87654321",name:"Marta Snchez",email:"marta@email.com",phone:"+54 11 0000-0002",paymentAlias:"MARTA.CASA.PROPIA"}],BB=()=>{const[t,e]=C.useState("NONE"),[n,r]=C.useState(null),[i,a]=C.useState(null),[s,u]=C.useState(B_),[c,f]=C.useState([]),[h,p]=C.useState([]),[g,_]=C.useState([]),[A,S]=C.useState([]),[w,I]=C.useState([]),[O,P]=C.useState([]),[B,L]=C.useState([]),[z,D]=C.useState(!0),[k,j]=C.useState("default");C.useEffect(()=>{(async()=>{D(!0);try{const Z=await Kk(Ct(ot,"companyConfig","main"));Z.exists()?u(Z.data()):(await mi(Ct(ot,"companyConfig","main"),B_),u(B_));const _e=Nr(ot,"users"),be=await gl(_e);if(be.empty){for(const nt of t4)await mi(Ct(ot,"users",nt.id),nt);p(t4)}else p(be.docs.map(nt=>({...nt.data(),id:nt.id})));const Se=Nr(ot,"owners"),We=await gl(Se);if(We.empty){for(const nt of r4)await mi(Ct(ot,"owners",nt.id),nt);I(r4)}else I(We.docs.map(nt=>({...nt.data(),id:nt.id})));const $t=Nr(ot,"tenants"),fr=await gl($t);if(fr.empty){for(const nt of n4)await mi(Ct(ot,"tenants",nt.id),nt);f(n4)}else f(fr.docs.map(nt=>({...nt.data(),id:nt.id})));const Yt=await gl(Nr(ot,"properties"));S(Yt.docs.map(nt=>({...nt.data(),id:nt.id})));const tn=await gl(Nr(ot,"leads"));P(tn.docs.map(nt=>({...nt.data(),id:nt.id})));const Qi=await gl(Nr(ot,"tasks"));_(Qi.docs.map(nt=>({...nt.data(),id:nt.id})));const $c=await gl(Nr(ot,"bills"));L($c.docs.map(nt=>({...nt.data(),id:nt.id})));const ja=sessionStorage.getItem("crm_auth_type"),Mn=sessionStorage.getItem("crm_current_user"),Zi=sessionStorage.getItem("crm_current_client");ja&&Mn?(e(ja),r(JSON.parse(Mn))):ja&&Zi&&(e(ja),a(JSON.parse(Zi)))}catch(Z){console.error("Error fetching or seeding data:",Z)}finally{D(!1)}})()},[]),C.useEffect(()=>{t!=="NONE"?(sessionStorage.setItem("crm_auth_type",t),n&&sessionStorage.setItem("crm_current_user",JSON.stringify(n)),i&&sessionStorage.setItem("crm_current_client",JSON.stringify(i))):(sessionStorage.removeItem("crm_auth_type"),sessionStorage.removeItem("crm_current_user"),sessionStorage.removeItem("crm_current_client"))},[t,n,i]),C.useEffect(()=>{if(s.primaryColor){const ue=s.primaryColor;document.documentElement.style.setProperty("--primary-color-50",Zk(ue,50)),document.documentElement.style.setProperty("--primary-color-100",Zk(ue,30)),document.documentElement.style.setProperty("--primary-color-600",ue),document.documentElement.style.setProperty("--primary-color-700",e4(ue,10)),document.documentElement.style.setProperty("--primary-color-gradient-from",ue),document.documentElement.style.setProperty("--primary-color-gradient-to",e4(ue,20)),document.documentElement.style.setProperty("--primary-color-shadow",Yxe(ue,.2))}},[s.primaryColor]),C.useEffect(()=>{"Notification"in window&&(j(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(ue=>{j(ue)}))},[]),C.useEffect(()=>{if(k==="granted"&&n){const ue=async()=>{const _e=new Date,be=new Date(_e.getTime()+2880*60*1e3);for(const Se of g){const We=new Date(Se.dueDate);(Se.status==="TODO"||Se.status==="IN_PROGRESS")&&We>_e&&We<=be&&!Se.notified&&(Se.assignedTo===n.id||Se.assignedTo==="ALL")&&(new Notification(`Tarea Pendiente: ${Se.title}`,{body:`Vence el ${new Date(Se.dueDate).toLocaleDateString()} - ${Se.description}`,icon:s.logoUrl||"/icon-192x192.png",badge:"/icon-192x192.png"}),await Ve(Se.id,Se.status,!0))}};ue();const Z=setInterval(ue,3600*1e3);return()=>clearInterval(Z)}},[g,n,k,s.logoUrl]);const F=()=>{e("NONE"),r(null),a(null)},q=async ue=>{const Z=Ct(Nr(ot,"properties"));await mi(Z,ue),S(_e=>[{...ue,id:Z.id},..._e])},$=async(ue,Z)=>{try{if(Z&&Z.length>0)for(const be of Z){const Se=RT(PT,be);await LB(Se),console.log(`Deleted image from storage: ${be}`)}await od(Ct(ot,"properties",ue)),S(be=>be.filter(Se=>Se.id!==ue)),f(be=>be.map(Se=>{var We;return Se.id===((We=A.find($t=>$t.id===ue))==null?void 0:We.tenantId)?{...Se,contractEnd:new Date().toISOString().split("T")[0]}:Se}));const _e=B.filter(be=>be.propertyId===ue);for(const be of _e)await od(Ct(ot,"bills",be.id));L(be=>be.filter(Se=>Se.propertyId!==ue))}catch(_e){console.error("Error deleting property or images:",_e),alert("Error al eliminar la propiedad o sus imgenes.")}},U=async ue=>{const Z=Ct(Nr(ot,"owners"));await mi(Z,ue),I(_e=>[..._e,{...ue,id:Z.id}])},de=async(ue,Z)=>{const _e=Ct(ot,"owners",ue);await ps(_e,Z),I(be=>be.map(Se=>Se.id===ue?{...Se,...Z}:Se))},me=async(ue,Z)=>{const _e=Ct(Nr(ot,"tenants"));if(await mi(_e,ue),f(be=>[...be,{...ue,id:_e.id}]),Z){const be=Ct(ot,"properties",Z);await ps(be,{tenantId:_e.id,status:yi.RENTED}),S(Se=>Se.map(We=>We.id===Z?{...We,tenantId:_e.id,status:yi.RENTED}:We))}},W=async(ue,Z)=>{const _e=Ct(ot,"tenants",ue);await ps(_e,Z),f(be=>be.map(Se=>Se.id===ue?{...Se,...Z}:Se))},oe=async ue=>{await od(Ct(ot,"tenants",ue)),f(_e=>_e.filter(be=>be.id!==ue));const Z=A.find(_e=>_e.tenantId===ue);if(Z){const _e=Ct(ot,"properties",Z.id);await ps(_e,{tenantId:null,status:yi.AVAILABLE}),S(be=>be.map(Se=>Se.tenantId===ue?{...Se,tenantId:void 0,status:yi.AVAILABLE}:Se))}},ge=async ue=>{const Z=Ct(Nr(ot,"leads"));await mi(Z,ue),P(_e=>[..._e,{...ue,id:Z.id}])},Te=async ue=>{const Z=Ct(Nr(ot,"bills"));await mi(Z,ue),L(_e=>[{...ue,id:Z.id},..._e])},De=async(ue,Z)=>{const _e=Ct(ot,"bills",ue);await ps(_e,{status:Z}),L(be=>be.map(Se=>Se.id===ue?{...Se,status:Z}:Se))},K=async ue=>{const Z=Ct(Nr(ot,"users"));await mi(Z,ue),p(_e=>[..._e,{...ue,id:Z.id}])},ae=async ue=>{await od(Ct(ot,"users",ue)),p(Z=>h.filter(_e=>_e.id!==ue))},ve=async(ue,Z)=>{const _e=Ct(ot,"users",ue);await ps(_e,Z),p(be=>be.map(Se=>Se.id===ue?{...Se,...Z}:Se)),(n==null?void 0:n.id)===ue&&r(be=>be?{...be,...Z}:null)},xe=async(ue,Z)=>{const _e=Ct(ot,"users",ue),be=await Kk(_e);if(be.exists()){const We=[...be.data().payrollHistory||[],Z];await ps(_e,{payrollHistory:We}),p($t=>$t.map(fr=>fr.id===ue?{...fr,payrollHistory:We}:fr))}},Oe=async ue=>{const Z=Ct(Nr(ot,"tasks"));await mi(Z,{...ue,notified:!1}),_(_e=>[..._e,{...ue,id:Z.id,notified:!1}])},Ve=async(ue,Z,_e)=>{const be=Ct(ot,"tasks",ue),Se={status:Z};_e!==void 0&&(Se.notified=_e),await ps(be,Se),_(We=>We.map($t=>$t.id===ue?{...$t,...Se}:$t))},je=async ue=>{await od(Ct(ot,"tasks",ue)),_(Z=>Z.filter(_e=>_e.id!==ue))},It=async ue=>{const Z=Ct(ot,"companyConfig","main");await mi(Z,ue),u(ue)},le=(ue,Z,_e)=>{console.log(`Sending email reminder for task: "${ue.title}" to ${Z} (Email: ${_e||"N/A"})`),alert(`Se ha enviado un recordatorio por email para la tarea: "${ue.title}" al usuario: ${Z}. (Requiere integracin de backend para envo real)`)};if(z)return y.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:y.jsxs("div",{className:"flex flex-col items-center gap-4 p-8 bg-white rounded-2xl shadow-lg",children:[y.jsx(Jxe,{size:48,className:"animate-spin text-[var(--primary-color-600)]"}),y.jsx("p",{className:"text-xl font-bold text-slate-800",children:"Cargando InmoAI Elite..."})]})});if(t==="NONE")return y.jsx(qxe,{users:h,owners:w,tenants:c,config:s,onLoginStaff:ue=>{e("STAFF"),r(ue)},onLoginOwner:ue=>{e("OWNER"),a(ue)},onLoginTenant:ue=>{e("TENANT"),a(ue)}});if((t==="OWNER"||t==="TENANT")&&i)return y.jsx($xe,{client:i,isOwner:t==="OWNER",properties:A,bills:B,config:s,onLogout:F,onUpdateBillStatus:De,owners:w});const ze=(n==null?void 0:n.role)==="ADMIN";return y.jsx(Zq,{children:y.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[y.jsx(Wxe,{user:n,config:s,onLogout:F,notificationPermission:k}),y.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[y.jsxs("header",{className:"h-16 bg-white border-b flex items-center justify-between px-6 shrink-0",children:[y.jsx("div",{className:"flex items-center gap-4",children:y.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-[var(--primary-color-gradient-from)] to-[var(--primary-color-gradient-to)] bg-clip-text text-transparent",children:s.name})}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("p",{className:"text-sm font-semibold",children:n==null?void 0:n.name}),y.jsx("p",{className:"text-xs text-slate-500",children:n==null?void 0:n.role})]}),y.jsx("img",{src:n==null?void 0:n.avatar,alt:"Avatar",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"})]})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:y.jsxs(Iq,{children:[y.jsx(qr,{path:"/",element:y.jsx(rse,{properties:A,owners:w,leads:O,tenants:c})}),y.jsx(qr,{path:"/properties",element:y.jsx(ise,{properties:A,owners:w,onDeleteProperty:$})}),y.jsx(qr,{path:"/properties/new",element:y.jsx(kxe,{onSave:q,owners:w,tenants:c})}),y.jsx(qr,{path:"/owners",element:y.jsx(ose,{owners:w,properties:A,bills:B,onAdd:U,onUpdateBillStatus:De,onUpdateOwner:de})}),y.jsx(qr,{path:"/tenants",element:y.jsx(Gxe,{tenants:c,properties:A,owners:w,bills:B,onAdd:me,onDelete:oe,onUpdateTenant:W})}),y.jsx(qr,{path:"/leads",element:y.jsx(sse,{leads:O,onAdd:ge})}),y.jsx(qr,{path:"/tasks",element:y.jsx(zxe,{tasks:g,users:h,currentUser:n,onAdd:Oe,onUpdateStatus:Ve,onDelete:je,onSendEmailReminder:le})}),y.jsx(qr,{path:"/utilities",element:ze?y.jsx(Uxe,{properties:A,bills:B,onAddBill:Te}):y.jsx(z_,{})}),y.jsx(qr,{path:"/users",element:ze?y.jsx(Bxe,{users:h,onAdd:K,onDelete:ae,onUpdatePayroll:xe,onUpdateUser:ve}):y.jsx(z_,{})}),y.jsx(qr,{path:"/settings",element:ze?y.jsx(Fxe,{config:s,onSave:It}):y.jsx(z_,{})}),y.jsx(qr,{path:"/ai-lab",element:y.jsx(Lxe,{properties:A,leads:O})}),y.jsx(qr,{path:"*",element:y.jsx(Cq,{to:"/",replace:!0})})]})})]})]})})},z_=()=>y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[y.jsx("div",{className:"p-6 bg-red-50 text-red-500 rounded-3xl mb-4",children:y.jsx(b8,{size:64})}),y.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Acceso Denegado"})]}),Wxe=({user:t,config:e,onLogout:n,notificationPermission:r})=>{const i=Ao(),a=t.role==="ADMIN",s=[{name:"Dashboard",icon:n8,path:"/"},{name:"Propiedades",icon:uc,path:"/properties"},{name:"Tareas",icon:D4,path:"/tasks"},{name:"Propietarios",icon:M9,path:"/owners"},{name:"Inquilinos",icon:Jm,path:"/tenants"},{name:"Servicios",icon:bv,path:"/utilities",hidden:!a},{name:"Leads",icon:qT,path:"/leads"},{name:"Usuarios",icon:j8,path:"/users",hidden:!a},{name:"Configuracin",icon:M4,path:"/settings",hidden:!a},{name:"AI Lab",icon:Qm,path:"/ai-lab"}],u=h=>{switch(h){case"granted":return"text-emerald-500";case"denied":return"text-red-500";default:return"text-amber-500"}},c=h=>{switch(h){case"granted":return"Notificaciones OK";case"denied":return"Notificaciones Bloq.";default:return"Notificaciones Pend."}},f=()=>{"Notification"in window?Notification.requestPermission().then(h=>{console.log("Notification permission requested:",h)}):alert("Tu navegador no soporta notificaciones.")};return y.jsxs("aside",{className:"hidden lg:flex flex-col w-64 bg-slate-900 text-slate-400 shrink-0",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 text-white mb-8",children:[y.jsx("div",{className:"w-10 h-10 bg-[var(--primary-color-600)] rounded-lg flex items-center justify-center overflow-hidden shrink-0 shadow-lg shadow-[var(--primary-color-shadow)]",children:e.logoUrl?y.jsx("img",{src:e.logoUrl,alt:"Logo",className:"w-full h-full object-contain p-1"}):y.jsx(Qd,{size:20})}),y.jsx("span",{className:"font-bold text-lg tracking-tight truncate",children:e.name})]}),y.jsx("nav",{className:"space-y-1",children:s.map(h=>{if(h.hidden)return null;const p=i.pathname===h.path;return y.jsxs(gv,{to:h.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p?"bg-[var(--primary-color-600)] text-white shadow-lg shadow-[var(--primary-color-shadow)]":"hover:bg-slate-800 hover:text-slate-200"}`,children:[y.jsx(h.icon,{size:20}),y.jsx("span",{className:"font-medium",children:h.name})]},h.path)})})]}),y.jsxs("div",{className:"mt-auto p-6 border-t border-slate-800 space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx(g9,{size:18,className:u(r)}),y.jsx("span",{className:u(r),children:c(r)}),r!=="granted"&&y.jsx("button",{onClick:f,className:"ml-auto text-[10px] text-slate-400 hover:text-white underline",children:"Habilitar"})]}),y.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg hover:bg-slate-800 hover:text-red-400 transition-colors",children:[y.jsx(I4,{size:20}),y.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]})]})},Jxe=({size:t,className:e})=>y.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[y.jsx("path",{d:"M12 2v4"}),y.jsx("path",{d:"M12 18v4"}),y.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),y.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),y.jsx("path",{d:"M2 12h4"}),y.jsx("path",{d:"M18 12h4"}),y.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),y.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}),zB=document.getElementById("root");if(!zB)throw new Error("Could not find root element to mount to");const Xxe=a4.createRoot(zB);Xxe.render(y.jsx(MT.StrictMode,{children:y.jsx(BB,{})}));const FB=document.getElementById("root");if(!FB)throw new Error("Could not find root element to mount to");const Qxe=a4.createRoot(FB);Qxe.render(y.jsx(MT.StrictMode,{children:y.jsx(BB,{})}));
